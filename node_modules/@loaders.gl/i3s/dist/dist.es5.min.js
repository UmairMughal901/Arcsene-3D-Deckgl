!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=104)}([function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return o}));var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},function(e,t,r){"use strict";r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return u})),r.d(t,"l",(function(){return s})),r.d(t,"m",(function(){return c})),r.d(t,"e",(function(){return l})),r.d(t,"s",(function(){return h})),r.d(t,"r",(function(){return d})),r.d(t,"o",(function(){return p})),r.d(t,"i",(function(){return y})),r.d(t,"p",(function(){return m})),r.d(t,"h",(function(){return b})),r.d(t,"q",(function(){return v})),r.d(t,"b",(function(){return _})),r.d(t,"a",(function(){return g})),r.d(t,"c",(function(){return E})),r.d(t,"d",(function(){return O})),r.d(t,"n",(function(){return T})),r.d(t,"j",(function(){return S})),r.d(t,"k",(function(){return R})),r.d(t,"t",(function(){return w}));var n=r(9);const i=1/Math.PI*180,o=1/180*Math.PI,a={};function u(e={}){for(const t in e)Object(n.a)(t in a),a[t]=e[t];return a}function s(e,{precision:t=a.precision||4}={}){return e=function(e){return Math.round(e/a.EPSILON)*a.EPSILON}(e),"".concat(parseFloat(e.toPrecision(t)))}function c(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function l(e){return e.clone?e.clone():new Array(...e)}function f(e,t,r){if(c(e)){r=r||((n=e).clone?n.clone():new Array(n.length));for(let n=0;n<r.length&&n<e.length;++n)r[n]=t(e[n],n,r);return r}var n;return t(e)}function h(e){return p(e)}function d(e){return y(e)}function p(e,t){return f(e,e=>e*o,t)}function y(e,t){return f(e,e=>e*i,t)}function m(e){return f(e,e=>Math.sin(e))}function b(e){return f(e,e=>Math.cos(e))}function v(e){return f(e,e=>Math.tan(e))}function _(e){return f(e,e=>Math.asin(e))}function g(e){return f(e,e=>Math.acos(e))}function E(e){return f(e,e=>Math.atan(e))}function O(e,t,r){return f(e,e=>Math.max(t,Math.min(r,e)))}function T(e,t,r){return c(e)?e.map((e,n)=>T(e,t[n],r)):r*t+(1-r)*e}function S(e,t,r){const n=a.EPSILON;r&&(a.EPSILON=r);try{if(e===t)return!0;if(c(e)&&c(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!S(e[r],t[r]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{a.EPSILON=n}}function R(e,t){if(e===t)return!0;if(e&&"object"==typeof e&&t&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(e.exactEquals)return e.exactEquals(t)}if(c(e)&&c(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!R(e[r],t[r]))return!1;return!0}return!1}function w(e,t){const r=a.EPSILON;let n;a.EPSILON=e;try{n=t()}finally{a.EPSILON=r}return n}a.EPSILON=1e-12,a.debug=!1,a.precision=4,a.printTypes=!1,a.printDegrees=!1,a.printRowMajor=!0},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return u}));var n=r(1);function i(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function o(e,t,r=""){if(n.f.debug&&!function(e,t){if(e.length!==t)return!1;for(let t=0;t<e.length;++t)if(!Number.isFinite(e[t]))return!1;return!0}(e,t))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return e}const a={};function u(e,t){a[e]||(a[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"h",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"m",(function(){return l})),r.d(t,"l",(function(){return f})),r.d(t,"n",(function(){return h})),r.d(t,"i",(function(){return d})),r.d(t,"j",(function(){return p})),r.d(t,"k",(function(){return y})),r.d(t,"a",(function(){return m})),r.d(t,"f",(function(){return v}));var n=r(0);function i(){var e=new n.a(3);return n.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function a(e,t,r){var i=new n.a(3);return i[0]=e,i[1]=t,i[2]=r,i}function u(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function s(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function c(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],u=r[1],s=r[2];return e[0]=i*s-o*u,e[1]=o*a-n*s,e[2]=n*u-i*a,e}function l(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function f(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function h(e,t,r){var n=r[0],i=r[1],o=r[2],a=r[3],u=t[0],s=t[1],c=t[2],l=i*c-o*s,f=o*u-n*c,h=n*s-i*u,d=i*h-o*f,p=o*l-n*h,y=n*f-i*l,m=2*a;return l*=m,f*=m,h*=m,d*=2,p*=2,y*=2,e[0]=u+l+d,e[1]=s+f+p,e[2]=c+h+y,e}function d(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function p(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function y(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function m(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],u=t[2],c=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(o*o+a*a+u*u),l=c&&s(e,t)/c;return Math.acos(Math.min(Math.max(l,-1),1))}var b,v=o;b=i()},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return i.assert}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return o.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return o.isWorker}}),Object.defineProperty(t,"nodeVersion",{enumerable:!0,get:function(){return o.nodeVersion}}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return o.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return o.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return o.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return o.document}}),Object.defineProperty(t,"createLoaderWorker",{enumerable:!0,get:function(){return a.createLoaderWorker}}),Object.defineProperty(t,"parseWithWorker",{enumerable:!0,get:function(){return u.parseWithWorker}}),Object.defineProperty(t,"canParseWithWorker",{enumerable:!0,get:function(){return u.canParseWithWorker}}),Object.defineProperty(t,"parseJSON",{enumerable:!0,get:function(){return s.parseJSON}}),Object.defineProperty(t,"toArrayBuffer",{enumerable:!0,get:function(){return c.toArrayBuffer}}),Object.defineProperty(t,"sliceArrayBuffer",{enumerable:!0,get:function(){return c.sliceArrayBuffer}}),Object.defineProperty(t,"concatenateArrayBuffers",{enumerable:!0,get:function(){return c.concatenateArrayBuffers}}),Object.defineProperty(t,"concatenateTypedArrays",{enumerable:!0,get:function(){return c.concatenateTypedArrays}}),Object.defineProperty(t,"compareArrayBuffers",{enumerable:!0,get:function(){return c.compareArrayBuffers}}),Object.defineProperty(t,"padToNBytes",{enumerable:!0,get:function(){return l.padToNBytes}}),Object.defineProperty(t,"copyToArray",{enumerable:!0,get:function(){return l.copyToArray}}),Object.defineProperty(t,"copyArrayBuffer",{enumerable:!0,get:function(){return l.copyArrayBuffer}}),Object.defineProperty(t,"copyPaddedArrayBufferToDataView",{enumerable:!0,get:function(){return f.copyPaddedArrayBufferToDataView}}),Object.defineProperty(t,"copyPaddedStringToDataView",{enumerable:!0,get:function(){return f.copyPaddedStringToDataView}}),Object.defineProperty(t,"padStringToByteAlignment",{enumerable:!0,get:function(){return h.padStringToByteAlignment}}),Object.defineProperty(t,"copyStringToDataView",{enumerable:!0,get:function(){return h.copyStringToDataView}}),Object.defineProperty(t,"copyBinaryToDataView",{enumerable:!0,get:function(){return h.copyBinaryToDataView}}),Object.defineProperty(t,"getFirstCharacters",{enumerable:!0,get:function(){return d.getFirstCharacters}}),Object.defineProperty(t,"getMagicString",{enumerable:!0,get:function(){return d.getMagicString}}),Object.defineProperty(t,"makeTextEncoderIterator",{enumerable:!0,get:function(){return p.makeTextEncoderIterator}}),Object.defineProperty(t,"makeTextDecoderIterator",{enumerable:!0,get:function(){return p.makeTextDecoderIterator}}),Object.defineProperty(t,"makeLineIterator",{enumerable:!0,get:function(){return p.makeLineIterator}}),Object.defineProperty(t,"makeNumberedLineIterator",{enumerable:!0,get:function(){return p.makeNumberedLineIterator}}),Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return y.forEach}}),Object.defineProperty(t,"concatenateArrayBuffersAsync",{enumerable:!0,get:function(){return y.concatenateArrayBuffersAsync}}),Object.defineProperty(t,"RequestScheduler",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return b.setPathPrefix}}),Object.defineProperty(t,"getPathPrefix",{enumerable:!0,get:function(){return b.getPathPrefix}}),Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return b.resolvePath}}),Object.defineProperty(t,"_addAliases",{enumerable:!0,get:function(){return b.addAliases}}),Object.defineProperty(t,"JSONLoader",{enumerable:!0,get:function(){return v.JSONLoader}}),Object.defineProperty(t,"isBuffer",{enumerable:!0,get:function(){return g.isBuffer}}),Object.defineProperty(t,"toBuffer",{enumerable:!0,get:function(){return g.toBuffer}}),Object.defineProperty(t,"bufferToArrayBuffer",{enumerable:!0,get:function(){return g.bufferToArrayBuffer}}),Object.defineProperty(t,"promisify",{enumerable:!0,get:function(){return E.promisify}}),Object.defineProperty(t,"_NodeFileSystem",{enumerable:!0,get:function(){return T.default}}),t.fs=t.util=t.path=void 0;var i=r(62),o=r(107),a=r(108),u=r(117),s=r(118),c=r(70),l=r(72),f=r(120),h=r(121),d=r(69),p=r(122),y=r(123),m=w(r(124)),b=r(125),v=r(126),_=R(r(127));t.path=_;var g=r(71),E=R(r(128));t.util=E;var O=R(r(129));t.fs=O;var T=w(r(130));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function w(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";r.r(t),function(e){var n=r(1),i=r(81);r.d(t,"Vector2",(function(){return i.a}));var o=r(22);r.d(t,"Vector3",(function(){return o.a}));var a=r(82);r.d(t,"Vector4",(function(){return a.a}));var u=r(83);r.d(t,"Matrix3",(function(){return u.a}));var s=r(28);r.d(t,"Matrix4",(function(){return s.a}));var c=r(36);r.d(t,"Quaternion",(function(){return c.a})),r.d(t,"config",(function(){return n.f})),r.d(t,"configure",(function(){return n.g})),r.d(t,"formatValue",(function(){return n.l})),r.d(t,"isArray",(function(){return n.m})),r.d(t,"clone",(function(){return n.e})),r.d(t,"equals",(function(){return n.j})),r.d(t,"exactEquals",(function(){return n.k})),r.d(t,"toRadians",(function(){return n.s})),r.d(t,"toDegrees",(function(){return n.r})),r.d(t,"radians",(function(){return n.o})),r.d(t,"degrees",(function(){return n.i})),r.d(t,"sin",(function(){return n.p})),r.d(t,"cos",(function(){return n.h})),r.d(t,"tan",(function(){return n.q})),r.d(t,"asin",(function(){return n.b})),r.d(t,"acos",(function(){return n.a})),r.d(t,"atan",(function(){return n.c})),r.d(t,"clamp",(function(){return n.d})),r.d(t,"lerp",(function(){return n.n})),r.d(t,"withEpsilon",(function(){return n.t}));var l=r(2);r.d(t,"checkNumber",(function(){return l.a}));var f=r(84);r.d(t,"_MathUtils",(function(){return f.a}));var h=r(39);r.d(t,"SphericalCoordinates",(function(){return h.a}));var d=r(40);r.d(t,"Pose",(function(){return d.a}));var p=r(15);r.d(t,"Euler",(function(){return p.a}));var y=r(9);r.d(t,"assert",(function(){return y.a})),r.d(t,"_SphericalCoordinates",(function(){return h.a})),r.d(t,"_Pose",(function(){return d.a})),r.d(t,"_Euler",(function(){return p.a}));const m={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e};(m.global||m.self||m.window).mathgl={config:n.f}}.call(this,r(23))},function(e,t,r){"use strict";r.d(t,"p",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"g",(function(){return u})),r.d(t,"o",(function(){return s})),r.d(t,"n",(function(){return c})),r.d(t,"j",(function(){return l})),r.d(t,"k",(function(){return f})),r.d(t,"l",(function(){return h})),r.d(t,"m",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return m})),r.d(t,"i",(function(){return b})),r.d(t,"h",(function(){return v})),r.d(t,"f",(function(){return _}));var n=r(0);function i(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function o(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8],f=t[9],h=t[10],d=t[11],p=t[12],y=t[13],m=t[14],b=t[15],v=r*u-n*a,_=r*s-i*a,g=r*c-o*a,E=n*s-i*u,O=n*c-o*u,T=i*c-o*s,S=l*y-f*p,R=l*m-h*p,w=l*b-d*p,A=f*m-h*y,P=f*b-d*y,M=h*b-d*m,I=v*M-_*P+g*A+E*w-O*R+T*S;return I?(I=1/I,e[0]=(u*M-s*P+c*A)*I,e[1]=(i*P-n*M-o*A)*I,e[2]=(y*T-m*O+b*E)*I,e[3]=(h*O-f*T-d*E)*I,e[4]=(s*w-a*M-c*R)*I,e[5]=(r*M-i*w+o*R)*I,e[6]=(m*g-p*T-b*_)*I,e[7]=(l*T-h*g+d*_)*I,e[8]=(a*P-u*w+c*S)*I,e[9]=(n*w-r*P-o*S)*I,e[10]=(p*O-y*g+b*v)*I,e[11]=(f*g-l*O-d*v)*I,e[12]=(u*R-a*A-s*S)*I,e[13]=(r*A-n*R+i*S)*I,e[14]=(y*_-p*E-m*v)*I,e[15]=(l*E-f*_+h*v)*I,e):null}function a(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],u=e[6],s=e[7],c=e[8],l=e[9],f=e[10],h=e[11],d=e[12],p=e[13],y=e[14],m=e[15];return(t*a-r*o)*(f*m-h*y)-(t*u-n*o)*(l*m-h*p)+(t*s-i*o)*(l*y-f*p)+(r*u-n*a)*(c*m-h*d)-(r*s-i*a)*(c*y-f*d)+(n*s-i*u)*(c*p-l*d)}function u(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],p=t[11],y=t[12],m=t[13],b=t[14],v=t[15],_=r[0],g=r[1],E=r[2],O=r[3];return e[0]=_*n+g*u+E*f+O*y,e[1]=_*i+g*s+E*h+O*m,e[2]=_*o+g*c+E*d+O*b,e[3]=_*a+g*l+E*p+O*v,_=r[4],g=r[5],E=r[6],O=r[7],e[4]=_*n+g*u+E*f+O*y,e[5]=_*i+g*s+E*h+O*m,e[6]=_*o+g*c+E*d+O*b,e[7]=_*a+g*l+E*p+O*v,_=r[8],g=r[9],E=r[10],O=r[11],e[8]=_*n+g*u+E*f+O*y,e[9]=_*i+g*s+E*h+O*m,e[10]=_*o+g*c+E*d+O*b,e[11]=_*a+g*l+E*p+O*v,_=r[12],g=r[13],E=r[14],O=r[15],e[12]=_*n+g*u+E*f+O*y,e[13]=_*i+g*s+E*h+O*m,e[14]=_*o+g*c+E*d+O*b,e[15]=_*a+g*l+E*p+O*v,e}function s(e,t,r){var n,i,o,a,u,s,c,l,f,h,d,p,y=r[0],m=r[1],b=r[2];return t===e?(e[12]=t[0]*y+t[4]*m+t[8]*b+t[12],e[13]=t[1]*y+t[5]*m+t[9]*b+t[13],e[14]=t[2]*y+t[6]*m+t[10]*b+t[14],e[15]=t[3]*y+t[7]*m+t[11]*b+t[15]):(n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=u,e[5]=s,e[6]=c,e[7]=l,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=n*y+u*m+f*b+t[12],e[13]=i*y+s*m+h*b+t[13],e[14]=o*y+c*m+d*b+t[14],e[15]=a*y+l*m+p*b+t[15]),e}function c(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l(e,t,r,i){var o,a,u,s,c,l,f,h,d,p,y,m,b,v,_,g,E,O,T,S,R,w,A,P,M=i[0],I=i[1],x=i[2],C=Math.hypot(M,I,x);return C<n.b?null:(M*=C=1/C,I*=C,x*=C,o=Math.sin(r),u=1-(a=Math.cos(r)),s=t[0],c=t[1],l=t[2],f=t[3],h=t[4],d=t[5],p=t[6],y=t[7],m=t[8],b=t[9],v=t[10],_=t[11],g=M*M*u+a,E=I*M*u+x*o,O=x*M*u-I*o,T=M*I*u-x*o,S=I*I*u+a,R=x*I*u+M*o,w=M*x*u+I*o,A=I*x*u-M*o,P=x*x*u+a,e[0]=s*g+h*E+m*O,e[1]=c*g+d*E+b*O,e[2]=l*g+p*E+v*O,e[3]=f*g+y*E+_*O,e[4]=s*T+h*S+m*R,e[5]=c*T+d*S+b*R,e[6]=l*T+p*S+v*R,e[7]=f*T+y*S+_*R,e[8]=s*w+h*A+m*P,e[9]=c*w+d*A+b*P,e[10]=l*w+p*A+v*P,e[11]=f*w+y*A+_*P,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function f(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],l=t[9],f=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*n,e[5]=a*i+l*n,e[6]=u*i+f*n,e[7]=s*i+h*n,e[8]=c*i-o*n,e[9]=l*i-a*n,e[10]=f*i-u*n,e[11]=h*i-s*n,e}function h(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],u=t[2],s=t[3],c=t[8],l=t[9],f=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*n,e[1]=a*i-l*n,e[2]=u*i-f*n,e[3]=s*i-h*n,e[8]=o*n+c*i,e[9]=a*n+l*i,e[10]=u*n+f*i,e[11]=s*n+h*i,e}function d(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],u=t[2],s=t[3],c=t[4],l=t[5],f=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*n,e[1]=a*i+l*n,e[2]=u*i+f*n,e[3]=s*i+h*n,e[4]=c*i-o*n,e[5]=l*i-a*n,e[6]=f*i-u*n,e[7]=h*i-s*n,e}function p(e,t){var r=t[0],n=t[1],i=t[2],o=t[4],a=t[5],u=t[6],s=t[8],c=t[9],l=t[10];return e[0]=Math.hypot(r,n,i),e[1]=Math.hypot(o,a,u),e[2]=Math.hypot(s,c,l),e}function y(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,u=n+n,s=i+i,c=r*a,l=n*a,f=n*u,h=i*a,d=i*u,p=i*s,y=o*a,m=o*u,b=o*s;return e[0]=1-f-p,e[1]=l+b,e[2]=h-m,e[3]=0,e[4]=l-b,e[5]=1-c-p,e[6]=d+y,e[7]=0,e[8]=h+m,e[9]=d-y,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,t,r,n,i,o,a){var u=1/(r-t),s=1/(i-n),c=1/(o-a);return e[0]=2*o*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*s,e[6]=0,e[7]=0,e[8]=(r+t)*u,e[9]=(i+n)*s,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0,e}function b(e,t,r,n,i){var o,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function v(e,t,r,n,i,o,a){var u=1/(t-r),s=1/(n-i),c=1/(o-a);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*u,e[13]=(i+n)*s,e[14]=(a+o)*c,e[15]=1,e}function _(e,t,r,i){var o,a,u,s,c,l,f,h,d,p,y=t[0],m=t[1],b=t[2],v=i[0],_=i[1],g=i[2],E=r[0],O=r[1],T=r[2];return Math.abs(y-E)<n.b&&Math.abs(m-O)<n.b&&Math.abs(b-T)<n.b?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(f=y-E,h=m-O,d=b-T,o=_*(d*=p=1/Math.hypot(f,h,d))-g*(h*=p),a=g*(f*=p)-v*d,u=v*h-_*f,(p=Math.hypot(o,a,u))?(o*=p=1/p,a*=p,u*=p):(o=0,a=0,u=0),s=h*u-d*a,c=d*o-f*u,l=f*a-h*o,(p=Math.hypot(s,c,l))?(s*=p=1/p,c*=p,l*=p):(s=0,c=0,l=0),e[0]=o,e[1]=s,e[2]=f,e[3]=0,e[4]=a,e[5]=c,e[6]=h,e[7]=0,e[8]=u,e[9]=l,e[10]=d,e[11]=0,e[12]=-(o*y+a*m+u*b),e[13]=-(s*y+c*m+l*b),e[14]=-(f*y+h*m+d*b),e[15]=1,e)}},function(e,t,r){"use strict";(function(e,n){r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return l}));const i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document,process:"object"==typeof n&&n},o=i.self||i.window||i.global,a=i.window||i.self||i.global,u=i.global||i.self||i.window,s=i.document||{},c=i.process||{},l=console}).call(this,r(23),r(18))},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"l",(function(){return u})),r.d(t,"a",(function(){return s})),r.d(t,"k",(function(){return c})),r.d(t,"h",(function(){return l})),r.d(t,"m",(function(){return f})),r.d(t,"j",(function(){return h})),r.d(t,"d",(function(){return d})),r.d(t,"i",(function(){return p})),r.d(t,"n",(function(){return y})),r.d(t,"o",(function(){return m})),r.d(t,"f",(function(){return b})),r.d(t,"e",(function(){return v}));var n=r(0);function i(e){var t=new n.a(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,r,i){var o=new n.a(4);return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function u(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function s(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function c(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function l(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.hypot(t,r,n,i)}function f(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function h(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a,e}function d(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function p(e,t,r,n){var i=t[0],o=t[1],a=t[2],u=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=u+n*(r[3]-u),e}function y(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function m(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],u=r[1],s=r[2],c=r[3],l=c*n+u*o-s*i,f=c*i+s*n-a*o,h=c*o+a*i-u*n,d=-a*n-u*i-s*o;return e[0]=l*c+d*-a+f*-s-h*-u,e[1]=f*c+d*-u+h*-a-l*-s,e[2]=h*c+d*-s+l*-u-f*-a,e[3]=t[3],e}function b(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function v(e,t){var r=e[0],i=e[1],o=e[2],a=e[3],u=t[0],s=t[1],c=t[2],l=t[3];return Math.abs(r-u)<=n.b*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=n.b*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=n.b*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-l)<=n.b*Math.max(1,Math.abs(a),Math.abs(l))}var _,g;_=new n.a(4),n.a!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0,_[3]=0),g=_},function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t,r){const n=t[0],i=t[1],o=r[3]*n+r[7]*i||1;return e[0]=(r[0]*n+r[4]*i)/o,e[1]=(r[1]*n+r[5]*i)/o,e}function i(e,t,r){const n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o||1;return e[0]=(r[0]*n+r[4]*i+r[8]*o)/a,e[1]=(r[1]*n+r[5]*i+r[9]*o)/a,e[2]=(r[2]*n+r[6]*i+r[10]*o)/a,e}function o(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e}function a(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e[3]=t[3],e}function u(e,t,r){const n=t[0],i=t[1],o=t[2];return e[0]=r[0]*n+r[3]*i+r[6]*o,e[1]=r[1]*n+r[4]*i+r[7]*o,e[2]=r[2]*n+r[5]*i+r[8]*o,e[3]=t[3],e}r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return u}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"i",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return s})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return f})),r.d(t,"c",(function(){return h}));var n=r(0);function i(){var e=new n.a(9);return n.a!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function o(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function a(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],l=t[8],f=l*a-u*c,h=-l*o+u*s,d=c*o-a*s,p=r*f+n*h+i*d;return p?(p=1/p,e[0]=f*p,e[1]=(-l*n+i*c)*p,e[2]=(u*n-i*a)*p,e[3]=h*p,e[4]=(l*r-i*s)*p,e[5]=(-u*r+i*o)*p,e[6]=d*p,e[7]=(-c*r+n*s)*p,e[8]=(a*r-n*o)*p,e):null}function u(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],u=e[6],s=e[7],c=e[8];return t*(c*o-a*s)+r*(-c*i+a*u)+n*(s*i-o*u)}function s(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],h=r[0],d=r[1],p=r[2],y=r[3],m=r[4],b=r[5],v=r[6],_=r[7],g=r[8];return e[0]=h*n+d*a+p*c,e[1]=h*i+d*u+p*l,e[2]=h*o+d*s+p*f,e[3]=y*n+m*a+b*c,e[4]=y*i+m*u+b*l,e[5]=y*o+m*s+b*f,e[6]=v*n+_*a+g*c,e[7]=v*i+_*u+g*l,e[8]=v*o+_*s+g*f,e}function c(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],h=r[0],d=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=u,e[5]=s,e[6]=h*n+d*a+c,e[7]=h*i+d*u+l,e[8]=h*o+d*s+f,e}function l(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],l=t[7],f=t[8],h=Math.sin(r),d=Math.cos(r);return e[0]=d*n+h*a,e[1]=d*i+h*u,e[2]=d*o+h*s,e[3]=d*a-h*n,e[4]=d*u-h*i,e[5]=d*s-h*o,e[6]=c,e[7]=l,e[8]=f,e}function f(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function h(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,u=n+n,s=i+i,c=r*a,l=n*a,f=n*u,h=i*a,d=i*u,p=i*s,y=o*a,m=o*u,b=o*s;return e[0]=1-f-p,e[3]=l-b,e[6]=h+m,e[1]=l+b,e[4]=1-c-p,e[7]=d-y,e[2]=h-m,e[5]=d+y,e[8]=1-c-f,e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return u}));var n=r(0);function i(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function o(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function a(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function u(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}var s,c;s=new n.a(2),n.a!=Float32Array&&(s[0]=0,s[1]=0),c=s},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isWritableStream=t.isReadableStream=t.isReadableNodeStream=t.isWritableNodeStream=t.isBuffer=t.isReadableDOMStream=t.isWritableDOMStream=t.isBlob=t.isFile=t.isResponse=t.isIterator=t.isAsyncIterable=t.isIterable=t.isPromise=t.isPureObject=t.isObject=void 0;var i=function(e){return"boolean"==typeof e},o=function(e){return"function"==typeof e},a=function(e){return null!==e&&"object"===n(e)};t.isObject=a;t.isPureObject=function(e){return a(e)&&e.constructor==={}.constructor};t.isPromise=function(e){return a(e)&&o(e.then)};t.isIterable=function(e){return e&&"function"==typeof e[Symbol.iterator]};t.isAsyncIterable=function(e){return e&&"function"==typeof e[Symbol.asyncIterator]};t.isIterator=function(e){return e&&o(e.next)};t.isResponse=function(e){return"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json};t.isFile=function(e){return"undefined"!=typeof File&&e instanceof File};t.isBlob=function(e){return"undefined"!=typeof Blob&&e instanceof Blob};var u=function(e){return a(e)&&o(e.abort)&&o(e.getWriter)};t.isWritableDOMStream=u;var s=function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||a(e)&&o(e.tee)&&o(e.cancel)&&o(e.getReader)};t.isReadableDOMStream=s;t.isBuffer=function(e){return e&&"object"===n(e)&&e.isBuffer};var c=function(e){return a(e)&&o(e.end)&&o(e.write)&&i(e.writable)};t.isWritableNodeStream=c;var l=function(e){return a(e)&&o(e.read)&&o(e.pipe)&&i(e.readable)};t.isReadableNodeStream=l;t.isReadableStream=function(e){return s(e)||l(e)};t.isWritableStream=function(e){return u(e)||c(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalLoaderState=d,t.setGlobalOptions=function(e){var t=d(),r=p();t.globalOptions=b(r,e)},t.normalizeOptions=function(e,t,r,n){return r=r||[],r=Array.isArray(r)?r:[r],function(e,t){y(e,null,u.DEFAULT_LOADER_OPTIONS,u.REMOVED_LOADER_OPTIONS,t);var r,n=s(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=e&&e[i.id]||{},a=i.options&&i.options[i.id]||{},c=i.deprecatedOptions&&i.deprecatedOptions[i.id]||{};y(o,i.id,a,c,t)}}catch(e){n.e(e)}finally{n.f()}}(e,r),b(t,e,n)},t.getFetchFunction=function(e,t){var r=p(),n=e||r;if("function"==typeof n.fetch)return n.fetch;if((0,i.isObject)(n.fetch))return function(e){return(0,o.fetchFile)(e,n)};if(null!=t&&t.fetch)return null==t?void 0:t.fetch;return o.fetchFile};var n=r(4),i=r(13),o=r(47),a=r(74),u=r(137);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){n.global.loaders=n.global.loaders||{};var e=n.global.loaders;return e._state=e._state||{},e._state}var p=function(){var e=d();return e.globalOptions=e.globalOptions||f({},u.DEFAULT_LOADER_OPTIONS),e.globalOptions};function y(e,t,r,n,o){var u=t||"Top level",s=t?"".concat(t,"."):"";for(var c in e){var l=!t&&(0,i.isObject)(e[c]);if(!(c in r)&&!("baseUri"===c&&!t)&&!("workerUrl"===c&&t))if(c in n)a.probeLog.warn("".concat(u," loader option '").concat(s).concat(c,"' no longer supported, use '").concat(n[c],"'"))();else if(!l){var f=m(c,o);a.probeLog.warn("".concat(u," loader option '").concat(s).concat(c,"' not recognized. ").concat(f))()}}}function m(e,t){var r,n=e.toLowerCase(),i="",o=s(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;for(var u in a.options){if(e===u)return"Did you mean '".concat(a.id,".").concat(u,"'?");var c=u.toLowerCase();(n.startsWith(c)||c.startsWith(n))&&(i=i||"Did you mean '".concat(a.id,".").concat(u,"'?"))}}}catch(e){o.e(e)}finally{o.f()}return i}function b(e,t,r){var n=f({},e.options||{});return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(n,r),null===n.log&&(n.log=new a.NullLog),v(n,p()),v(n,t),n}function v(e,t){for(var r in t)if(r in t){var n=t[r];(0,i.isPureObject)(n)&&(0,i.isPureObject)(e[r])?e[r]=f(f({},e[r]),t[r]):e[r]=t[r]}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(16),i=r(1),o=r(2),a=r(36);class u extends n.a{static get ZYX(){return 0}static get YXZ(){return 1}static get XZY(){return 2}static get ZXY(){return 3}static get YZX(){return 4}static get XYZ(){return 5}static get RollPitchYaw(){return 0}static get DefaultOrder(){return u.ZYX}static get RotationOrders(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}static rotationOrder(e){return u.RotationOrders[e]}get ELEMENTS(){return 4}constructor(e=0,t=0,r=0,n=u.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(e,t,r,n)}fromQuaternion(e){const[t,r,n,i]=e,o=r*r,a=-2*(o+n*n)+1,s=2*(t*r+i*n);let c=-2*(t*n-i*r);const l=2*(r*n+i*t),f=-2*(t*t+o)+1;c=c>1?1:c,c=c<-1?-1:c;const h=Math.atan2(l,f),d=Math.asin(c),p=Math.atan2(s,a);return new u(h,d,p,u.RollPitchYaw)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=Number.isFinite(e[3])||this.order,this.check()}set(e=0,t=0,r=0,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=Number.isFinite(n)?n:this[3],this.check()}validate(){return(e=this[3])>=0&&e<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var e}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}toArray4(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}toVector3(e=[-0,-0,-0]){return e[0]=this[0],e[1]=this[1],e[2]=this[2],e}get x(){return this[0]}set x(e){this[0]=Object(o.a)(e)}get y(){return this[1]}set y(e){this[1]=Object(o.a)(e)}get z(){return this[2]}set z(e){this[2]=Object(o.a)(e)}get alpha(){return this[0]}set alpha(e){this[0]=Object(o.a)(e)}get beta(){return this[1]}set beta(e){this[1]=Object(o.a)(e)}get gamma(){return this[2]}set gamma(e){this[2]=Object(o.a)(e)}get phi(){return this[0]}set phi(e){this[0]=Object(o.a)(e)}get theta(){return this[1]}set theta(e){this[1]=Object(o.a)(e)}get psi(){return this[2]}set psi(e){this[2]=Object(o.a)(e)}get roll(){return this[0]}set roll(e){this[0]=Object(o.a)(e)}get pitch(){return this[1]}set pitch(e){this[1]=Object(o.a)(e)}get yaw(){return this[2]}set yaw(e){this[2]=Object(o.a)(e)}get order(){return this[3]}set order(e){this[3]=function(e){if(e<0&&e>=6)throw new Error("Unknown Euler angle order");return e}(e)}fromVector3(e,t){return this.set(e[0],e[1],e[2],Number.isFinite(t)?t:this[3])}fromArray(e,t=0){return this[0]=e[0+t],this[1]=e[1+t],this[2]=e[2+t],void 0!==e[3]&&(this[3]=e[3]),this.check()}fromRollPitchYaw(e,t,r){return this.set(e,t,r,u.ZYX)}fromRotationMatrix(e,t=u.DefaultOrder){return this._fromRotationMatrix(e,t),this.check()}getRotationMatrix(e){return this._getRotationMatrix(e)}getQuaternion(){const e=new a.a;switch(this[4]){case u.XYZ:return e.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case u.YXZ:return e.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case u.ZXY:return e.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case u.ZYX:return e.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case u.YZX:return e.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case u.XZY:return e.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error("Unknown Euler angle order")}}_fromRotationMatrix(e,t=u.DefaultOrder){const r=e.elements,n=r[0],o=r[4],a=r[8],s=r[1],c=r[5],l=r[9],f=r[2],h=r[6],d=r[10];switch(t=t||this[3]){case u.XYZ:this[1]=Math.asin(Object(i.d)(a,-1,1)),Math.abs(a)<.99999?(this[0]=Math.atan2(-l,d),this[2]=Math.atan2(-o,n)):(this[0]=Math.atan2(h,c),this[2]=0);break;case u.YXZ:this[0]=Math.asin(-Object(i.d)(l,-1,1)),Math.abs(l)<.99999?(this[1]=Math.atan2(a,d),this[2]=Math.atan2(s,c)):(this[1]=Math.atan2(-f,n),this[2]=0);break;case u.ZXY:this[0]=Math.asin(Object(i.d)(h,-1,1)),Math.abs(h)<.99999?(this[1]=Math.atan2(-f,d),this[2]=Math.atan2(-o,c)):(this[1]=0,this[2]=Math.atan2(s,n));break;case u.ZYX:this[1]=Math.asin(-Object(i.d)(f,-1,1)),Math.abs(f)<.99999?(this[0]=Math.atan2(h,d),this[2]=Math.atan2(s,n)):(this[0]=0,this[2]=Math.atan2(-o,c));break;case u.YZX:this[2]=Math.asin(Object(i.d)(s,-1,1)),Math.abs(s)<.99999?(this[0]=Math.atan2(-l,c),this[1]=Math.atan2(-f,n)):(this[0]=0,this[1]=Math.atan2(a,d));break;case u.XZY:this[2]=Math.asin(-Object(i.d)(o,-1,1)),Math.abs(o)<.99999?(this[0]=Math.atan2(h,c),this[1]=Math.atan2(a,n)):(this[0]=Math.atan2(-l,d),this[1]=0);break;default:throw new Error("Unknown Euler angle order")}return this[3]=t,this}_getRotationMatrix(e){const t=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],r=this.x,n=this.y,i=this.z,o=Math.cos(r),a=Math.cos(n),s=Math.cos(i),c=Math.sin(r),l=Math.sin(n),f=Math.sin(i);switch(this[3]){case u.XYZ:{const e=o*s,r=o*f,n=c*s,i=c*f;t[0]=a*s,t[4]=-a*f,t[8]=l,t[1]=r+n*l,t[5]=e-i*l,t[9]=-c*a,t[2]=i-e*l,t[6]=n+r*l,t[10]=o*a;break}case u.YXZ:{const e=a*s,r=a*f,n=l*s,i=l*f;t[0]=e+i*c,t[4]=n*c-r,t[8]=o*l,t[1]=o*f,t[5]=o*s,t[9]=-c,t[2]=r*c-n,t[6]=i+e*c,t[10]=o*a;break}case u.ZXY:{const e=a*s,r=a*f,n=l*s,i=l*f;t[0]=e-i*c,t[4]=-o*f,t[8]=n+r*c,t[1]=r+n*c,t[5]=o*s,t[9]=i-e*c,t[2]=-o*l,t[6]=c,t[10]=o*a;break}case u.ZYX:{const e=o*s,r=o*f,n=c*s,i=c*f;t[0]=a*s,t[4]=n*l-r,t[8]=e*l+i,t[1]=a*f,t[5]=i*l+e,t[9]=r*l-n,t[2]=-l,t[6]=c*a,t[10]=o*a;break}case u.YZX:{const e=o*a,r=o*l,n=c*a,i=c*l;t[0]=a*s,t[4]=i-e*f,t[8]=n*f+r,t[1]=f,t[5]=o*s,t[9]=-c*s,t[2]=-l*s,t[6]=r*f+n,t[10]=e-i*f;break}case u.XZY:{const e=o*a,r=o*l,n=c*a,i=c*l;t[0]=a*s,t[4]=-f,t[8]=l*s,t[1]=e*f+i,t[5]=o*s,t[9]=r*f-n,t[2]=n*f-r,t[6]=c*s,t[10]=i*f+e;break}default:throw new Error("Unknown Euler angle order")}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}toQuaternion(){const e=Math.cos(.5*this.yaw),t=Math.sin(.5*this.yaw),r=Math.cos(.5*this.roll),n=Math.sin(.5*this.roll),i=Math.cos(.5*this.pitch),o=Math.sin(.5*this.pitch),u=e*r*i+t*n*o,s=e*n*i-t*r*o,c=e*r*o+t*n*i,l=t*r*i-e*n*o;return new a.a(s,c,l,u)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(1),i=r(9);class o extends(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Array)){get ELEMENTS(){return Object(i.a)(!1),0}clone(){return(new this.constructor).copy(this)}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}fromArray(e,t=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}to(e){return e===this?this:Object(n.m)(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toArray(e=[],t=0){for(let r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(n.f)}formatString(e){let t="";for(let r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+Object(n.l)(this[r],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!Object(n.j)(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,r){void 0===r&&(r=t,t=e,e=this);for(let n=0;n<this.ELEMENTS;++n){const i=e[n];this[n]=i+r*(t[n]-i)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}add(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]+=t[e];return this.check()}subtract(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]-=t[e];return this.check()}scale(e){if(Array.isArray(e))return this.multiply(e);for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.scale(1/e)}clampScalar(e,t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}multiplyByScalar(e){return this.scale(e)}get elements(){return this}check(){if(n.f.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fetchFile",{enumerable:!0,get:function(){return n.fetchFile}}),Object.defineProperty(t,"readArrayBuffer",{enumerable:!0,get:function(){return i.readArrayBuffer}}),Object.defineProperty(t,"readFileSync",{enumerable:!0,get:function(){return o.readFileSync}}),Object.defineProperty(t,"writeFile",{enumerable:!0,get:function(){return a.writeFile}}),Object.defineProperty(t,"writeFileSync",{enumerable:!0,get:function(){return a.writeFileSync}}),Object.defineProperty(t,"setLoaderOptions",{enumerable:!0,get:function(){return u.setLoaderOptions}}),Object.defineProperty(t,"registerLoaders",{enumerable:!0,get:function(){return s.registerLoaders}}),Object.defineProperty(t,"_unregisterLoaders",{enumerable:!0,get:function(){return s._unregisterLoaders}}),Object.defineProperty(t,"selectLoader",{enumerable:!0,get:function(){return c.selectLoader}}),Object.defineProperty(t,"selectLoaderSync",{enumerable:!0,get:function(){return c.selectLoaderSync}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.parse}}),Object.defineProperty(t,"parseSync",{enumerable:!0,get:function(){return f.parseSync}}),Object.defineProperty(t,"parseInBatches",{enumerable:!0,get:function(){return h.parseInBatches}}),Object.defineProperty(t,"load",{enumerable:!0,get:function(){return d.load}}),Object.defineProperty(t,"loadInBatches",{enumerable:!0,get:function(){return p.loadInBatches}}),Object.defineProperty(t,"encode",{enumerable:!0,get:function(){return y.encode}}),Object.defineProperty(t,"encodeSync",{enumerable:!0,get:function(){return y.encodeSync}}),Object.defineProperty(t,"encodeInBatches",{enumerable:!0,get:function(){return y.encodeInBatches}}),Object.defineProperty(t,"encodeText",{enumerable:!0,get:function(){return y.encodeText}}),Object.defineProperty(t,"encodeURLtoURL",{enumerable:!0,get:function(){return y.encodeURLtoURL}}),Object.defineProperty(t,"save",{enumerable:!0,get:function(){return m.save}}),Object.defineProperty(t,"saveSync",{enumerable:!0,get:function(){return m.saveSync}}),Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return b.setPathPrefix}}),Object.defineProperty(t,"getPathPrefix",{enumerable:!0,get:function(){return b.getPathPrefix}}),Object.defineProperty(t,"resolvePath",{enumerable:!0,get:function(){return b.resolvePath}}),Object.defineProperty(t,"RequestScheduler",{enumerable:!0,get:function(){return b.RequestScheduler}}),Object.defineProperty(t,"JSONLoader",{enumerable:!0,get:function(){return b.JSONLoader}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return b.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return b.isWorker}}),Object.defineProperty(t,"self",{enumerable:!0,get:function(){return b.self}}),Object.defineProperty(t,"window",{enumerable:!0,get:function(){return b.window}}),Object.defineProperty(t,"global",{enumerable:!0,get:function(){return b.global}}),Object.defineProperty(t,"document",{enumerable:!0,get:function(){return b.document}}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return b.assert}}),Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return b.forEach}}),Object.defineProperty(t,"concatenateArrayBuffersAsync",{enumerable:!0,get:function(){return b.concatenateArrayBuffersAsync}}),Object.defineProperty(t,"makeTextDecoderIterator",{enumerable:!0,get:function(){return b.makeTextDecoderIterator}}),Object.defineProperty(t,"makeTextEncoderIterator",{enumerable:!0,get:function(){return b.makeTextEncoderIterator}}),Object.defineProperty(t,"makeLineIterator",{enumerable:!0,get:function(){return b.makeLineIterator}}),Object.defineProperty(t,"makeNumberedLineIterator",{enumerable:!0,get:function(){return b.makeNumberedLineIterator}}),Object.defineProperty(t,"makeIterator",{enumerable:!0,get:function(){return v.makeIterator}}),Object.defineProperty(t,"makeStream",{enumerable:!0,get:function(){return _.makeStream}}),Object.defineProperty(t,"makeDOMStream",{enumerable:!0,get:function(){return g.makeDOMStream}}),Object.defineProperty(t,"makeNodeStream",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"NullWorkerLoader",{enumerable:!0,get:function(){return O.NullWorkerLoader}}),Object.defineProperty(t,"NullLoader",{enumerable:!0,get:function(){return O.NullLoader}}),Object.defineProperty(t,"_fetchProgress",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"_BrowserFileSystem",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"isPureObject",{enumerable:!0,get:function(){return R.isPureObject}}),Object.defineProperty(t,"isPromise",{enumerable:!0,get:function(){return R.isPromise}}),Object.defineProperty(t,"isIterable",{enumerable:!0,get:function(){return R.isIterable}}),Object.defineProperty(t,"isAsyncIterable",{enumerable:!0,get:function(){return R.isAsyncIterable}}),Object.defineProperty(t,"isIterator",{enumerable:!0,get:function(){return R.isIterator}}),Object.defineProperty(t,"isResponse",{enumerable:!0,get:function(){return R.isResponse}}),Object.defineProperty(t,"isReadableStream",{enumerable:!0,get:function(){return R.isReadableStream}}),Object.defineProperty(t,"isWritableStream",{enumerable:!0,get:function(){return R.isWritableStream}});var n=r(47),i=r(133),o=r(134),a=r(51),u=r(135),s=r(75),c=r(38),l=r(52),f=r(142),h=r(77),d=r(143),p=r(144),y=r(78),m=r(145),b=r(4),v=r(76),_=r(146),g=r(79),E=w(r(148)),O=r(149),T=w(r(150)),S=w(r(151)),R=r(13);function w(e){return e&&e.__esModule?e:{default:e}}},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLoaderObject=u,t.normalizeLoader=function(e){var t,r,i;(0,n.assert)(e,"null loader"),(0,n.assert)(u(e),"invalid loader"),Array.isArray(e)&&(i=e[1],e=o(o({},e=e[0]),{},{options:o(o({},e.options),i)}));(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(r=e)&&void 0!==r&&r.parseText)&&(e.text=!0);e.text||(e.binary=!0);return e};var n=r(4);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t;return!!e&&(Array.isArray(e)&&(e=e[0]),Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions))}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r(26);function i(){return!("object"==typeof e&&"[object process]"===String(e)&&!e.browser)||Object(n.a)()}function o(){return i()&&"undefined"!=typeof document}}).call(this,r(18))},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(27),i=r(1),o=r(2),a=r(3),u=r(10);const s=[0,0,0],c={};class l extends n.a{static get ZERO(){return c.ZERO=c.ZERO||Object.freeze(new l(0,0,0,0))}constructor(e=0,t=0,r=0){super(-0,-0,-0),1===arguments.length&&Object(i.m)(e)?this.copy(e):(i.f.debug&&(Object(o.a)(e),Object(o.a)(t),Object(o.a)(r)),this[0]=e,this[1]=t,this[2]=r)}set(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return i.f.debug&&(Object(o.a)(e.x),Object(o.a)(e.y),Object(o.a)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Object(o.a)(e)}angle(e){return a.a(this,e)}cross(e){return a.c(this,this,e),this.check()}rotateX({radians:e,origin:t=s}){return a.i(this,this,t,e),this.check()}rotateY({radians:e,origin:t=s}){return a.j(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=s}){return a.k(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return a.m(this,this,e),this.check()}transformAsVector(e){return Object(u.c)(this,this,e),this.check()}transformByMatrix3(e){return a.l(this,this,e),this.check()}transformByMatrix2(e){return Object(u.b)(this,this,e),this.check()}transformByQuaternion(e){return a.n(this,this,e),this.check()}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assert",{enumerable:!0,get:function(){return i.assert}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return o.isBrowser}}),Object.defineProperty(t,"isWorker",{enumerable:!0,get:function(){return o.isWorker}}),Object.defineProperty(t,"WorkerJob",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"WorkerThread",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"WorkerFarm",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"WorkerPool",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"WorkerBody",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"processOnWorker",{enumerable:!0,get:function(){return f.processOnWorker}}),Object.defineProperty(t,"canProcessOnWorker",{enumerable:!0,get:function(){return f.canProcessOnWorker}}),Object.defineProperty(t,"createWorker",{enumerable:!0,get:function(){return h.createWorker}}),Object.defineProperty(t,"getWorkerURL",{enumerable:!0,get:function(){return d.getWorkerURL}}),Object.defineProperty(t,"validateWorkerVersion",{enumerable:!0,get:function(){return p.validateWorkerVersion}}),Object.defineProperty(t,"getTransferList",{enumerable:!0,get:function(){return y.getTransferList}}),Object.defineProperty(t,"getLibraryUrl",{enumerable:!0,get:function(){return m.getLibraryUrl}}),Object.defineProperty(t,"loadLibrary",{enumerable:!0,get:function(){return m.loadLibrary}}),Object.defineProperty(t,"AsyncQueue",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"ChildProcessProxy",{enumerable:!0,get:function(){return v.default}}),t.NullWorker=void 0;var n=r(37),i=r(19),o=r(48),a=_(r(63)),u=_(r(49)),s=_(r(64)),c=_(r(65)),l=_(r(66)),f=r(110),h=r(112),d=r(67),p=r(113),y=r(50),m=r(114),b=_(r(68)),v=_(r(116));function _(e){return e&&e.__esModule?e:{default:e}}var g={id:"null",name:"null",module:"worker-utils",version:n.VERSION,options:{null:{}}};t.NullWorker=g},function(e,t,r){"use strict";r.r(t),r.d(t,"Ellipsoid",(function(){return j})),r.d(t,"isWGS84",(function(){return p}));var n=r(22),i=r(9),o=r(84),a=r(28),u=r(1),s=r(3);const c={radii:[6378137,6378137,6356752.314245179],radiiSquared:[40680631590769,40680631590769,40408299984661.445],oneOverRadii:[1/6378137,1/6378137,1/6356752.314245179],oneOverRadiiSquared:[1/40680631590769,1/40680631590769,1/40408299984661.445],maximumRadius:Math.max(6378137,6378137,6356752.314245179),centerToleranceSquared:.1},l=e=>e,f=new n.a;function h(e,t,r=l){return Object(u.m)(e)?(t[0]=r(e[0]),t[1]=r(e[1]),t[2]=e[2]):"longitude"in e?(t[0]=r(e.longitude),t[1]=r(e.latitude),t[2]=e.height):(t[0]=r(e.x),t[1]=r(e.y),t[2]=e.z),t}function d(e,t,r=l){return Object(u.m)(t)?(t[0]=r(e[0]),t[1]=r(e[1]),t[2]=e[2]):"longitude"in t?(t.longitude=r(e[0]),t.latitude=r(e[1]),t.height=e[2]):(t.x=r(e[0]),t.y=r(e[1]),t.z=e[2]),t}function p(e){if(!e)return!1;f.from(e);const{oneOverRadiiSquared:t,centerToleranceSquared:r}=c,n=e[0]*e[0]*t[0],i=e[1]*e[1]*t[1],o=e[2]*e[2]*t[2];return Math.abs(n+i+o-1)<r}const y=new n.a,m=new n.a,b=new n.a;const v=new n.a,_={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},g={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},E={east:new n.a,north:new n.a,up:new n.a,west:new n.a,south:new n.a,down:new n.a},O=new n.a,T=new n.a,S=new n.a;function R(e,t,r,n,o,a){const s=_[t]&&_[t][r];let c,l,f;Object(i.a)(s&&(!n||n===s));const h=v.copy(o);if(Object(u.j)(h.x,0,1e-14)&&Object(u.j)(h.y,0,1e-14)){const e=Math.sign(h.z);c=O.fromArray(g[t]),"east"!==t&&"west"!==t&&c.scale(e),l=T.fromArray(g[r]),"east"!==r&&"west"!==r&&l.scale(e),f=S.fromArray(g[n]),"east"!==n&&"west"!==n&&f.scale(e)}else{const{up:i,east:o,north:a}=E;o.set(-h.y,h.x,0).normalize(),e.geodeticSurfaceNormal(h,i),a.copy(i).cross(o);const{down:u,west:s,south:d}=E;u.copy(i).scale(-1),s.copy(o).scale(-1),d.copy(a).scale(-1),c=E[t],l=E[r],f=E[n]}return a[0]=c.x,a[1]=c.y,a[2]=c.z,a[3]=0,a[4]=l.x,a[5]=l.y,a[6]=l.z,a[7]=0,a[8]=f.x,a[9]=f.y,a[10]=f.z,a[11]=0,a[12]=h.x,a[13]=h.y,a[14]=h.z,a[15]=1,a}const w=new n.a,A=new n.a,P=new n.a,M=new n.a,I=new n.a,x=new n.a;let C;class j{static get WGS84(){return C=C||new j(6378137,6378137,6356752.314245179),C}constructor(e=0,t=0,r=0){Object(i.a)(e>=0),Object(i.a)(t>=0),Object(i.a)(r>=0),this.radii=new n.a(e,t,r),this.radiiSquared=new n.a(e*e,t*t,r*r),this.radiiToTheFourth=new n.a(e*e*e*e,t*t*t*t,r*r*r*r),this.oneOverRadii=new n.a(0===e?0:1/e,0===t?0:1/t,0===r?0:1/r),this.oneOverRadiiSquared=new n.a(0===e?0:1/(e*e),0===t?0:1/(t*t),0===r?0:1/(r*r)),this.minimumRadius=Math.min(e,t,r),this.maximumRadius=Math.max(e,t,r),this.centerToleranceSquared=o.a.EPSILON1,0!==this.radiiSquared.z&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(e){return this===e||Boolean(e&&this.radii.equals(e.radii))}toString(){return this.radii.toString()}cartographicToCartesian(e,t=[0,0,0]){const r=A,n=P,[,,i]=e;this.geodeticSurfaceNormalCartographic(e,r),n.copy(this.radiiSquared).scale(r);const o=Math.sqrt(r.dot(n));return n.scale(1/o),r.scale(i),n.add(r),n.to(t)}cartesianToCartographic(e,t=[0,0,0]){x.from(e);const r=this.scaleToGeodeticSurface(x,M);if(!r)return;const n=this.geodeticSurfaceNormal(r,A),i=I;i.copy(x).subtract(r);const o=Math.atan2(n.y,n.x),a=Math.asin(n.z),c=Math.sign(s.d(i,x))*s.g(i);return d([o,a,c],t,u.f._cartographicRadians?l:u.r)}eastNorthUpToFixedFrame(e,t=new a.a){return R(this,"east","north","up",e,t)}localFrameToFixedFrame(e,t,r,n,i=new a.a){return R(this,e,t,r,n,i)}geocentricSurfaceNormal(e,t=[0,0,0]){return w.from(e).normalize().to(t)}geodeticSurfaceNormalCartographic(e,t=[0,0,0]){const r=function(e,t=f){return h(e,t,u.f._cartographicRadians?l:u.s)}(e),n=r[0],i=r[1],o=Math.cos(i);return w.set(o*Math.cos(n),o*Math.sin(n),Math.sin(i)).normalize(),w.to(t)}geodeticSurfaceNormal(e,t=[0,0,0]){return w.from(e).scale(this.oneOverRadiiSquared).normalize().to(t)}scaleToGeodeticSurface(e,t){return function(e,t,r=new n.a){const{oneOverRadii:i,oneOverRadiiSquared:a,centerToleranceSquared:u}=t;y.from(e);const s=e.x,c=e.y,l=e.z,f=i.x,h=i.y,d=i.z,p=s*s*f*f,v=c*c*h*h,_=l*l*d*d,g=p+v+_,E=Math.sqrt(1/g);if(!Number.isFinite(E))return;const O=m;if(O.copy(e).scale(E),g<u)return O.to(r);const T=a.x,S=a.y,R=a.z,w=b;w.set(O.x*T*2,O.y*S*2,O.z*R*2);let A,P,M,I,x=(1-E)*e.len()/(.5*w.len()),C=0;do{x-=C,A=1/(1+x*T),P=1/(1+x*S),M=1/(1+x*R);const e=A*A,t=P*P,r=M*M;I=p*e+v*t+_*r-1;C=I/(-2*(p*(e*A)*T+v*(t*P)*S+_*(r*M)*R))}while(Math.abs(I)>o.a.EPSILON12);return y.scale([A,P,M]).to(r)}(e,this,t)}scaleToGeocentricSurface(e,t=[0,0,0]){M.from(e);const r=M.x,n=M.y,i=M.z,o=this.oneOverRadiiSquared,a=1/Math.sqrt(r*r*o.x+n*n*o.y+i*i*o.z);return M.multiplyScalar(a).to(t)}transformPositionToScaledSpace(e,t=[0,0,0]){return M.from(e).scale(this.oneOverRadii).to(t)}transformPositionFromScaledSpace(e,t=[0,0,0]){return M.from(e).scale(this.radii).to(t)}getSurfaceNormalIntersectionWithZAxis(e,t=0,r=[0,0,0]){Object(i.a)(Object(u.j)(this.radii.x,this.radii.y,o.a.EPSILON15)),Object(i.a)(this.radii.z>0),M.from(e);const n=M.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(n)>=this.radii.z-t))return M.set(0,0,n).to(r)}}},function(e,t,r){"use strict";(function(e){function n(t){if("undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type)return!0;if(void 0!==e&&"object"==typeof e.versions&&Boolean(e.versions.electron))return!0;const r="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,n=t||r;return!!(n&&n.indexOf("Electron")>=0)}r.d(t,"a",(function(){return n}))}).call(this,r(18))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(16),i=r(2),o=r(9);class a extends n.a{get ELEMENTS(){return Object(o.a)(!1),0}copy(e){return Object(o.a)(!1),this}get x(){return this[0]}set x(e){this[0]=Object(i.a)(e)}get y(){return this[1]}set y(e){this[1]=Object(i.a)(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let r=0;r<this.ELEMENTS;++r){const n=this[r]-e[r];t+=n*n}return Object(i.a)(t)}dot(e){let t=0;for(let r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return Object(i.a)(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]*=t[e];return this.check()}divide(...e){for(const t of e)for(let e=0;e<this.ELEMENTS;++e)this[e]/=t[e];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Object(o.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),Object(i.a)(this[e])}setComponent(e,t){return Object(o.a)(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(2),i=r(46),o=r(10),a=r(6),u=r(12),s=r(3),c=r(8);const l=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),f=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),h=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),d={};class p extends i.a{static get IDENTITY(){return d.IDENTITY=d.IDENTITY||Object.freeze(new p(l)),d.IDENTITY}static get ZERO(){return d.ZERO=d.ZERO||Object.freeze(new p(f)),d.ZERO}get INDICES(){return h}get ELEMENTS(){return 16}get RANK(){return 4}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,r,n,i,o,a,u,s,c,l,f,h,d,p,y){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=o,this[6]=a,this[7]=u,this[8]=s,this[9]=c,this[10]=l,this[11]=f,this[12]=h,this[13]=d,this[14]=p,this[15]=y,this.check()}setRowMajor(e,t,r,n,i,o,a,u,s,c,l,f,h,d,p,y){return this[0]=e,this[1]=i,this[2]=s,this[3]=h,this[4]=t,this[5]=o,this[6]=c,this[7]=d,this[8]=r,this[9]=a,this[10]=l,this[11]=p,this[12]=n,this[13]=u,this[14]=f,this[15]=y,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(l)}fromQuaternion(e){return a.b(this,e),this.check()}frustum({left:e,right:t,bottom:r,top:n,near:i,far:o}){return o===1/0?p._computeInfinitePerspectiveOffCenter(this,e,t,r,n,i):a.c(this,e,t,r,n,i,o),this.check()}static _computeInfinitePerspectiveOffCenter(e,t,r,n,i,o){const a=2*o/(r-t),u=2*o/(i-n),s=(r+t)/(r-t),c=(i+n)/(i-n),l=-2*o;return e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=s,e[9]=c,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=l,e[15]=0,e}lookAt(e,t,r){return 1===arguments.length&&({eye:e,center:t,up:r}=e),t=t||[0,0,0],r=r||[0,1,0],a.f(this,e,t,r),this.check()}ortho({left:e,right:t,bottom:r,top:n,near:i=.1,far:o=500}){return a.h(this,e,t,r,n,i,o),this.check()}orthographic({fovy:e=45*Math.PI/180,aspect:t=1,focalDistance:r=1,near:n=.1,far:i=500}){if(e>2*Math.PI)throw Error("radians");const o=e/2,a=r*Math.tan(o),u=a*t;return(new p).ortho({left:-u,right:u,bottom:-a,top:a,near:n,far:i})}perspective({fovy:e,fov:t=45*Math.PI/180,aspect:r=1,near:n=.1,far:i=500}={}){if((e=e||t)>2*Math.PI)throw Error("radians");return a.i(this,e,r,n,i),this.check()}determinant(){return a.a(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e=[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=null){const r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*n,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*n,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e=[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=null){const r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*n,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*n,e[7]=this[9]*i,e[8]=this[10]*o,e}transpose(){return a.p(this,this),this.check()}invert(){return a.e(this,this),this.check()}multiplyLeft(e){return a.g(this,e,this),this.check()}multiplyRight(e){return a.g(this,this,e),this.check()}rotateX(e){return a.k(this,this,e),this.check()}rotateY(e){return a.l(this,this,e),this.check()}rotateZ(e){return a.m(this,this,e),this.check()}rotateXYZ([e,t,r]){return this.rotateX(e).rotateY(t).rotateZ(r)}rotateAxis(e,t){return a.j(this,this,e,t),this.check()}scale(e){return Array.isArray(e)?a.n(this,this,e):a.n(this,this,[e,e,e]),this.check()}translate(e){return a.o(this,this,e),this.check()}transform(e,t){return 4===e.length?(t=c.n(t||[-0,-0,-0,-0],e,this),Object(n.b)(t,4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:r}=e;switch(r){case 2:t=u.d(t||[-0,-0],e,this);break;case 3:t=s.m(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(n.b)(t,e.length),t}transformAsVector(e,t){switch(e.length){case 2:t=Object(o.a)(t||[-0,-0],e,this);break;case 3:t=Object(o.c)(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(n.b)(t,e.length),t}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,r){return this.identity().translate([e,t,r])}transformPoint(e,t){return Object(n.c)("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}transformVector(e,t){return Object(n.c)("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}transformDirection(e,t){return Object(n.c)("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceUrlAndType=function(e){if((0,n.isResponse)(e)){var t=a(e.url||""),r=e.headers.get("content-type")||"";return{url:t,type:(0,i.parseMIMEType)(r)||(0,i.parseMIMETypeFromURL)(t)}}if((0,n.isBlob)(e))return{url:a(e.name||""),type:e.type||""};if("string"==typeof e)return{url:a(e),type:(0,i.parseMIMETypeFromURL)(e)};return{url:"",type:""}},t.getResourceContentLength=function(e){if((0,n.isResponse)(e))return e.headers["content-length"]||-1;if((0,n.isBlob)(e))return e.size;if("string"==typeof e)return e.length;if(e instanceof ArrayBuffer)return e.byteLength;if(ArrayBuffer.isView(e))return e.byteLength;return-1};var n=r(13),i=r(132),o=/\?.*/;function a(e){return e.replace(o,"")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.12"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GL=void 0;t.GL={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35987,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,COMPRESSED_RGBA_ASTC_4X4_KHR:37808,COMPRESSED_RGBA_ASTC_5X4_KHR:37809,COMPRESSED_RGBA_ASTC_5X5_KHR:37810,COMPRESSED_RGBA_ASTC_6X5_KHR:37811,COMPRESSED_RGBA_ASTC_6X6_KHR:37812,COMPRESSED_RGBA_ASTC_8X5_KHR:37813,COMPRESSED_RGBA_ASTC_8X6_KHR:37814,COMPRESSED_RGBA_ASTC_8X8_KHR:37815,COMPRESSED_RGBA_ASTC_10X5_KHR:37816,COMPRESSED_RGBA_ASTC_10X6_KHR:37817,COMPRESSED_RGBA_ASTC_10X8_KHR:37818,COMPRESSED_RGBA_ASTC_10X10_KHR:37819,COMPRESSED_RGBA_ASTC_12X10_KHR:37820,COMPRESSED_RGBA_ASTC_12X12_KHR:37821,COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR:37847,COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR:37853,COMPRESSED_RED_RGTC1_EXT:36283,COMPRESSED_SIGNED_RED_RGTC1_EXT:36284,COMPRESSED_RED_GREEN_RGTC2_EXT:36285,COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT:36286,COMPRESSED_SRGB_S3TC_DXT1_EXT:35916,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT:35919}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TILE3D_OPTIMIZATION_HINT=t.LOD_METRIC_TYPE=t.TILESET_TYPE=t.TILE_TYPE=t.TILE_REFINEMENT=t.TILE_CONTENT_STATE=void 0;t.TILE_CONTENT_STATE={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5};t.TILE_REFINEMENT={ADD:1,REPLACE:2};t.TILE_TYPE={EMPTY:"empty",SCENEGRAPH:"scenegraph",POINTCLOUD:"pointcloud",MESH:"mesh"};t.TILESET_TYPE={I3S:"I3S",TILES3D:"TILES3D"};t.LOD_METRIC_TYPE={GEOMETRIC_ERROR:"geometricError",MAX_SCREEN_THRESHOLD:"maxScreenThreshold"};t.TILE3D_OPTIMIZATION_HINT={NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_PROPS=void 0;var n,i=(n=r(208))&&n.__esModule?n:{default:n},o=r(32);function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={loadSiblings:!1,skipLevelOfDetail:!1,maximumScreenSpaceError:2,updateTransforms:!0,onTraversalEnd:function(){},viewportTraversersMap:{},basePath:""};t.DEFAULT_PROPS=h;var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"options",void 0),f(this,"root",void 0),f(this,"requestedTiles",void 0),f(this,"selectedTiles",void 0),f(this,"emptyTiles",void 0),f(this,"_traversalStack",void 0),f(this,"_emptyTraversalStack",void 0),f(this,"_frameNumber",void 0),this.options=c(c({},h),t),this._traversalStack=new i.default,this._emptyTraversalStack=new i.default,this._frameNumber=null,this.root=null,this.selectedTiles={},this.requestedTiles={},this.emptyTiles={}}var t,r,n;return t=e,(r=[{key:"traverse",value:function(e,t,r){this.root=e,this.options=c(c({},this.options),r),this.reset(),this.updateTile(e,t),this._frameNumber=t.frameNumber,this.executeTraversal(e,t)}},{key:"reset",value:function(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}},{key:"executeTraversal",value:function(e,t){var r=this._traversalStack;for(e._selectionDepth=1,r.push(e);r.length>0;){var n=r.pop(),i=!1;this.canTraverse(n,t)&&(this.updateChildTiles(n,t),i=this.updateAndPushChildren(n,t,r,n.hasRenderContent?n._selectionDepth+1:n._selectionDepth));var a=n.parent,u=Boolean(!a||a._shouldRefine),s=!i;n.hasRenderContent?n.refine===o.TILE_REFINEMENT.ADD?(this.loadTile(n,t),this.selectTile(n,t)):n.refine===o.TILE_REFINEMENT.REPLACE&&(this.loadTile(n,t),s&&this.selectTile(n,t)):(this.emptyTiles[n.id]=n,this.loadTile(n,t),s&&this.selectTile(n,t)),this.touchTile(n,t),n._shouldRefine=i&&u}this.options.onTraversalEnd(t)}},{key:"updateChildTiles",value:function(e,t){var r,n=a(e.children);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.updateTile(i,t)}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"updateAndPushChildren",value:function(e,t,r,n){var i=this.options,u=i.loadSiblings,s=i.skipLevelOfDetail,c=e.children;c.sort(this.compareDistanceToCamera.bind(this));var l,f=e.refine===o.TILE_REFINEMENT.REPLACE&&e.hasRenderContent&&!s,h=!1,d=!0,p=a(c);try{for(p.s();!(l=p.n()).done;){var y=l.value;if(y._selectionDepth=n,y.isVisibleAndInRequestVolume?(r.find(y)&&r.delete(y),r.push(y),h=!0):(f||u)&&(this.loadTile(y,t),this.touchTile(y,t)),f){var m=void 0;if(m=!!y._inRequestVolume&&(y.hasRenderContent?y.contentAvailable:this.executeEmptyTraversal(y,t)),!(d=d&&m))return!1}}}catch(e){p.e(e)}finally{p.f()}return h||(d=!1),d}},{key:"updateTile",value:function(e,t){this.updateTileVisibility(e,t)}},{key:"selectTile",value:function(e,t){this.shouldSelectTile(e)&&(e._selectedFrame=t.frameNumber,this.selectedTiles[e.id]=e)}},{key:"loadTile",value:function(e,t){this.shouldLoadTile(e)&&(e._requestedFrame=t.frameNumber,e._priority=e._getPriority(),this.requestedTiles[e.id]=e)}},{key:"touchTile",value:function(e,t){e.tileset._cache.touch(e),e._touchedFrame=t.frameNumber}},{key:"canTraverse",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!e.hasChildren&&(e.hasTilesetContent?!e.contentExpired:!(!n&&!e.isVisibleAndInRequestVolume)&&this.shouldRefine(e,t,r))}},{key:"shouldLoadTile",value:function(e){return e.hasUnloadedContent||e.contentExpired}},{key:"shouldSelectTile",value:function(e){return e.contentAvailable&&!this.options.skipLevelOfDetail}},{key:"shouldRefine",value:function(e,t,r){var n=e._screenSpaceError;return r&&(n=e.getScreenSpaceError(t,!0)),n>this.options.maximumScreenSpaceError}},{key:"updateTileVisibility",value:function(e,t){var r=[];if(this.options.viewportTraversersMap)for(var n in this.options.viewportTraversersMap)this.options.viewportTraversersMap[n]===t.viewport.id&&r.push(n);else r.push(t.viewport.id);e.updateVisibility(t,r)}},{key:"compareDistanceToCamera",value:function(e,t){return e._distanceToCamera-t._distanceToCamera}},{key:"anyChildrenVisible",value:function(e,t){var r,n=!1,i=a(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.updateVisibility(t),n=n||o.isVisibleAndInRequestVolume}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"executeEmptyTraversal",value:function(e,t){var r=!0,n=this._emptyTraversalStack;for(n.push(e);n.length>0&&r;){var i=n.pop();if(this.updateTile(i,t),i.isVisibleAndInRequestVolume||this.loadTile(i,t),this.touchTile(i,t),!i.hasRenderContent&&this.canTraverse(i,t,!1,!0)){var o,u=a(i.children);try{for(u.s();!(o=u.n()).done;){var s=o.value;n.find(s)&&n.delete(s),n.push(s)}}catch(e){u.e(e)}finally{u.f()}}else i.contentAvailable||(r=!1)}return r}}])&&l(t.prototype,r),n&&l(t,n),e}();t.default=d},function(e,t,r){"use strict";r.r(t),r.d(t,"Stats",(function(){return o})),r.d(t,"Stat",(function(){return i})),r.d(t,"_getHiResTimestamp",(function(){return n.a}));var n=r(35);class i{constructor(e,t){this.name=e,this.type=t,this.sampleSize=1,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=Object(n.a)(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(Object(n.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class o{constructor({id:e,stats:t}){this.id=e,this.stats={},this._initializeStats(t),Object.seal(this)}get(e,t="count"){return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(e=>this._getOrCreate(e))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:r}=e;return this.stats[t]||(this.stats[t]=e instanceof i?e:new i(t,r)),this.stats[t]}}},function(e,t,r){"use strict";(function(e){function n(){let t;if("undefined"!=typeof window&&window.performance)t=window.performance.now();else if(void 0!==e&&e.hrtime){const r=e.hrtime();t=1e3*r[0]+r[1]/1e6}else t=Date.now();return t}r.d(t,"a",(function(){return n}))}).call(this,r(18))},function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r(16),i=r(2),o=r(9),a=r(0),u=r(11),s=r(3),c=r(8);function l(){var e=new a.a(4);return a.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function f(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function h(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=r[0],s=r[1],c=r[2],l=r[3];return e[0]=n*l+a*u+i*c-o*s,e[1]=i*l+a*s+o*u-n*c,e[2]=o*l+a*c+n*s-i*u,e[3]=a*l-n*u-i*s-o*c,e}function d(e,t,r,n){var i,o,u,s,c,l=t[0],f=t[1],h=t[2],d=t[3],p=r[0],y=r[1],m=r[2],b=r[3];return(o=l*p+f*y+h*m+d*b)<0&&(o=-o,p=-p,y=-y,m=-m,b=-b),1-o>a.b?(i=Math.acos(o),u=Math.sin(i),s=Math.sin((1-n)*i)/u,c=Math.sin(n*i)/u):(s=1-n,c=n),e[0]=s*l+c*p,e[1]=s*f+c*y,e[2]=s*h+c*m,e[3]=s*d+c*b,e}function p(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*o+a]-t[3*a+o])*r,e[o]=(t[3*o+i]+t[3*i+o])*r,e[a]=(t[3*a+i]+t[3*i+a])*r}return e}c.b,c.g,c.c,c.l;var y,m,b,v,_,g,E=c.a,O=c.k,T=c.d,S=c.i,R=c.h,w=c.m,A=c.j,P=(c.f,c.e,y=s.b(),m=s.e(1,0,0),b=s.e(0,1,0),function(e,t,r){var n=s.d(t,r);return n<-.999999?(s.c(y,m,t),s.f(y)<1e-6&&s.c(y,b,t),s.h(y,y),f(e,y,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(s.c(y,t,r),e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=1+n,A(e,e))});v=l(),_=l(),g=u.a();const M=[0,0,0,1];class I extends n.a{constructor(e=0,t=0,r=0,n=1){super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,r,n)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}fromMatrix3(e){return p(this,e),this.check()}identity(){var e;return(e=this)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.check()}fromAxisRotation(e,t){return f(this,e,t),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=Object(i.a)(e)}get y(){return this[1]}set y(e){this[1]=Object(i.a)(e)}get z(){return this[2]}set z(e){this[2]=Object(i.a)(e)}get w(){return this[3]}set w(e){this[3]=Object(i.a)(e)}len(){return R(this)}lengthSquared(){return w(this)}dot(e,t){if(void 0!==t)throw new Error("Quaternion.dot only takes one argument");return T(this,e)}rotationTo(e,t){return P(this,e,t),this.check()}add(e,t){if(void 0!==t)throw new Error("Quaternion.add only takes one argument");return E(this,this,e),this.check()}calculateW(){var e,t,r,n,i;return e=this,r=(t=this)[0],n=t[1],i=t[2],e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),this.check()}conjugate(){var e,t;return t=this,(e=this)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.check()}invert(){var e,t,r,n,i,o,a,u;return e=this,r=(t=this)[0],n=t[1],i=t[2],o=t[3],u=(a=r*r+n*n+i*i+o*o)?1/a:0,e[0]=-r*u,e[1]=-n*u,e[2]=-i*u,e[3]=o*u,this.check()}lerp(e,t,r){return S(this,e,t,r),this.check()}multiplyRight(e,t){return Object(o.a)(!t),h(this,this,e),this.check()}multiplyLeft(e,t){return Object(o.a)(!t),h(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(r),s=Math.cos(r);e[0]=n*s+a*u,e[1]=i*s+o*u,e[2]=o*s-i*u,e[3]=a*s-n*u}(this,this,e),this.check()}rotateY(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(r),s=Math.cos(r);e[0]=n*s-o*u,e[1]=i*s+a*u,e[2]=o*s+n*u,e[3]=a*s-i*u}(this,this,e),this.check()}rotateZ(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(r),s=Math.cos(r);e[0]=n*s+i*u,e[1]=i*s-n*u,e[2]=o*s+a*u,e[3]=a*s-o*u}(this,this,e),this.check()}scale(e){return O(this,this,e),this.check()}slerp(e,t,r){switch(arguments.length){case 1:({start:e=M,target:t,ratio:r}=arguments[0]);break;case 2:[t,r]=arguments,e=this}return d(this,e,t,r),this.check()}transformVector4(e,t=e){return c.o(t,e,this),Object(i.b)(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e,t){return this.multiplyLeft(e,t)}multiply(e,t){return this.multiplyRight(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.12"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectLoader=function(e){return _.apply(this,arguments)},t.selectLoaderSync=g;var n=r(4),i=r(20),o=r(29),a=r(75),u=r(13);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function d(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){m(o,n,i,a,u,"next",e)}function u(e){m(o,n,i,a,u,"throw",e)}a(void 0)}))}}var v=/\.([^.]+)$/;function _(){return(_=b(regeneratorRuntime.mark((function e(t){var r,n,i,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:[],n=a.length>2?a[2]:void 0,i=a.length>3?a[3]:void 0,O(t)){e.next=5;break}return e.abrupt("return",null);case 5:if(!(o=g(t,r,c(c({},n),{},{nothrow:!0}),i))){e.next=8;break}return e.abrupt("return",o);case 8:if(!(0,u.isBlob)(t)){e.next=13;break}return e.next=11,t.slice(0,10).arrayBuffer();case 11:t=e.sent,o=g(t,r,n,i);case 13:if(o||null!=n&&n.nothrow){e.next=15;break}throw new Error(T(t));case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!O(e))return null;if(t&&!Array.isArray(t))return(0,i.normalizeLoader)(t);var o,u=[];(t&&(u=u.concat(t)),null!=r&&r.ignoreRegisteredLoaders)||(o=u).push.apply(o,d((0,a.getRegisteredLoaders)()));S(u);var s=E(e,u,r,n);if(!(s||null!=r&&r.nothrow))throw new Error(T(e));return s}function E(e,t,r,n){var i=(0,o.getResourceUrlAndType)(e),a=i.url,u=i.type,s=a||(null==n?void 0:n.url),c=null;return null!=r&&r.mimeType&&(c=R(t,null==r?void 0:r.mimeType)),c=(c=(c=(c=c||function(e,t){var r=t&&v.exec(t),n=r&&r[1];return n?function(e,t){t=t.toLowerCase();var r,n=h(e);try{for(n.s();!(r=n.n()).done;){var i,o=r.value,a=h(o.extensions);try{for(a.s();!(i=a.n()).done;){if(i.value.toLowerCase()===t)return o}}catch(e){a.e(e)}finally{a.f()}}}catch(e){n.e(e)}finally{n.f()}return null}(e,n):null}(t,s))||R(t,u))||function(e,t){if(!t)return null;var r,n=h(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("string"==typeof t){if(w(t,i))return i}else if(ArrayBuffer.isView(t)){if(A(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(A(t,0,i))return i}}}catch(e){n.e(e)}finally{n.f()}return null}(t,e))||R(t,null==r?void 0:r.fallbackMimeType)}function O(e){return!(e instanceof Response&&204===e.status)}function T(e){var t=(0,o.getResourceUrlAndType)(e),r=t.url,n=t.type,i="No valid loader found";return e&&(i+=' data: "'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return P(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return P(e,r,t)}return""}(e),'", contentType: "').concat(n,'"')),r&&(i+=" url: ".concat(r)),i}function S(e){var t,r=h(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;(0,i.normalizeLoader)(n)}}catch(e){r.e(e)}finally{r.f()}}function R(e,t){var r,n=h(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t==="application/x.".concat(i.id))return i}}catch(e){n.e(e)}finally{n.f()}return null}function w(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some((function(t){return e.startsWith(t)}))}function A(e,t,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some((function(i){return function(e,t,r,i){if(i instanceof ArrayBuffer)return(0,n.compareArrayBuffers)(i,e,i.byteLength);switch(f(i)){case"function":return i(e,r);case"string":var o=P(e,t,i.length);return i===o;default:return!1}}(e,t,r,i)}))}function P(e,t,r){if(e.byteLength<t+r)return"";for(var n=new DataView(e),i="",o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(t+o));return i}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1),i=r(22),o=r(3);class a{constructor({phi:e=0,theta:t=0,radius:r=1,bearing:n,pitch:i,altitude:o,radiusScale:a=6371e3}={}){this.phi=e,this.theta=t,this.radius=r||o||1,this.radiusScale=a||1,void 0!==n&&(this.bearing=n),void 0!==i&&(this.pitch=i),this.check()}toString(){return this.formatString(n.f)}formatString({printTypes:e=!1}){const t=n.l;return"".concat(e?"Spherical":"","[rho:").concat(t(this.radius),",theta:").concat(t(this.theta),",phi:").concat(t(this.phi),"]")}equals(e){return Object(n.j)(this.radius,e.radius)&&Object(n.j)(this.theta,e.theta)&&Object(n.j)(this.phi,e.phi)}exactEquals(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}get bearing(){return 180-Object(n.i)(this.phi)}set bearing(e){this.phi=Math.PI-Object(n.o)(e)}get pitch(){return Object(n.i)(this.theta)}set pitch(e){this.theta=Object(n.o)(e)}get longitude(){return Object(n.i)(this.phi)}get latitude(){return Object(n.i)(this.theta)}get lng(){return Object(n.i)(this.phi)}get lat(){return Object(n.i)(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this.check()}clone(){return(new a).copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}fromLngLatZ([e,t,r]){this.radius=1+r/this.radiusScale,this.phi=Object(n.o)(t),this.theta=Object(n.o)(e)}fromVector3(e){return this.radius=o.g(e),this.radius>0&&(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos(Object(n.d)(e[2]/this.radius,-1,1))),this.check()}toVector3(){return new i.a(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(28),i=r(22),o=r(15);class a{constructor({x:e=0,y:t=0,z:r=0,roll:n=0,pitch:a=0,yaw:u=0,position:s,orientation:c}={}){Array.isArray(s)&&3===s.length?this.position=new i.a(s):this.position=new i.a(e,t,r),Array.isArray(c)&&4===c.length?this.orientation=new o.a(c,c[3]):this.orientation=new o.a(n,a,u,o.a.RollPitchYaw)}get x(){return this.position.x}set x(e){this.position.x=e}get y(){return this.position.y}set y(e){this.position.y=e}get z(){return this.position.z}set z(e){this.position.z=e}get roll(){return this.orientation.roll}set roll(e){this.orientation.roll=e}get pitch(){return this.orientation.pitch}set pitch(e){this.orientation.pitch=e}get yaw(){return this.orientation.yaw}set yaw(e){this.orientation.yaw=e}getPosition(){return this.position}getOrientation(){return this.orientation}equals(e){return!!e&&(this.position.equals(e.position)&&this.orientation.equals(e.orientation))}exactEquals(e){return!!e&&(this.position.exactEquals(e.position)&&this.orientation.exactEquals(e.orientation))}getTransformationMatrix(){const e=Math.sin(this.roll),t=Math.sin(this.pitch),r=Math.sin(this.yaw),i=Math.cos(this.roll),o=Math.cos(this.pitch),a=Math.cos(this.yaw);return(new n.a).setRowMajor(a*o,-r*i+a*t*e,r*e+a*t*i,this.x,r*o,a*i+r*t*e,-a*e+r*t*i,this.y,-t,o*e,o*i,this.z,0,0,0,1)}getTransformationMatrixFromPose(e){return(new n.a).multiplyRight(this.getTransformationMatrix()).multiplyRight(e.getTransformationMatrix().invert())}getTransformationMatrixToPose(e){return(new n.a).multiplyRight(e.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageLoader",{enumerable:!0,get:function(){return n.ImageLoader}}),Object.defineProperty(t,"ImageWriter",{enumerable:!0,get:function(){return i.ImageWriter}}),Object.defineProperty(t,"getBinaryImageMetadata",{enumerable:!0,get:function(){return o.getBinaryImageMetadata}}),Object.defineProperty(t,"isImageTypeSupported",{enumerable:!0,get:function(){return a.isImageTypeSupported}}),Object.defineProperty(t,"getDefaultImageType",{enumerable:!0,get:function(){return a.getDefaultImageType}}),Object.defineProperty(t,"isImage",{enumerable:!0,get:function(){return u.isImage}}),Object.defineProperty(t,"getImageType",{enumerable:!0,get:function(){return u.getImageType}}),Object.defineProperty(t,"getImageSize",{enumerable:!0,get:function(){return u.getImageSize}}),Object.defineProperty(t,"getImageData",{enumerable:!0,get:function(){return u.getImageData}}),Object.defineProperty(t,"loadImage",{enumerable:!0,get:function(){return s.loadImage}});var n=r(153),i=r(156),o=r(56),a=r(87),u=r(43),s=r(158)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){var t=a(e);if(!t)throw new Error("Not an image");return t}function o(e){switch(i(e)){case"data":return e;case"image":case"imagebitmap":var t=document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("getImageData");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function a(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!=typeof Image&&e instanceof Image?"image":e&&"object"===n(e)&&e.data&&e.width&&e.height?"data":null}Object.defineProperty(t,"__esModule",{value:!0}),t.isImage=function(e){return Boolean(a(e))},t.deleteImage=function(e){switch(i(e)){case"imagebitmap":e.close()}},t.getImageType=i,t.getImageSize=function(e){return o(e)},t.getImageData=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlWithToken=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?"".concat(e,"?token=").concat(t):e},t.generateTileAttributeUrls=function(e){for(var t=e.url,r=e.attributeData,n=[],i=0;i<r.length;i++){var o=r[i].href.replace("./","");n.push("".concat(t,"/").concat(o))}return n},t.generateTilesetAttributeUrls=function(e,t){for(var r=[],n=e.attributeStorageInfo,i=e.url,o=0;o<n.length;o++){var a=n[o].key;r.push("".concat(i,"/nodes/").concat(t,"/attributes/").concat(a,"/0"))}return r}},function(e,t,r){"use strict";r.r(t),r.d(t,"INTERSECTION",(function(){return n})),r.d(t,"AxisAlignedBoundingBox",(function(){return u})),r.d(t,"BoundingSphere",(function(){return f})),r.d(t,"OrientedBoundingBox",(function(){return I})),r.d(t,"CullingVolume",(function(){return U})),r.d(t,"Plane",(function(){return k})),r.d(t,"_PerspectiveOffCenterFrustum",(function(){return z})),r.d(t,"_PerspectiveFrustum",(function(){return Y})),r.d(t,"makeBoundingSphereFromPoints",(function(){return se})),r.d(t,"makeAxisAlignedBoundingBoxFromPoints",(function(){return Pe})),r.d(t,"makeOrientedBoundingBoxFromPoints",(function(){return Ae})),r.d(t,"computeEigenDecomposition",(function(){return ye})),r.d(t,"Intersect",(function(){return n})),r.d(t,"INTERSECT",(function(){return n}));const n=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});var i=r(22);const o=new i.a,a=new i.a;class u{constructor(e=[0,0,0],t=[0,0,0],r=null){r=r||o.copy(e).add(t).scale(.5),this.center=new i.a(r),this.halfDiagonal=new i.a(t).subtract(this.center),this.minimum=new i.a(e),this.maximum=new i.a(t)}clone(){return new u(this.minimum,this.maximum,this.center)}equals(e){return this===e||Boolean(e)&&this.minimum.equals(e.minimum)&&this.maximum.equals(e.maximum)}transform(e){return this.center.transformAsPoint(e),this.halfDiagonal.transform(e),this.minimum.transform(e),this.maximum.transform(e),this}intersectPlane(e){const{halfDiagonal:t}=this,r=a.from(e.normal),i=t.x*Math.abs(r.x)+t.y*Math.abs(r.y)+t.z*Math.abs(r.z),o=this.center.dot(r)+e.distance;return o-i>0?n.INSIDE:o+i<0?n.OUTSIDE:n.INTERSECTING}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}distanceSquaredTo(e){const t=o.from(e).subtract(this.center),{halfDiagonal:r}=this;let n,i=0;return n=Math.abs(t.x)-r.x,n>0&&(i+=n*n),n=Math.abs(t.y)-r.y,n>0&&(i+=n*n),n=Math.abs(t.z)-r.z,n>0&&(i+=n*n),i}}var s=r(6);const c=new i.a,l=new i.a;class f{constructor(e=[0,0,0],t=0){this.radius=-0,this.center=new i.a,this.fromCenterRadius(e,t)}fromCenterRadius(e,t){return this.center.from(e),this.radius=t,this}fromCornerPoints(e,t){return t=c.from(t),this.center=(new i.a).from(e).add(t).scale(.5),this.radius=this.center.distance(t),this}equals(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.radius===e.radius}clone(){return new f(this.center,this.radius)}union(e){const t=this.center,r=this.radius,n=e.center,i=e.radius,o=c.copy(n).subtract(t),a=o.magnitude();if(r>=a+i)return this.clone();if(i>=a+r)return e.clone();const u=.5*(r+a+i);return l.copy(o).scale((-r+u)/a).add(t),this.center.copy(l),this.radius=u,this}expand(e){const t=(e=c.from(e)).subtract(this.center).magnitude();return t>this.radius&&(this.radius=t),this}transform(e){this.center.transform(e);const t=s.d(c,e);return this.radius=Math.max(t[0],Math.max(t[1],t[2]))*this.radius,this}distanceSquaredTo(e){return(e=c.from(e)).subtract(this.center).lengthSquared()-this.radius*this.radius}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}intersectPlane(e){const t=this.center,r=this.radius,i=e.normal.dot(t)+e.distance;return i<-r?n.OUTSIDE:i<r?n.INTERSECTING:n.INSIDE}}var h=r(83),d=r(36);const p=new i.a,y=new i.a,m=new i.a,b=new i.a,v=new i.a,_=new i.a,g=new i.a,E=0,O=1,T=2,S=3,R=4,w=5,A=6,P=7,M=8;class I{constructor(e=[0,0,0],t=[0,0,0,0,0,0,0,0,0]){this.center=(new i.a).from(e),this.halfAxes=new h.a(t)}get halfSize(){const e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2);return[new i.a(e).len(),new i.a(t).len(),new i.a(r).len()]}get quaternion(){const e=this.halfAxes.getColumn(0),t=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2),n=new i.a(e).normalize(),o=new i.a(t).normalize(),a=new i.a(r).normalize();return(new d.a).fromMatrix3(new h.a([...n,...o,...a]))}fromCenterHalfSizeQuaternion(e,t,r){const n=new d.a(r),o=(new h.a).fromQuaternion(n);return o[0]=o[0]*t[0],o[1]=o[1]*t[0],o[2]=o[2]*t[0],o[3]=o[3]*t[1],o[4]=o[4]*t[1],o[5]=o[5]*t[1],o[6]=o[6]*t[2],o[7]=o[7]*t[2],o[8]=o[8]*t[2],this.center=(new i.a).from(e),this.halfAxes=o,this}clone(){return new I(this.center,this.halfAxes)}equals(e){return this===e||Boolean(e)&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}getBoundingSphere(e=new f){const t=this.halfAxes,r=t.getColumn(0,m),n=t.getColumn(1,b),i=t.getColumn(2,v),o=p.copy(r).add(n).add(i);return e.center.copy(this.center),e.radius=o.magnitude(),e}intersectPlane(e){const t=this.center,r=e.normal,i=this.halfAxes,o=r.x,a=r.y,u=r.z,s=Math.abs(o*i[E]+a*i[O]+u*i[T])+Math.abs(o*i[S]+a*i[R]+u*i[w])+Math.abs(o*i[A]+a*i[P]+u*i[M]),c=r.dot(t)+e.distance;return c<=-s?n.OUTSIDE:c>=s?n.INSIDE:n.INTERSECTING}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}distanceSquaredTo(e){const t=y.from(e).subtract(this.center),r=this.halfAxes,n=r.getColumn(0,m),i=r.getColumn(1,b),o=r.getColumn(2,v),a=n.magnitude(),u=i.magnitude(),s=o.magnitude();n.normalize(),i.normalize(),o.normalize();let c,l=0;return c=Math.abs(t.dot(n))-a,c>0&&(l+=c*c),c=Math.abs(t.dot(i))-u,c>0&&(l+=c*c),c=Math.abs(t.dot(o))-s,c>0&&(l+=c*c),l}computePlaneDistances(e,t,r=[-0,-0]){let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;const o=this.center,a=this.halfAxes,u=a.getColumn(0,m),s=a.getColumn(1,b),c=a.getColumn(2,v),l=_.copy(u).add(s).add(c).add(o),f=g.copy(l).subtract(e);let h=t.dot(f);return n=Math.min(h,n),i=Math.max(h,i),l.copy(o).add(u).add(s).subtract(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),l.copy(o).add(u).subtract(s).add(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),l.copy(o).add(u).subtract(s).subtract(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),o.copy(l).subtract(u).add(s).add(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),o.copy(l).subtract(u).add(s).subtract(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),o.copy(l).subtract(u).subtract(s).add(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),o.copy(l).subtract(u).subtract(s).subtract(c),f.copy(l).subtract(e),h=t.dot(f),n=Math.min(h,n),i=Math.max(h,i),r[0]=n,r[1]=i,r}transform(e){this.center.transformAsPoint(e);const t=this.halfAxes.getColumn(0,m);t.transformAsPoint(e);const r=this.halfAxes.getColumn(1,b);r.transformAsPoint(e);const n=this.halfAxes.getColumn(2,v);return n.transformAsPoint(e),this.halfAxes=new h.a([...t,...r,...n]),this}getTransform(){throw new Error("not implemented")}}var x=r(9),C=r(1);const j=new i.a,D=new i.a;class k{constructor(e=[0,0,1],t=0){this.normal=new i.a,this.distance=-0,this.fromNormalDistance(e,t)}fromNormalDistance(e,t){return Object(x.a)(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}fromPointNormal(e,t){e=j.from(e),this.normal.from(t).normalize();const r=-this.normal.dot(e);return this.distance=r,this}fromCoefficients(e,t,r,n){return this.normal.set(e,t,r),Object(x.a)(Object(C.j)(this.normal.len(),1)),this.distance=n,this}clone(e){return new k(this.normal,this.distance)}equals(e){return Object(C.j)(this.distance,e.distance)&&Object(C.j)(this.normal,e.normal)}getPointDistance(e){return this.normal.dot(e)+this.distance}transform(e){const t=D.copy(this.normal).transformAsVector(e).normalize(),r=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(r,t)}projectPointOntoPlane(e,t=[0,0,0]){e=j.from(e);const r=this.getPointDistance(e),n=D.copy(this.normal).scale(r);return e.subtract(n).to(t)}}const L=[new i.a([1,0,0]),new i.a([0,1,0]),new i.a([0,0,1])],N=new i.a,B=new i.a;new k(new i.a(1,0,0),0);class U{static get MASK_OUTSIDE(){return 4294967295}static get MASK_INSIDE(){return 0}static get MASK_INDETERMINATE(){return 2147483647}constructor(e=[]){this.planes=e,Object(x.a)(this.planes.every(e=>e instanceof k))}fromBoundingSphere(e){this.planes.length=2*L.length;const t=e.center,r=e.radius;let n=0;for(const e of L){let i=this.planes[n],o=this.planes[n+1];i||(i=this.planes[n]=new k),o||(o=this.planes[n+1]=new k);const a=N.copy(e).scale(-r).add(t);e.dot(a);i.fromPointNormal(a,e);const u=N.copy(e).scale(r).add(t),s=B.copy(e).negate();s.dot(u);o.fromPointNormal(u,s),n+=2}return this}computeVisibility(e){Object(x.a)(e);let t=n.INSIDE;for(const r of this.planes){switch(e.intersectPlane(r)){case n.OUTSIDE:return n.OUTSIDE;case n.INTERSECTING:t=n.INTERSECTING}}return t}computeVisibilityWithPlaneMask(e,t){if(Object(x.a)(e,"boundingVolume is required."),Object(x.a)(Number.isFinite(t),"parentPlaneMask is required."),t===U.MASK_OUTSIDE||t===U.MASK_INSIDE)return t;let r=U.MASK_INSIDE;const i=this.planes;for(let o=0;o<this.planes.length;++o){const a=o<31?1<<o:0;if(o<31&&0==(t&a))continue;const u=i[o],s=e.intersectPlane(u);if(s===n.OUTSIDE)return U.MASK_OUTSIDE;s===n.INTERSECTING&&(r|=a)}return r}}var F=r(28);const G=new i.a,V=new i.a,H=new i.a,W=new i.a,X=new i.a;class z{constructor(e={}){e={near:1,far:5e8,...e},this.left=e.left,this._left=void 0,this.right=e.right,this._right=void 0,this.top=e.top,this._top=void 0,this.bottom=e.bottom,this._bottom=void 0,this.near=e.near,this._near=this.near,this.far=e.far,this._far=this.far,this._cullingVolume=new U([new k,new k,new k,new k,new k,new k]),this._perspectiveMatrix=new F.a,this._infinitePerspective=new F.a}clone(){return new z({right:this.right,left:this.left,top:this.top,bottom:this.bottom,near:this.near,far:this.far})}equals(e){return e&&e instanceof z&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far}get projectionMatrix(){return q(this),this._perspectiveMatrix}get infiniteProjectionMatrix(){return q(this),this._infinitePerspective}computeCullingVolume(e,t,r){Object(x.a)(e,"position is required."),Object(x.a)(t,"direction is required."),Object(x.a)(r,"up is required.");const n=this._cullingVolume.planes;r=G.copy(r).normalize();const o=V.copy(t).cross(r).normalize(),a=H.copy(t).multiplyByScalar(this.near).add(e),u=W.copy(t).multiplyByScalar(this.far).add(e);let s=X;return s.copy(o).multiplyByScalar(this.left).add(a).subtract(e).cross(r),n[0].fromPointNormal(e,s),s.copy(o).multiplyByScalar(this.right).add(a).subtract(e).cross(r).negate(),n[1].fromPointNormal(e,s),s.copy(r).multiplyByScalar(this.bottom).add(a).subtract(e).cross(o).negate(),n[2].fromPointNormal(e,s),s.copy(r).multiplyByScalar(this.top).add(a).subtract(e).cross(o),n[3].fromPointNormal(e,s),s=(new i.a).copy(t),n[4].fromPointNormal(a,s),s.negate(),n[5].fromPointNormal(u,s),this._cullingVolume}getPixelDimensions(e,t,r,n){q(this),Object(x.a)(Number.isFinite(e)&&Number.isFinite(t)),Object(x.a)(e>0),Object(x.a)(t>0),Object(x.a)(r>0),Object(x.a)(n);const i=1/this.near;let o=this.top*i;const a=2*r*o/t;o=this.right*i;const u=2*r*o/e;return n.x=u,n.y=a,n}}function q(e){Object(x.a)(Number.isFinite(e.right)&&Number.isFinite(e.left)&&Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.near)&&Number.isFinite(e.far));const{top:t,bottom:r,right:n,left:i,near:o,far:a}=e;t===e._top&&r===e._bottom&&i===e._left&&n===e._right&&o===e._near&&a===e._far||(Object(x.a)(e.near>0&&e.near<e.far,"near must be greater than zero and less than far."),e._left=i,e._right=n,e._top=t,e._bottom=r,e._near=o,e._far=a,e._perspectiveMatrix=(new F.a).frustum({left:i,right:n,bottom:r,top:t,near:o,far:a}),e._infinitePerspective=(new F.a).frustum({left:i,right:n,bottom:r,top:t,near:o,far:1/0}))}class Y{constructor(e={}){e={near:1,far:5e8,xOffset:0,yOffset:0,...e},this._offCenterFrustum=new z,this.fov=e.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=e.aspectRatio,this._aspectRatio=void 0,this.near=e.near,this._near=this.near,this.far=e.far,this._far=this.far,this.xOffset=e.xOffset,this._xOffset=this.xOffset,this.yOffset=e.yOffset,this._yOffset=this.yOffset}clone(){return new Y({aspectRatio:this.aspectRatio,fov:this.fov,near:this.near,far:this.far})}equals(e){return null!=e&&e instanceof Y&&(K(this),K(e),this.fov===e.fov&&this.aspectRatio===e.aspectRatio&&this.near===e.near&&this.far===e.far&&this._offCenterFrustum.equals(e._offCenterFrustum))}get projectionMatrix(){return K(this),this._offCenterFrustum.projectionMatrix}get infiniteProjectionMatrix(){return K(this),this._offCenterFrustum.infiniteProjectionMatrix}get fovy(){return K(this),this._fovy}get sseDenominator(){return K(this),this._sseDenominator}computeCullingVolume(e,t,r){return K(this),this._offCenterFrustum.computeCullingVolume(e,t,r)}getPixelDimensions(e,t,r,n){return K(this),this._offCenterFrustum.getPixelDimensions(e,t,r,n)}}function K(e){Object(x.a)(Number.isFinite(e.fov)&&Number.isFinite(e.aspectRatio)&&Number.isFinite(e.near)&&Number.isFinite(e.far));const t=e._offCenterFrustum;e.fov===e._fov&&e.aspectRatio===e._aspectRatio&&e.near===e._near&&e.far===e._far&&e.xOffset===e._xOffset&&e.yOffset===e._yOffset||(Object(x.a)(e.fov>=0&&e.fov<Math.PI),Object(x.a)(e.aspectRatio>0),Object(x.a)(e.near>=0&&e.near<e.far),e._aspectRatio=e.aspectRatio,e._fov=e.fov,e._fovy=e.aspectRatio<=1?e.fov:2*Math.atan(Math.tan(.5*e.fov)/e.aspectRatio),e._near=e.near,e._far=e.far,e._sseDenominator=2*Math.tan(.5*e._fovy),e._xOffset=e.xOffset,e._yOffset=e.yOffset,t.top=e.near*Math.tan(.5*e._fovy),t.bottom=-t.top,t.right=e.aspectRatio*t.top,t.left=-t.right,t.near=e.near,t.far=e.far,t.right+=e.xOffset,t.left+=e.xOffset,t.top+=e.yOffset,t.bottom+=e.yOffset)}const Z=new i.a,Q=new i.a,J=new i.a,$=new i.a,ee=new i.a,te=new i.a,re=new i.a,ne=new i.a,ie=new i.a,oe=new i.a,ae=new i.a,ue=new i.a;Math.PI;function se(e,t=new f){if(!e||0===e.length)return t.fromCenterRadius([0,0,0],0);const r=re.copy(e[0]),n=Z.copy(r),i=Q.copy(r),o=J.copy(r),a=$.copy(r),u=ee.copy(r),s=te.copy(r);for(const t of e){r.copy(t);const e=r.x,c=r.y,l=r.z;e<n.x&&r.copy(n),e>a.x&&r.copy(a),c<i.y&&r.copy(i),c>u.y&&r.copy(u),l<o.z&&r.copy(o),l>s.z&&r.copy(s)}const c=ne.copy(a).subtract(n).magnitudeSquared(),l=ne.copy(u).subtract(i).magnitudeSquared(),h=ne.copy(s).subtract(o).magnitudeSquared();let d=n,p=a,y=c;l>y&&(y=l,d=i,p=u),h>y&&(y=h,d=o,p=s);const m=ie;m.x=.5*(d.x+p.x),m.y=.5*(d.y+p.y),m.z=.5*(d.z+p.z);let b=ne.copy(p).subtract(m).magnitudeSquared(),v=Math.sqrt(b);const _=oe;_.x=n.x,_.y=i.y,_.z=o.z;const g=ae;g.x=a.x,g.y=u.y,g.z=s.z;const E=ue.copy(_).add(g).multiplyByScalar(.5);let O=0;for(const t of e){r.copy(t);const e=ne.copy(r).subtract(E).magnitude();e>O&&(O=e);const n=ne.copy(r).subtract(m).magnitudeSquared();if(n>b){const e=Math.sqrt(n);v=.5*(v+e),b=v*v;const t=e-v;m.x=(v*m.x+t*r.x)/e,m.y=(v*m.y+t*r.y)/e,m.z=(v*m.z+t*r.z)/e}}return v<O?(m.to(t.center),t.radius=v):(E.to(t.center),t.radius=O),t}var ce=r(84);const le=new h.a,fe=new h.a,he=new h.a,de=new h.a,pe=new h.a;function ye(e,t={}){const r=ce.a.EPSILON20;let n=0,i=0;const o=fe,a=he;o.identity(),a.copy(e);const u=r*function(e){let t=0;for(let r=0;r<9;++r){const n=e[r];t+=n*n}return Math.sqrt(t)}(a);for(;i<10&&ve(a)>u;)_e(a,de),pe.copy(de).transpose(),a.multiplyRight(de),a.multiplyLeft(pe),o.multiplyRight(de),++n>2&&(++i,n=0);return t.unitary=o.toTarget(t.unitary),t.diagonal=a.toTarget(t.diagonal),t}const me=[1,0,0],be=[2,2,1];function ve(e){let t=0;for(let r=0;r<3;++r){const n=e[le.getElementIndex(be[r],me[r])];t+=2*n*n}return Math.sqrt(t)}function _e(e,t){const r=ce.a.EPSILON15;let n=0,i=1;for(let t=0;t<3;++t){const r=Math.abs(e[le.getElementIndex(be[t],me[t])]);r>n&&(i=t,n=r)}const o=me[i],a=be[i];let u=1,s=0;if(Math.abs(e[le.getElementIndex(a,o)])>r){const t=(e[le.getElementIndex(a,a)]-e[le.getElementIndex(o,o)])/2/e[le.getElementIndex(a,o)];let r;r=t<0?-1/(-t+Math.sqrt(1+t*t)):1/(t+Math.sqrt(1+t*t)),u=1/Math.sqrt(1+r*r),s=r*u}return h.a.IDENTITY.to(t),t[le.getElementIndex(o,o)]=t[le.getElementIndex(a,a)]=u,t[le.getElementIndex(a,o)]=s,t[le.getElementIndex(o,a)]=-s,t}const ge=new i.a,Ee=new i.a,Oe=new i.a,Te=new i.a,Se=new i.a,Re=new h.a,we={diagonal:new h.a,unitary:new h.a};function Ae(e,t=new I){if(!e||0===e.length)return t.halfAxes=new h.a([0,0,0,0,0,0,0,0,0]),t.center=new i.a,t;const r=e.length,n=new i.a(0,0,0);for(const t of e)n.add(t);const o=1/r;n.multiplyByScalar(o);let a=0,u=0,s=0,c=0,l=0,f=0;for(const t of e){const e=ge.copy(t).subtract(n);a+=e.x*e.x,u+=e.x*e.y,s+=e.x*e.z,c+=e.y*e.y,l+=e.y*e.z,f+=e.z*e.z}a*=o,u*=o,s*=o,c*=o,l*=o,f*=o;const d=Re;d[0]=a,d[1]=u,d[2]=s,d[3]=u,d[4]=c,d[5]=l,d[6]=s,d[7]=l,d[8]=f;const{unitary:p}=ye(d,we),y=t.halfAxes.copy(p);let m=y.getColumn(0,Oe),b=y.getColumn(1,Te),v=y.getColumn(2,Se),_=-Number.MAX_VALUE,g=-Number.MAX_VALUE,E=-Number.MAX_VALUE,O=Number.MAX_VALUE,T=Number.MAX_VALUE,S=Number.MAX_VALUE;for(const t of e)_=Math.max(t.dot(m),_),g=Math.max(t.dot(b),g),E=Math.max(t.dot(v),E),O=Math.min(t.dot(m),O),T=Math.min(t.dot(b),T),S=Math.min(t.dot(v),S);m=m.multiplyByScalar(.5*(O+_)),b=b.multiplyByScalar(.5*(T+g)),v=v.multiplyByScalar(.5*(S+E)),t.center.copy(m).add(b).add(v);const R=Ee.set(_-O,g-T,E-S).multiplyByScalar(.5),w=new h.a([R[0],0,0,0,R[1],0,0,0,R[2]]);return t.halfAxes.multiplyRight(w),t}function Pe(e,t=new u){if(!e||0===e.length)return t.minimum.set(0,0,0),t.maximum.set(0,0,0),t.center.set(0,0,0),t.halfDiagonal.set(0,0,0),t;let r=e[0][0],n=e[0][1],i=e[0][2],o=e[0][0],a=e[0][1],s=e[0][2];for(const t of e){const e=t[0],u=t[1],c=t[2];r=Math.min(e,r),o=Math.max(e,o),n=Math.min(u,n),a=Math.max(u,a),i=Math.min(c,i),s=Math.max(c,s)}return t.minimum.set(r,n,i),t.maximum.set(o,a,s),t.center.copy(t.minimum).add(t.maximum).scale(.5),t.halfDiagonal.copy(t.maximum).subtract(t.center),t}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(16),i=r(2),o=r(1),a=r(9);class u extends n.a{get ELEMENTS(){return Object(a.a)(!1),0}get RANK(){return Object(a.a)(!1),0}toString(){let e="[";if(o.f.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let r=0;r<this.RANK;++r)e+=" ".concat(this[r*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,r){return this[t*this.RANK+e]=Object(i.a)(r),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const r=e*this.RANK;for(let e=0;e<this.RANK;++e)t[e]=this[r+e];return t}setColumn(e,t){const r=e*this.RANK;for(let e=0;e<this.RANK;++e)this[r+e]=t[e];return this}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFile=function(e,t){return u.apply(this,arguments)};var n=r(4),i=r(73);function o(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,s,"next",e)}function s(e){o(a,n,i,u,s,"throw",e)}u(void 0)}))}}function u(){return(u=a(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=7;break}return t=(0,n.resolvePath)(t),o=r,null!=r&&r.fetch&&"function"!=typeof(null==r?void 0:r.fetch)&&(o=r.fetch),e.next=6,fetch(t,o);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,(0,i.makeResponse)(t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isMobile=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=i.self||i.window||i.global||{};t.self=o;var a=i.window||i.self||i.global||{};t.window=a;var u=i.global||i.self||i.window||{};t.global=u;var s=i.document||{};t.document=s;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var l="function"==typeof importScripts;t.isWorker=l;var f="undefined"!=typeof window&&void 0!==window.orientation;t.isMobile=f;var h=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),d=h&&parseFloat(h[1])||0;t.nodeVersion=d}).call(this,r(23),r(18))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(19),i=r(109),o=r(50);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(){},c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"name",void 0),u(this,"source",void 0),u(this,"url",void 0),u(this,"terminated",!1),u(this,"worker",void 0),u(this,"onMessage",void 0),u(this,"onError",void 0),u(this,"_loadableURL","");var r=t.name,i=t.source,o=t.url;(0,n.assert)(i||o),this.name=r,this.source=i,this.url=o,this.onMessage=s,this.onError=function(e){return console.log(e)},this.worker=this._createBrowserWorker()}var t,r,c;return t=e,c=[{key:"isSupported",value:function(){return"undefined"!=typeof Worker}}],(r=[{key:"destroy",value:function(){this.onMessage=s,this.onError=s,this.worker.terminate(),this.terminated=!0}},{key:"isRunning",get:function(){return Boolean(this.onMessage)}},{key:"postMessage",value:function(e,t){t=t||(0,o.getTransferList)(e),this.worker.postMessage(e,t)}},{key:"_getErrorFromErrorEvent",value:function(e){var t="Failed to load ";return t+="worker ".concat(this.name,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}},{key:"_createBrowserWorker",value:function(){var e=this;this._loadableURL=(0,i.getLoadableWorkerURL)({source:this.source,url:this.url});var t=new Worker(this._loadableURL,{name:this.name});return t.onmessage=function(t){t.data?e.onMessage(t.data):e.onError(new Error("No data received"))},t.onerror=function(t){e.onError(e._getErrorFromErrorEvent(t)),e.terminated=!0},t.onmessageerror=function(e){return console.error(e)},t}}])&&a(t.prototype,r),c&&a(t,c),e}();t.default=c},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferList=function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0,a=o||new Set;if(t){if(i(t))a.add(t);else if(i(t.buffer))a.add(t.buffer);else if(ArrayBuffer.isView(t));else if(r&&"object"===n(t))for(var u in t)e(t[u],r,a)}else;return void 0===o?Array.from(a):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeFile=function(e,t,r){return a.apply(this,arguments)},t.writeFileSync=function(e,t,r){e=(0,n.resolvePath)(e),n.isBrowser||n.fs.writeFileSync(e,(0,n.toBuffer)(t),{flag:"w"});(0,n.assert)(!1)};var n=r(4);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,n.resolvePath)(t),n.isBrowser){e.next=4;break}return e.next=4,n.fs.writeFile(t,(0,n.toBuffer)(r),{flag:"w"});case 4:(0,n.assert)(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=p;var n=r(24),i=r(4),o=r(20),a=r(14),u=r(53),s=r(54),c=r(29),l=r(38);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,u,"next",e)}function u(e){h(o,n,i,a,u,"throw",e)}a(void 0)}))}}function p(e,t,r,n){return y.apply(this,arguments)}function y(){return(y=d(regeneratorRuntime.mark((function e(t,r,i,u){var h,d,y,b,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.assert)(!u||"object"===f(u)),!r||Array.isArray(r)||(0,o.isLoaderObject)(r)||(u=void 0,i=r,r=void 0),e.next=4,t;case 4:return t=e.sent,i=i||{},h=(0,c.getResourceUrlAndType)(t),d=h.url,y=r,b=(0,s.getLoadersFromContext)(y,u),e.next=11,(0,l.selectLoader)(t,b,i);case 11:if(v=e.sent){e.next=14;break}return e.abrupt("return",null);case 14:return i=(0,a.normalizeOptions)(i,v,b,d),u=(0,s.getLoaderContext)({url:d,parse:p,loaders:b},i,u),e.next=18,m(v,t,i,u);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,r,n){return b.apply(this,arguments)}function b(){return(b=d(regeneratorRuntime.mark((function e(t,r,o,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.validateWorkerVersion)(t),e.next=3,(0,u.getArrayBufferOrStringFromData)(r,t,o);case 3:if(r=e.sent,!t.parseTextSync||"string"!=typeof r){e.next=7;break}return o.dataType="text",e.abrupt("return",t.parseTextSync(r,o,a,t));case 7:if(!(0,i.canParseWithWorker)(t,o)){e.next=11;break}return e.next=10,(0,i.parseWithWorker)(t,r,o,a,p);case 10:return e.abrupt("return",e.sent);case 11:if(!t.parseText||"string"!=typeof r){e.next=15;break}return e.next=14,t.parseText(r,o,a,t);case 14:return e.abrupt("return",e.sent);case 15:if(!t.parse){e.next=19;break}return e.next=18,t.parse(r,o,a,t);case 18:return e.abrupt("return",e.sent);case 19:throw(0,n.assert)(!t.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArrayBufferOrStringFromDataSync=l,t.getArrayBufferOrStringFromData=function(e,t,r){return f.apply(this,arguments)},t.getAsyncIterableFromData=function(e,t){return h.apply(this,arguments)},t.getReadableStream=function(e){return d.apply(this,arguments)};var n=r(4),i=r(13),o=r(76),a=r(73);function u(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}var c="Cannot convert supplied data type";function l(e,t,r){if(t.text&&"string"==typeof e)return e;if((0,i.isBuffer)(e)&&(e=e.buffer),e instanceof ArrayBuffer){var n=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);var o=e.buffer,a=e.byteLength||e.length;return 0===e.byteOffset&&a===o.byteLength||(o=o.slice(e.byteOffset,e.byteOffset+a)),o}throw new Error(c)}function f(){return(f=s(regeneratorRuntime.mark((function e(t,r,u){var s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t instanceof ArrayBuffer||ArrayBuffer.isView(t),"string"!=typeof t&&!s){e.next=3;break}return e.abrupt("return",l(t,r));case 3:if(!(0,i.isBlob)(t)){e.next=7;break}return e.next=6,(0,a.makeResponse)(t);case 6:t=e.sent;case 7:if(!(0,i.isResponse)(t)){e.next=21;break}return f=t,e.next=11,(0,a.checkResponse)(f);case 11:if(!r.binary){e.next=17;break}return e.next=14,f.arrayBuffer();case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,f.text();case 19:e.t0=e.sent;case 20:return e.abrupt("return",e.t0);case 21:if((0,i.isReadableStream)(t)&&(t=(0,o.makeIterator)(t,u)),!(0,i.isIterable)(t)&&!(0,i.isAsyncIterable)(t)){e.next=24;break}return e.abrupt("return",(0,n.concatenateArrayBuffersAsync)(t));case 24:throw new Error(c);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=s(regeneratorRuntime.mark((function e(t,r){var n,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.isIterator)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!(0,i.isResponse)(t)){e.next=10;break}return n=t,e.next=6,(0,a.checkResponse)(n);case 6:return e.next=8,n.body;case 8:return u=e.sent,e.abrupt("return",(0,o.makeIterator)(u,r));case 10:if(!(0,i.isBlob)(t)&&!(0,i.isReadableStream)(t)){e.next=12;break}return e.abrupt("return",(0,o.makeIterator)(t,r));case 12:if(!(0,i.isAsyncIterable)(t)){e.next=14;break}return e.abrupt("return",t[Symbol.asyncIterator]());case 14:return e.abrupt("return",p(t));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=s(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.isReadableStream)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!(0,i.isResponse)(t)){e.next=4;break}return e.abrupt("return",t.body);case 4:return e.next=6,(0,a.makeResponse)(t);case 6:return r=e.sent,e.abrupt("return",r.body);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){if(ArrayBuffer.isView(e))return regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.buffer;case 2:case"end":return t.stop()}}),t)}))();if(e instanceof ArrayBuffer)return regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:case"end":return t.stop()}}),t)}))();if((0,i.isIterator)(e))return e;if((0,i.isIterable)(e))return e[Symbol.iterator]();throw new Error(c)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoaderContext=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r)return r;var i=u({fetch:(0,n.getFetchFunction)(t,e)},e);Array.isArray(i.loaders)||(i.loaders=null);return i},t.getLoadersFromContext=function(e,t){if(!t&&e&&!Array.isArray(e))return e;var r;e&&(r=Array.isArray(e)?e:[e]);if(t&&t.loaders){var n=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[].concat(i(r),i(n)):n}return r&&r.length?r:null};var n=r(14);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=i.self||i.window||i.global;t.self=o;var a=i.window||i.self||i.global;t.window=a;var u=i.global||i.self||i.window;t.global=u;var s=i.document||{};t.document=s;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var l="function"==typeof importScripts;t.isWorker=l;var f=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),h=f&&parseFloat(f[1])||0;t.nodeVersion=h}).call(this,r(23),r(18))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBinaryImageMetadata=function(e){var t=i(e);return function(e){var t=i(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,!1)))return null;return{mimeType:"image/png",width:t.getUint32(16,!1),height:t.getUint32(20,!1)}}(t)||function(e){var t=i(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,!1)&&255===t.getUint8(2)))return null;var r=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}(),n=r.tableMarkers,o=r.sofMarkers,a=2;for(;a+9<t.byteLength;){var u=t.getUint16(a,!1);if(o.has(u))return{mimeType:"image/jpeg",height:t.getUint16(a+5,!1),width:t.getUint16(a+7,!1)};if(!n.has(u))return null;a+=2,a+=t.getUint16(a,!1)}return null}(t)||function(e){var t=i(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,!1)))return null;return{mimeType:"image/gif",width:t.getUint16(6,!0),height:t.getUint16(8,!0)}}(t)||n(t)},t.getBmpMetadata=n;function n(e){var t=i(e);return t.byteLength>=14&&16973===t.getUint16(0,!1)&&t.getUint32(2,!0)===t.byteLength?{mimeType:"image/bmp",width:t.getUint32(18,!0),height:t.getUint32(22,!0)}:null}function i(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Schema",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return o.Type}}),Object.defineProperty(t,"DataType",{enumerable:!0,get:function(){return o.DataType}}),Object.defineProperty(t,"Null",{enumerable:!0,get:function(){return o.Null}}),Object.defineProperty(t,"Bool",{enumerable:!0,get:function(){return o.Bool}}),Object.defineProperty(t,"Int",{enumerable:!0,get:function(){return o.Int}}),Object.defineProperty(t,"Int8",{enumerable:!0,get:function(){return o.Int8}}),Object.defineProperty(t,"Int16",{enumerable:!0,get:function(){return o.Int16}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return o.Int32}}),Object.defineProperty(t,"Int64",{enumerable:!0,get:function(){return o.Int64}}),Object.defineProperty(t,"Uint8",{enumerable:!0,get:function(){return o.Uint8}}),Object.defineProperty(t,"Uint16",{enumerable:!0,get:function(){return o.Uint16}}),Object.defineProperty(t,"Uint32",{enumerable:!0,get:function(){return o.Uint32}}),Object.defineProperty(t,"Uint64",{enumerable:!0,get:function(){return o.Uint64}}),Object.defineProperty(t,"Float",{enumerable:!0,get:function(){return o.Float}}),Object.defineProperty(t,"Float16",{enumerable:!0,get:function(){return o.Float16}}),Object.defineProperty(t,"Float32",{enumerable:!0,get:function(){return o.Float32}}),Object.defineProperty(t,"Float64",{enumerable:!0,get:function(){return o.Float64}}),Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return o.Binary}}),Object.defineProperty(t,"Utf8",{enumerable:!0,get:function(){return o.Utf8}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return o.Date}}),Object.defineProperty(t,"DateDay",{enumerable:!0,get:function(){return o.DateDay}}),Object.defineProperty(t,"DateMillisecond",{enumerable:!0,get:function(){return o.DateMillisecond}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return o.Time}}),Object.defineProperty(t,"TimeSecond",{enumerable:!0,get:function(){return o.TimeSecond}}),Object.defineProperty(t,"TimeMillisecond",{enumerable:!0,get:function(){return o.TimeMillisecond}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return o.Timestamp}}),Object.defineProperty(t,"TimestampSecond",{enumerable:!0,get:function(){return o.TimestampSecond}}),Object.defineProperty(t,"TimestampMillisecond",{enumerable:!0,get:function(){return o.TimestampMillisecond}}),Object.defineProperty(t,"TimestampMicrosecond",{enumerable:!0,get:function(){return o.TimestampMicrosecond}}),Object.defineProperty(t,"TimestampNanosecond",{enumerable:!0,get:function(){return o.TimestampNanosecond}}),Object.defineProperty(t,"Interval",{enumerable:!0,get:function(){return o.Interval}}),Object.defineProperty(t,"IntervalDayTime",{enumerable:!0,get:function(){return o.IntervalDayTime}}),Object.defineProperty(t,"IntervalYearMonth",{enumerable:!0,get:function(){return o.IntervalYearMonth}}),Object.defineProperty(t,"FixedSizeList",{enumerable:!0,get:function(){return o.FixedSizeList}});var n=a(r(168)),i=a(r(170)),o=r(171);function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";function n(e,t,r,n){return Array.isArray(e)?e[t].levelData:new Uint8Array(e.buffer,e.byteOffset+r,n)}function i(e,t,r,n,i){return Array.isArray(n)?e.sizeFunction(n[i]):e.sizeFunction(t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.extractMipmapImages=function(e,t){for(var r=new Array(t.mipMapLevels),o=t.width,a=t.height,u=0,s=0;s<t.mipMapLevels;++s){var c=i(t,o,a,e,s),l=n(e,s,u,c);r[s]={compressed:!0,format:t.internalFormat,data:l,width:o,height:a,levelSize:c},o=Math.max(1,o>>1),a=Math.max(1,a>>1),u+=c}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadImageTexture=function(e){return h.apply(this,arguments)},t.getImageUrls=d,t.getMipLevels=b;var n=r(4),i=r(41),o=r(195),a=r(60);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,u,"next",e)}function u(e){l(o,n,i,a,u,"throw",e)}a(void 0)}))}}function h(){return(h=f(regeneratorRuntime.mark((function e(t){var r,n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,d(t,r);case 3:return n=e.sent,e.next=6,(0,a.deepLoad)(n,i.ImageLoader.parse,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return p.apply(this,arguments)}function p(){return(p=f(regeneratorRuntime.mark((function e(t,r){var n,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>2&&void 0!==a[2]?a[2]:{},0===(i=r&&r.image&&r.image.mipLevels||0)){e.next=8;break}return e.next=5,y(t,i,r,n);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=(0,o.generateUrl)(t,r,n);case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,r,n){return m.apply(this,arguments)}function m(){return(m=f(regeneratorRuntime.mark((function e(t,r,u,c){var l,f,h,d,p,y,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=[],"auto"!==r){e.next=9;break}return f=(0,o.generateUrl)(t,u,s(s({},c),{},{lod:0})),e.next=5,(0,a.shallowLoad)(f,i.ImageLoader.parse,u);case 5:h=e.sent,d=(0,i.getImageSize)(h),p=d.width,y=d.height,r=b({width:p,height:y}),l.push(f);case 9:for((0,n.assert)(r>0),m=l.length;m<r;++m)v=(0,o.generateUrl)(t,u,s(s({},c),{},{lod:m})),l.push(v);return e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){var t=e.width,r=e.height;return 1+Math.floor(Math.log2(Math.max(t,r)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepLoad=function(e,t,r){return a.apply(this,arguments)},t.shallowLoad=u;var n=r(196);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.asyncDeepMap)(t,(function(e){return u(e,r,i)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,r){return s.apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark((function e(t,r,n){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n.fetch);case 2:return i=e.sent,e.next=5,i.arrayBuffer();case 5:return o=e.sent,e.next=8,r(o,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(5),o=r(45),a=r(17),u=r(32),s=r(102),c=r(206),l=r(103),f=r(207),h=(n=r(33))&&n.__esModule?n:{default:n};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=new i.Vector3;var g=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";m(this,e),v(this,"tileset",void 0),v(this,"header",void 0),v(this,"id",void 0),v(this,"url",void 0),v(this,"parent",void 0),v(this,"refine",void 0),v(this,"type",void 0),v(this,"contentUrl",void 0),v(this,"lodMetricType",void 0),v(this,"lodMetricValue",void 0),v(this,"boundingVolume",void 0),v(this,"content",void 0),v(this,"contentState",void 0),v(this,"gpuMemoryUsageInBytes",void 0),v(this,"children",void 0),v(this,"depth",void 0),v(this,"viewportIds",void 0),v(this,"transform",void 0),v(this,"userData",void 0),v(this,"computedTransform",void 0),v(this,"hasEmptyContent",void 0),v(this,"hasTilesetContent",void 0),v(this,"traverser",void 0),v(this,"_cacheNode",void 0),v(this,"_frameNumber",void 0),v(this,"_lodJudge",void 0),v(this,"_expireDate",void 0),v(this,"_expiredContent",void 0),v(this,"_shouldRefine",void 0),v(this,"_distanceToCamera",void 0),v(this,"_centerZDepth",void 0),v(this,"_screenSpaceError",void 0),v(this,"_visibilityPlaneMask",void 0),v(this,"_visible",void 0),v(this,"_inRequestVolume",void 0),v(this,"_stackLength",void 0),v(this,"_selectionDepth",void 0),v(this,"_touchedFrame",void 0),v(this,"_visitedFrame",void 0),v(this,"_selectedFrame",void 0),v(this,"_requestedFrame",void 0),v(this,"_priority",void 0),v(this,"_contentBoundingVolume",void 0),v(this,"_viewerRequestVolume",void 0),v(this,"_initialTransform",void 0),this.header=r,this.tileset=t,this.id=o||r.id,this.url=r.url,this.parent=n,this.refine=this._getRefine(r.refine),this.type=r.type,this.contentUrl=r.contentUrl,this.lodMetricType="geometricError",this.lodMetricValue=0,this.boundingVolume=null,this.content=null,this.contentState=u.TILE_CONTENT_STATE.UNLOADED,this.gpuMemoryUsageInBytes=0,this.children=[],this.hasEmptyContent=!1,this.hasTilesetContent=!1,this.depth=0,this.viewportIds=[],this.userData={},this._priority=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._screenSpaceError=0,this._cacheNode=null,this._frameNumber=null,this._cacheNode=null,this.traverser=new h.default({}),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._initialTransform=new i.Matrix4,this.transform=new i.Matrix4,this._initializeLodMetric(r),this._initializeTransforms(r),this._initializeBoundingVolumes(r),this._initializeContent(r),this._initializeRenderingState(r),this._lodJudge=null,this._expireDate=null,this._expiredContent=null,Object.seal(this)}var t,r,n,d,g;return t=e,(r=[{key:"destroy",value:function(){this.header=null}},{key:"isDestroyed",value:function(){return null===this.header}},{key:"selected",get:function(){return this._selectedFrame===this.tileset._frameNumber}},{key:"isVisible",get:function(){return this._visible}},{key:"isVisibleAndInRequestVolume",get:function(){return this._visible&&this._inRequestVolume}},{key:"hasRenderContent",get:function(){return!this.hasEmptyContent&&!this.hasTilesetContent}},{key:"hasChildren",get:function(){return this.children.length>0||this.header.children&&this.header.children.length>0}},{key:"contentReady",get:function(){return this.contentState===u.TILE_CONTENT_STATE.READY||this.hasEmptyContent}},{key:"contentAvailable",get:function(){return Boolean(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}},{key:"hasUnloadedContent",get:function(){return this.hasRenderContent&&this.contentUnloaded}},{key:"contentUnloaded",get:function(){return this.contentState===u.TILE_CONTENT_STATE.UNLOADED}},{key:"contentExpired",get:function(){return this.contentState===u.TILE_CONTENT_STATE.EXPIRED}},{key:"contentFailed",get:function(){return this.contentState===u.TILE_CONTENT_STATE.FAILED}},{key:"getScreenSpaceError",value:function(e,t){switch(this.tileset.type){case u.TILESET_TYPE.I3S:return(0,l.getI3ScreenSize)(this,e);case u.TILESET_TYPE.TILES3D:return(0,c.getTiles3DScreenSpaceError)(this,e,t);default:throw new Error("Unsupported tileset type")}}},{key:"_getPriority",value:function(){var e=this.tileset._traverser,t=e.options.skipLevelOfDetail,r=this.refine===u.TILE_REFINEMENT.ADD||t;if(r&&!this.isVisible&&void 0!==this._visible)return-1;if(this.tileset._frameNumber-this._touchedFrame>=1)return-1;if(this.contentState===u.TILE_CONTENT_STATE.UNLOADED)return-1;var n=this.parent,i=!n||r&&0!==this._screenSpaceError&&!n.hasTilesetContent?this._screenSpaceError:n._screenSpaceError,o=e.root?e.root._screenSpaceError:0;return Math.max(o-i,0)}},{key:"loadContent",value:(d=regeneratorRuntime.mark((function e(){var t,r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasEmptyContent){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.content){e.next=4;break}return e.abrupt("return",!0);case 4:return this.contentExpired&&(this._expireDate=null),this.contentState=u.TILE_CONTENT_STATE.LOADING,e.next=9,this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority.bind(this));case 9:if(t=e.sent){e.next=13;break}return this.contentState=u.TILE_CONTENT_STATE.UNLOADED,e.abrupt("return",!1);case 13:return e.prev=13,r=this.tileset.getTileUrl(this.contentUrl),n=this.tileset.loader,i=p(p({},this.tileset.loadOptions),{},v({},n.id,p(p({},this.tileset.loadOptions[n.id]),{},{isTileset:"json"===this.type},this._getLoaderSpecificOptions(n.id)))),e.next=19,(0,a.load)(r,n,i);case 19:if(this.content=e.sent,!this.tileset.options.contentLoader){e.next=23;break}return e.next=23,this.tileset.options.contentLoader(this);case 23:return this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this),this.contentState=u.TILE_CONTENT_STATE.READY,this._onContentLoaded(),e.abrupt("return",!0);case 29:throw e.prev=29,e.t0=e.catch(13),this.contentState=u.TILE_CONTENT_STATE.FAILED,e.t0;case 33:return e.prev=33,t.done(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[13,29,33,36]])})),g=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=d.apply(e,t);function o(e){y(i,r,n,o,a,"next",e)}function a(e){y(i,r,n,o,a,"throw",e)}o(void 0)}))},function(){return g.apply(this,arguments)})},{key:"unloadContent",value:function(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.header.content&&this.header.content.destroy&&this.header.content.destroy(),this.header.content=null,this.contentState=u.TILE_CONTENT_STATE.UNLOADED,!0}},{key:"updateVisibility",value:function(e,t){if(this._frameNumber!==e.frameNumber){var r=this.parent,n=r?r._visibilityPlaneMask:o.CullingVolume.MASK_INDETERMINATE;if(this.tileset._traverser.options.updateTransforms){var i=r?r.computedTransform:this.tileset.modelMatrix;this._updateTransform(i)}this._distanceToCamera=this.distanceToTile(e),this._screenSpaceError=this.getScreenSpaceError(e,!1),this._visibilityPlaneMask=this.visibility(e,n),this._visible=this._visibilityPlaneMask!==o.CullingVolume.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(e),this._frameNumber=e.frameNumber,this.viewportIds=t}}},{key:"visibility",value:function(e,t){var r=e.cullingVolume,n=this.boundingVolume;return r.computeVisibilityWithPlaneMask(n,t)}},{key:"contentVisibility",value:function(){return!0}},{key:"distanceToTile",value:function(e){var t=this.boundingVolume;return Math.sqrt(Math.max(t.distanceSquaredTo(e.camera.position),0))}},{key:"cameraSpaceZDepth",value:function(e){var t=e.camera,r=this.boundingVolume;return _.subVectors(r.center,t.position),t.direction.dot(_)}},{key:"insideViewerRequestVolume",value:function(e){var t=this._viewerRequestVolume;return!t||t.distanceSquaredTo(e.camera.position)<=0}},{key:"updateExpiration",value:function(){if(null!=this._expireDate&&this.contentReady&&!this.hasEmptyContent){var e=Date.now();Date.lessThan(this._expireDate,e)&&(this.contentState=u.TILE_CONTENT_STATE.EXPIRED,this._expiredContent=this.content)}}},{key:"extras",get:function(){return this.header.extras}},{key:"_initializeLodMetric",value:function(e){"lodMetricType"in e?this.lodMetricType=e.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in e?this.lodMetricValue=e.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}},{key:"_initializeTransforms",value:function(e){this.transform=e.transform?new i.Matrix4(e.transform):new i.Matrix4;var t=this.parent,r=this.tileset,n=t&&t.computedTransform?t.computedTransform.clone():r.modelMatrix.clone();this.computedTransform=new i.Matrix4(n).multiplyRight(this.transform);var o=t&&t._initialTransform?t._initialTransform.clone():new i.Matrix4;this._initialTransform=new i.Matrix4(o).multiplyRight(this.transform)}},{key:"_initializeBoundingVolumes",value:function(e){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(e)}},{key:"_initializeContent",value:function(e){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=u.TILE_CONTENT_STATE.UNLOADED,this.hasTilesetContent=!1,e.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}},{key:"_initializeRenderingState",value:function(e){this.depth=e.level||(this.parent?this.parent.depth+1:0),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=o.CullingVolume.MASK_INDETERMINATE,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}},{key:"_getRefine",value:function(e){return e||this.parent&&this.parent.refine||u.TILE_REFINEMENT.REPLACE}},{key:"_isTileset",value:function(){return-1!==this.contentUrl.indexOf(".json")}},{key:"_onContentLoaded",value:function(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset._traverser.disableSkipLevelOfDetail=!0}this._isTileset()&&(this.hasTilesetContent=!0)}},{key:"_updateBoundingVolume",value:function(e){this.boundingVolume=(0,s.createBoundingVolume)(e.boundingVolume,this.computedTransform,this.boundingVolume);var t=e.content;t&&(t.boundingVolume&&(this._contentBoundingVolume=(0,s.createBoundingVolume)(t.boundingVolume,this.computedTransform,this._contentBoundingVolume)),e.viewerRequestVolume&&(this._viewerRequestVolume=(0,s.createBoundingVolume)(e.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}},{key:"_updateTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Matrix4,t=e.clone().multiplyRight(this.transform),r=!t.equals(this.computedTransform);r&&(this.computedTransform=t,this._updateBoundingVolume(this.header))}},{key:"_getLoaderSpecificOptions",value:function(e){switch(e){case"i3s":return p(p({},this.tileset.options.i3s),{},{tile:this.header,tileset:this.tileset.tileset,isTileHeader:!1});case"3d-tiles":case"cesium-ion":default:return(0,f.get3dTilesOptions)(this.tileset.tileset)}}}])&&b(t.prototype,r),n&&b(t,n),e}();t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(19);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"name",void 0),o(this,"workerThread",void 0),o(this,"isRunning",void 0),o(this,"result",void 0),o(this,"_resolve",void 0),o(this,"_reject",void 0),this.name=t,this.workerThread=r,this.isRunning=!0,this._resolve=function(){},this._reject=function(){},this.result=new Promise((function(e,t){n._resolve=e,n._reject=t}))}var t,r,a;return t=e,(r=[{key:"postMessage",value:function(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}},{key:"done",value:function(e){(0,n.assert)(this.isRunning),this.isRunning=!1,this._resolve(e)}},{key:"error",value:function(e){(0,n.assert)(this.isRunning),this.isRunning=!1,this._reject(e)}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(65)),i=o(r(49));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"props",void 0),f(this,"workerPools",new Map),this.props=c({},h),this.setProps(t),this.workerPools=new Map}var t,r,o;return t=e,o=[{key:"isSupported",value:function(){return i.default.isSupported()}},{key:"getWorkerFarm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e._workerFarm=e._workerFarm||new e({}),e._workerFarm.setProps(t),e._workerFarm}}],(r=[{key:"destroy",value:function(){var e,t=a(this.workerPools.values());try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(e){t.e(e)}finally{t.f()}}},{key:"setProps",value:function(e){this.props=c(c({},this.props),e);var t,r=a(this.workerPools.values());try{for(r.s();!(t=r.n()).done;)t.value.setProps(this._getWorkerPoolProps())}catch(e){r.e(e)}finally{r.f()}}},{key:"getWorkerPool",value:function(e){var t=e.name,r=e.source,i=e.url,o=this.workerPools.get(t);return o||((o=new n.default({name:t,source:r,url:i})).setProps(this._getWorkerPoolProps()),this.workerPools.set(t,o)),o}},{key:"_getWorkerPoolProps",value:function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}])&&l(t.prototype,r),o&&l(t,o),e}();t.default=d,f(d,"_workerFarm",void 0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(48),i=a(r(49)),o=a(r(63));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"name","unnamed"),h(this,"source",void 0),h(this,"url",void 0),h(this,"maxConcurrency",1),h(this,"maxMobileConcurrency",1),h(this,"onDebug",(function(){})),h(this,"reuseWorkers",!0),h(this,"props",{}),h(this,"jobQueue",[]),h(this,"idleQueue",[]),h(this,"count",0),h(this,"isDestroyed",!1),this.source=t.source,this.url=t.url,this.setProps(t)}var t,r,a,u,c;return t=e,(r=[{key:"destroy",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:"setProps",value:function(e){this.props=l(l({},this.props),e),void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}},{key:"startJob",value:(c=s(regeneratorRuntime.mark((function e(t){var r,n,i,o=this,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:function(e,t,r){return e.done(r)},n=a.length>2&&void 0!==a[2]?a[2]:function(e,t){return e.error(t)},i=new Promise((function(e){return o.jobQueue.push({name:t,onMessage:r,onError:n,onStart:e}),o})),this._startQueuedJob(),e.next=6,i;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"_startQueuedJob",value:(u=s(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jobQueue.length){e.next=2;break}return e.abrupt("return");case 2:if(t=this._getAvailableWorker()){e.next=5;break}return e.abrupt("return");case 5:if(!(r=this.jobQueue.shift())){e.next=18;break}return this.onDebug({message:"Starting job",name:r.name,workerThread:t,backlog:this.jobQueue.length}),n=new o.default(r.name,t),t.onMessage=function(e){return r.onMessage(n,e.type,e.payload)},t.onError=function(e){return r.onError(n,e)},r.onStart(n),e.prev=12,e.next=15,n.result;case 15:return e.prev=15,this.returnWorkerToQueue(t),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[12,,15,18]])}))),function(){return u.apply(this,arguments)})},{key:"returnWorkerToQueue",value:function(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}},{key:"_getAvailableWorker",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;var e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new i.default({name:e,source:this.source,url:this.url})}return null}},{key:"_getMaxConcurrency",value:function(){return n.isMobile?this.maxMobileConcurrency:this.maxConcurrency}}])&&f(t.prototype,r),a&&f(t,a),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(50);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=new Map,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,a=[{key:"onmessage",set:function(e){self.onmessage=function(t){if(u(t)){var r=t.data,n=r.type,i=r.payload;e(n,i)}}}},{key:"addEventListener",value:function(e){var t=o.get(e);t||(t=function(t){if(u(t)){var r=t.data,n=r.type,i=r.payload;e(n,i)}}),self.addEventListener("message",t)}},{key:"removeEventListener",value:function(e){var t=o.get(e);o.delete(e),self.removeEventListener("message",t)}},{key:"postMessage",value:function(e,t){if(self){var r={source:"loaders.gl",type:e,payload:t},i=(0,n.getTransferList)(t);self.postMessage(r,i)}}}],(r=null)&&i(t.prototype,r),a&&i(t,a),e}();function u(e){var t=e.type,r=e.data;return"message"===t&&r&&"string"==typeof r.source&&r.source.startsWith("loaders.gl")}t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkerName=function(e){var t="3.0.12"!==e.version?" (worker-utils@".concat("3.0.12",")"):"";return"".concat(e.name,"@").concat(e.version).concat(t)},t.getWorkerURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t[e.id]||{},i="".concat(e.id,"-worker.js"),o=r.workerUrl;"test"===t._workerType&&(o="modules/".concat(e.module,"/dist/").concat(i));if(!o){var a=e.version;"latest"===a&&(a="latest");var u=a?"@".concat(a):"";o="https://unpkg.com/@loaders.gl/".concat(e.module).concat(u,"/dist/").concat(i)}return(0,n.assert)(o),o};var n=r(19);r(37)},function(e,t,r){"use strict";var n;function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n=Symbol.asyncIterator;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"_values",void 0),o(this,"_settlers",void 0),o(this,"_closed",void 0),this._values=[],this._settlers=[],this._closed=!1}var t,r,a;return t=e,(r=[{key:n,value:function(){return this}},{key:"push",value:function(e){return this.enqueue(e)}},{key:"enqueue",value:function(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var t=this._settlers.shift();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.push(e)}},{key:"close",value:function(){for(;this._settlers.length>0;)this._settlers.shift().resolve({done:!0});this._closed=!0}},{key:"next",value:function(){var e=this;if(this._values.length>0){var t=this._values.shift();return t instanceof Error?Promise.reject(t):Promise.resolve({done:!1,value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((function(t,r){e._settlers.push({resolve:t,reject:r})}))}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";function n(e,t,r){if(e.byteLength<=t+r)return"";for(var n=new DataView(e),i="",o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(t+o));return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getFirstCharacters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return n(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return n(e,r,t)}return""},t.getMagicString=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArrayBuffer=function(e){n.isBuffer(e)&&(e=n.bufferToArrayBuffer(e));if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"===u(e)&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")},t.compareArrayBuffers=function(e,t,r){if(r=r||e.byteLength,e.byteLength<r||t.byteLength<r)return!1;for(var n=new Uint8Array(e),i=new Uint8Array(t),o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0},t.concatenateArrayBuffers=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t.map((function(e){return e instanceof ArrayBuffer?new Uint8Array(e):e})),a=i.reduce((function(e,t){return e+t.byteLength}),0),u=new Uint8Array(a),s=0,c=o(i);try{for(c.s();!(n=c.n()).done;){var l=n.value;u.set(l,s),s+=l.byteLength}}catch(e){c.e(e)}finally{c.f()}return u.buffer},t.concatenateTypedArrays=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t,i=n&&n.length>1&&n[0].constructor||null;if(!i)throw new Error('"concatenateTypedArrays" - incorrect quantity of arguments or arguments have incompatible data types');for(var o=n.reduce((function(e,t){return e+t.length}),0),a=new i(o),u=0,s=0,c=n;s<c.length;s++){var l=c[s];a.set(l,u),u+=l.length}return a},t.sliceArrayBuffer=function(e,t,r){var n=void 0!==r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(r(71));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBuffer=function(e){return e&&"object"===o(e)&&e.isBuffer},t.toBuffer=function(e){return n.toBuffer?n.toBuffer(e):e},t.bufferToArrayBuffer=function(e){if(n.toArrayBuffer)return n.toArrayBuffer(e);return e};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=a?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(n,u,s):n[u]=e[u]}n.default=e,r&&r.set(e,n);return n}(r(119));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padToNBytes=i,t.copyArrayBuffer=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,i=new Uint8Array(e,r,n),o=new Uint8Array(t);return i.set(o),e},t.copyToArray=function(e,t,r){var n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{var o=e.byteOffset,a=e.byteLength;n=new Uint8Array(e.buffer||e.arrayBuffer,o,a)}return t.set(n,r),r+i(n.byteLength,4)};var n=r(62);function i(e,t){return(0,n.assert)(e>=0),(0,n.assert)(t>0),e+(t-1)&~(t-1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeResponse=function(e){return u.apply(this,arguments)},t.checkResponse=function(e){return s.apply(this,arguments)},t.checkResponseSync=function(e){if(!e.ok){var t="".concat(e.status," ").concat(e.statusText);throw t=t.length>60?"".concat(t.slice(60),"..."):t,new Error(t)}};var n=r(13),i=r(29);function o(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,s,"next",e)}function s(e){o(a,n,i,u,s,"throw",e)}u(void 0)}))}}function u(){return(u=a(regeneratorRuntime.mark((function e(t){var r,o,a,u,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,n.isResponse)(t)){e.next=2;break}return e.abrupt("return",t);case 2:return r={},(o=(0,i.getResourceContentLength)(t))>=0&&(r["content-length"]=String(o)),a=(0,i.getResourceUrlAndType)(t),u=a.url,(s=a.type)&&(r["content-type"]=s),e.next=9,f(t);case 9:return(c=e.sent)&&(r["x-first-bytes"]=c),"string"==typeof t&&(t=(new TextEncoder).encode(t)),l=new Response(t,{headers:r}),Object.defineProperty(l,"url",{value:u}),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=a(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,c(t);case 3:throw r=e.sent,new Error(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return l.apply(this,arguments)}function l(){return(l=a(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): "),e.prev=1,n=t.headers.get("Content-Type"),i=t.statusText,!n.includes("application/json")){e.next=11;break}return e.t0=i,e.t1=" ",e.next=9,t.text();case 9:e.t2=e.sent,i=e.t0+=e.t1.concat.call(e.t1,e.t2);case 11:r=(r+=i).length>60?"".concat(r.slice(60),"..."):r,e.next=17;break;case 15:e.prev=15,e.t3=e.catch(1);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=a(regeneratorRuntime.mark((function e(t){var r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=5,"string"!=typeof t){e.next=3;break}return e.abrupt("return","data:,".concat(t.slice(0,r)));case 3:if(!(t instanceof Blob)){e.next=8;break}return n=t.slice(0,5),e.next=7,new Promise((function(e){var t=new FileReader;t.onload=function(t){var r;return e(null==t||null===(r=t.target)||void 0===r?void 0:r.result)},t.readAsDataURL(n)}));case 7:return e.abrupt("return",e.sent);case 8:if(!(t instanceof ArrayBuffer)){e.next=12;break}return i=t.slice(0,r),o=d(i),e.abrupt("return","data:base64,".concat(o));case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){for(var t="",r=new Uint8Array(e),n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return btoa(t)}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLog=t.NullLog=t.probeLog=void 0;var a=new(r(216).Log)({id:"loaders.gl"});t.probeLog=a;var u=function(){function e(){n(this,e)}return o(e,[{key:"log",value:function(){return function(){}}},{key:"info",value:function(){return function(){}}},{key:"warn",value:function(){return function(){}}},{key:"error",value:function(){return function(){}}}]),e}();t.NullLog=u;var s=function(){function e(){var t,r,i;n(this,e),i=void 0,(r="console")in(t=this)?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,this.console=console}return o(e,[{key:"log",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.log).bind.apply(e,[this.console].concat(r))}},{key:"info",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.info).bind.apply(e,[this.console].concat(r))}},{key:"warn",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.warn).bind.apply(e,[this.console].concat(r))}},{key:"error",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.error).bind.apply(e,[this.console].concat(r))}}]),e}();t.ConsoleLog=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerLoaders=function(e){var t,r=a(),i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw a}}}}(e=Array.isArray(e)?e:[e]);try{var u=function(){var e=t.value,i=(0,n.normalizeLoader)(e);r.find((function(e){return i===e}))||r.unshift(i)};for(i.s();!(t=i.n()).done;)u()}catch(e){i.e(e)}finally{i.f()}},t.getRegisteredLoaders=function(){return a()},t._unregisterLoaders=function(){(0,i.getGlobalLoaderState)().loaderRegistry=[]};var n=r(20),i=r(14);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=function(){var e=(0,i.getGlobalLoaderState)();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeIterator=function(e,t){if("string"==typeof e)return(0,n.makeStringIterator)(e,t);if(e instanceof ArrayBuffer)return(0,i.makeArrayBufferIterator)(e,t);if((0,u.isBlob)(e))return(0,o.makeBlobIterator)(e,t);if((0,u.isReadableStream)(e))return(0,a.makeStreamIterator)(e,t);if((0,u.isResponse)(e)){var r=e;return(0,a.makeStreamIterator)(r.body,t)}throw new Error("makeIterator")};var n=r(138),i=r(139),o=r(140),a=r(141),u=r(13)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInBatches=T;var n=r(4),i=r(20),o=r(14),a=r(54),u=r(53),s=r(29),c=r(38),l=r(52);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){y(o,n,i,a,u,"next",e)}function u(e){y(o,n,i,a,u,"throw",e)}a(void 0)}))}}function b(e){return function(){return new v(e.apply(this,arguments))}}function v(e){var t,r;function n(t,r){try{var o=e[t](r),a=o.value,u=a instanceof g;Promise.resolve(u?a.wrapped:a).then((function(e){u?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=u:(t=r=u,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function _(e){return new g(e)}function g(e){this.wrapped=e}function E(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function O(e,t){var r={},n=!1;function i(r,i){return n=!0,i=new Promise((function(t){t(e[r](i))})),{done:!1,value:t(i)}}return r["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):i("return",e)}),r}function T(e,t,r,n){return S.apply(this,arguments)}function S(){return(S=m(regeneratorRuntime.mark((function e(t,r,u,f){var h,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.assert)(!f||"object"===p(f)),Array.isArray(r)||(0,i.isLoaderObject)(r)||(f=void 0,u=r,r=void 0),e.next=4,t;case 4:return t=e.sent,u=u||{},h=(0,s.getResourceUrlAndType)(t),d=h.url,e.next=9,(0,c.selectLoader)(t,r,u);case 9:if(y=e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return u=(0,o.normalizeOptions)(u,y,r,d),f=(0,a.getLoaderContext)({url:d,parseInBatches:T,parse:l.parse,loaders:r},u,f),e.next=16,R(y,t,u,f);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,r,n){var i,o,a,u;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return u=function(){return(u=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:return e.delegateYield(O(E(t),_),"t0",3);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(e){return u.apply(this,arguments)},s.next=4,regeneratorRuntime.awrap(w(e,t,r,n));case 4:if(i=s.sent,r.metadata){s.next=7;break}return s.abrupt("return",i);case 7:return o={batchType:"metadata",metadata:{_loader:e,_context:n},data:[],bytesUsed:0},s.abrupt("return",a(i));case 9:case"end":return s.stop()}}),null,null,null,Promise)}function w(e,t,r,n){return A.apply(this,arguments)}function A(){return(A=m(regeneratorRuntime.mark((function e(t,r,i,o){var a,s,c,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(){return(f=b(regeneratorRuntime.mark((function e(){var r,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_((0,n.concatenateArrayBuffersAsync)(s));case 2:return r=e.sent,e.next=5,_((0,l.parse)(r,t,h(h({},i),{},{mimeType:t.mimeTypes[0]}),o));case 5:return a=e.sent,u={mimeType:t.mimeTypes[0],shape:Array.isArray(a)?"row-table":"unknown",batchType:"data",data:a,length:Array.isArray(a)?a.length:1},e.next=9,u;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(){return f.apply(this,arguments)},e.next=4,(0,u.getAsyncIterableFromData)(r,i);case 4:return a=e.sent,e.next=7,P(a,(null==i?void 0:i.transforms)||[]);case 7:if(s=e.sent,!t.parseInBatches){e.next=10;break}return e.abrupt("return",t.parseInBatches(s,i,o));case 10:return e.abrupt("return",c());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return M.apply(this,arguments)}function M(){return(M=m(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,u,s,c,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.length>1&&void 0!==l[1]?l[1]:[],n=t,i=!0,o=!1,e.prev=4,u=E(r);case 6:return e.next=8,u.next();case 8:return s=e.sent,i=s.done,e.next=12,s.value;case 12:if(c=e.sent,i){e.next=19;break}n=c(n);case 16:i=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),o=!0,a=e.t0;case 25:if(e.prev=25,e.prev=26,i||null==u.return){e.next=30;break}return e.next=30,u.return();case 30:if(e.prev=30,!o){e.next=33;break}throw a;case 33:return e.finish(30);case 34:return e.finish(25);case 35:return e.abrupt("return",n);case 36:case"end":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})))).apply(this,arguments)}v.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},v.prototype.next=function(e){return this._invoke("next",e)},v.prototype.throw=function(e){return this._invoke("throw",e)},v.prototype.return=function(e){return this._invoke("return",e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=c,t.encodeSync=function(e,t,r){if(t.encodeSync)return t.encodeSync(e,r);throw new Error("Writer could not synchronously encode data")},t.encodeText=function(e,t,r){return f.apply(this,arguments)},t.encodeInBatches=h,t.encodeURLtoURL=d;var n=r(4),i=r(51),o=r(47);function a(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function u(e){a(o,n,i,u,s,"next",e)}function s(e){a(o,n,i,u,s,"throw",e)}u(void 0)}))}}function s(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function c(e,t,r){return l.apply(this,arguments)}function l(){return(l=u(regeneratorRuntime.mark((function e(t,r,a){var u,c,l,f,p,m,b,v,_,g,E,O,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.encode){e.next=4;break}return e.next=3,r.encode(t,a);case 3:return e.abrupt("return",e.sent);case 4:if(!r.encodeSync){e.next=6;break}return e.abrupt("return",r.encodeSync(t,a));case 6:if(!r.encodeText){e.next=12;break}return e.t0=new TextEncoder,e.next=10,r.encodeText(t,a);case 10:return e.t1=e.sent,e.abrupt("return",e.t0.encode.call(e.t0,e.t1));case 12:if(!r.encodeInBatches){e.next=49;break}u=h(t,r,a),c=[],l=!0,f=!1,e.prev=17,m=s(u);case 19:return e.next=21,m.next();case 21:return b=e.sent,l=b.done,e.next=25,b.value;case 25:if(v=e.sent,l){e.next=32;break}_=v,c.push(_);case 29:l=!0,e.next=19;break;case 32:e.next=38;break;case 34:e.prev=34,e.t2=e.catch(17),f=!0,p=e.t2;case 38:if(e.prev=38,e.prev=39,l||null==m.return){e.next=43;break}return e.next=43,m.return();case 43:if(e.prev=43,!f){e.next=46;break}throw p;case 46:return e.finish(43);case 47:return e.finish(38);case 48:return e.abrupt("return",n.concatenateArrayBuffers.apply(void 0,c));case 49:if(n.isBrowser||!r.encodeURLtoURL){e.next=61;break}return g=y("input"),e.next=53,(0,i.writeFile)(g,t);case 53:return E=y("output"),e.next=56,d(g,E,r,a);case 56:return O=e.sent,e.next=59,(0,o.fetchFile)(O);case 59:return T=e.sent,e.abrupt("return",T.arrayBuffer());case 61:throw new Error("Writer could not encode data");case 62:case"end":return e.stop()}}),e,null,[[17,34,38,48],[39,,43,47]])})))).apply(this,arguments)}function f(){return(f=u(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.text||!r.encodeText){e.next=4;break}return e.next=3,r.encodeText(t,n);case 3:return e.abrupt("return",e.sent);case 4:if(!r.text||!r.encode&&!r.encodeInBatches){e.next=9;break}return e.next=7,c(t,r,n);case 7:return i=e.sent,e.abrupt("return",(new TextDecoder).decode(i));case 9:throw new Error("Writer could not encode data as text");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r){if(t.encodeInBatches){var n=function(e){return[{table:e,start:0,end:e.length}]}(e);return t.encodeInBatches(n,r)}throw new Error("Writer could not encode data in batches")}function d(e,t,r,n){return p.apply(this,arguments)}function p(){return(p=u(regeneratorRuntime.mark((function e(t,r,i,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,n.resolvePath)(t),r=(0,n.resolvePath)(r),!n.isBrowser&&i.encodeURLtoURL){e.next=4;break}throw new Error;case 4:return e.next=6,i.encodeURLtoURL(t,r,o);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return"/tmp/".concat(e)}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,s,"next",e)}function s(e){o(a,n,i,u,s,"throw",e)}u(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeDOMStream=function(e,t){var r=e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]();return new ReadableStream({type:"bytes",pull:function(e){return a(regeneratorRuntime.mark((function t(){var n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.next();case 3:n=t.sent,i=n.done,o=n.value,i?e.close():e.enqueue(new Uint8Array(o)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},cancel:function(){return a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==r||null===(t=r.return)||void 0===t?void 0:t.call(r);case 2:case"end":return e.stop()}}),e)})))()}},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({highWaterMark:Math.pow(2,24)},t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.I3SContentLoader=void 0;var n=r(152);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}var a={name:"I3S Content (Indexed Scene Layers)",id:"i3s-content",module:"i3s",worker:!0,version:"3.0.12",mimeTypes:["application/octet-stream"],parse:function(e,t,r){return u.apply(this,arguments)},extensions:["bin"],options:{"i3s-content":{}}};function u(){return(u=o(regeneratorRuntime.mark((function e(t,r,i){var o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(null==r?void 0:r.i3s)||{},a=o.tile,u=o.tileset,e.next=3,(0,n.parseI3STileContent)(t,a,u,r,i);case 3:return e.abrupt("return",a.content);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.I3SContentLoader=a},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(27),i=r(1),o=r(2),a=r(12),u=r(10);class s extends n.a{constructor(e=0,t=0){super(2),Object(i.m)(e)&&1===arguments.length?this.copy(e):(i.f.debug&&(Object(o.a)(e),Object(o.a)(t)),this[0]=e,this[1]=t)}set(e,t){return this[0]=e,this[1]=t,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this.check()}fromObject(e){return i.f.debug&&(Object(o.a)(e.x),Object(o.a)(e.y)),this[0]=e.x,this[1]=e.y,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return a.d(this,this,e),this.check()}transformAsVector(e){return Object(u.a)(this,this,e),this.check()}transformByMatrix3(e){return a.c(this,this,e),this.check()}transformByMatrix2x3(e){return a.b(this,this,e),this.check()}transformByMatrix2(e){return a.a(this,this,e),this.check()}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(27),i=r(1),o=r(2),a=r(3),u=r(10);const s={};class c extends n.a{static get ZERO(){return s.ZERO=s.ZERO||Object.freeze(new c(0,0,0,0))}constructor(e=0,t=0,r=0,n=0){super(-0,-0,-0,-0),Object(i.m)(e)&&1===arguments.length?this.copy(e):(i.f.debug&&(Object(o.a)(e),Object(o.a)(t),Object(o.a)(r),Object(o.a)(n)),this[0]=e,this[1]=t,this[2]=r,this[3]=n)}set(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return i.f.debug&&(Object(o.a)(e.x),Object(o.a)(e.y),Object(o.a)(e.z),Object(o.a)(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=Object(o.a)(e)}get w(){return this[3]}set w(e){this[3]=Object(o.a)(e)}transform(e){return a.m(this,this,e),this.check()}transformByMatrix3(e){return Object(u.e)(this,this,e),this.check()}transformByMatrix2(e){return Object(u.d)(this,this,e),this.check()}transformByQuaternion(e){return a.n(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(46),i=r(2),o=r(10),a=r(11),u=r(12),s=r(3);const c=Object.freeze([1,0,0,0,1,0,0,0,1]),l=Object.freeze([0,0,0,0,0,0,0,0,0]),f=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),h={};class d extends n.a{static get IDENTITY(){return h.IDENTITY=h.IDENTITY||Object.freeze(new d(c)),h.IDENTITY}static get ZERO(){return h.ZERO=h.ZERO||Object.freeze(new d(l)),h.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return f}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}set(e,t,r,n,i,o,a,u,s){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=o,this[6]=a,this[7]=u,this[8]=s,this.check()}setRowMajor(e,t,r,n,i,o,a,u,s){return this[0]=e,this[1]=n,this[2]=a,this[3]=t,this[4]=i,this[5]=u,this[6]=r,this[7]=o,this[8]=s,this.check()}determinant(){return a.b(this)}identity(){return this.copy(c)}fromQuaternion(e){return a.c(this,e),this.check()}transpose(){return a.i(this,this),this.check()}invert(){return a.d(this,this),this.check()}multiplyLeft(e){return a.e(this,e,this),this.check()}multiplyRight(e){return a.e(this,this,e),this.check()}rotate(e){return a.f(this,this,e),this.check()}scale(e){return Array.isArray(e)?a.g(this,this,e):a.g(this,this,[e,e,e]),this.check()}translate(e){return a.h(this,this,e),this.check()}transform(e,t){switch(e.length){case 2:t=u.c(t||[-0,-0],e,this);break;case 3:t=s.l(t||[-0,-0,-0],e,this);break;case 4:t=Object(o.e)(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Object(i.b)(t,e.length),t}transformVector(e,t){return Object(i.c)("Matrix3.transformVector"),this.transform(e,t)}transformVector2(e,t){return Object(i.c)("Matrix3.transformVector"),this.transform(e,t)}transformVector3(e,t){return Object(i.c)("Matrix3.transformVector"),this.transform(e,t)}}},function(e,t,r){"use strict";t.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.12"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return h.apply(this,arguments)};var n=r(42),i=r(87),o=r(43),a=c(r(88)),u=c(r(154)),s=c(r(155));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,u,"next",e)}function u(e){l(o,n,i,a,u,"throw",e)}a(void 0)}))}}function h(){return(h=f(regeneratorRuntime.mark((function e(t,r,i){var c,l,f,h,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=(r=r||{}).image||{},l=c.type||"auto",f=(i||{}).url,h=d(l),e.t0=h,e.next="imagebitmap"===e.t0?8:"image"===e.t0?12:"data"===e.t0?16:20;break;case 8:return e.next=10,(0,u.default)(t,r,f);case 10:return p=e.sent,e.abrupt("break",21);case 12:return e.next=14,(0,a.default)(t,r,f);case 14:return p=e.sent,e.abrupt("break",21);case 16:return e.next=18,(0,s.default)(t,r);case 18:return p=e.sent,e.abrupt("break",21);case 20:(0,n.assert)(!1);case 21:return"data"===l&&(p=(0,o.getImageData)(p)),e.abrupt("return",p);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){switch(e){case"auto":case"data":return(0,i.getDefaultImageType)();default:return(0,i.isImageTypeSupported)(e),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isImageTypeSupported=function(e){switch(e){case"auto":return a||o||s;case"imagebitmap":return a;case"image":return o;case"data":return s;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}},t.getDefaultImageType=function(){if(a)return"imagebitmap";if(o)return"image";if(s)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")};var n=r(55),i=n.global._parseImageNode,o="undefined"!=typeof Image,a="undefined"!=typeof ImageBitmap,u=Boolean(i),s=!!n.isBrowser||u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return a.apply(this,arguments)},t.loadToImage=u;var n=r(89);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i){var o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,n.getBlobOrSVGDataUrl)(t,i),a=self.URL||self.webkitURL,s="string"!=typeof o&&a.createObjectURL(o),e.prev=3,e.next=6,u(s||o,r);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,s&&a.revokeObjectURL(s),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function u(e,t){return s.apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new Image).src=t,!(r.image&&r.image.decode&&n.decode)){e.next=6;break}return e.next=5,n.decode();case 5:return e.abrupt("return",n);case 6:return e.next=8,new Promise((function(e,r){try{n.onload=function(){return e(n)},n.onerror=function(e){return r(new Error("Could not load image ".concat(t,": ").concat(e)))}}catch(e){r(e)}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSVG=o,t.getBlobOrSVGDataUrl=function(e,t){if(o(t)){var r=(new TextDecoder).decode(e);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(r=unescape(encodeURIComponent(r)))}catch(e){throw new Error(e.message)}return"data:image/svg+xml;base64,".concat(btoa(r))}return a(e,t)},t.getBlob=a;var n=/^data:image\/svg\+xml/,i=/\.svg((\?|#).*)?$/;function o(e){return e&&(n.test(e)||i.test(e))}function a(e,t){if(o(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0;t.VERSION="3.0.12"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TableBatchBuilder",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"RowTableBatchAggregator",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ColumnarTableBatchAggregator",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"convertToObjectRow",{enumerable:!0,get:function(){return a.convertToObjectRow}}),Object.defineProperty(t,"convertToArrayRow",{enumerable:!0,get:function(){return a.convertToArrayRow}}),Object.defineProperty(t,"getMeshSize",{enumerable:!0,get:function(){return u.getMeshSize}}),Object.defineProperty(t,"getMeshBoundingBox",{enumerable:!0,get:function(){return u.getMeshBoundingBox}}),Object.defineProperty(t,"Schema",{enumerable:!0,get:function(){return s.Schema}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return s.Field}}),Object.defineProperty(t,"DataType",{enumerable:!0,get:function(){return s.DataType}}),Object.defineProperty(t,"Null",{enumerable:!0,get:function(){return s.Null}}),Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return s.Binary}}),Object.defineProperty(t,"Bool",{enumerable:!0,get:function(){return s.Bool}}),Object.defineProperty(t,"Int",{enumerable:!0,get:function(){return s.Int}}),Object.defineProperty(t,"Int8",{enumerable:!0,get:function(){return s.Int8}}),Object.defineProperty(t,"Int16",{enumerable:!0,get:function(){return s.Int16}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return s.Int32}}),Object.defineProperty(t,"Int64",{enumerable:!0,get:function(){return s.Int64}}),Object.defineProperty(t,"Uint8",{enumerable:!0,get:function(){return s.Uint8}}),Object.defineProperty(t,"Uint16",{enumerable:!0,get:function(){return s.Uint16}}),Object.defineProperty(t,"Uint32",{enumerable:!0,get:function(){return s.Uint32}}),Object.defineProperty(t,"Uint64",{enumerable:!0,get:function(){return s.Uint64}}),Object.defineProperty(t,"Float",{enumerable:!0,get:function(){return s.Float}}),Object.defineProperty(t,"Float16",{enumerable:!0,get:function(){return s.Float16}}),Object.defineProperty(t,"Float32",{enumerable:!0,get:function(){return s.Float32}}),Object.defineProperty(t,"Float64",{enumerable:!0,get:function(){return s.Float64}}),Object.defineProperty(t,"Utf8",{enumerable:!0,get:function(){return s.Utf8}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return s.Date}}),Object.defineProperty(t,"DateDay",{enumerable:!0,get:function(){return s.DateDay}}),Object.defineProperty(t,"DateMillisecond",{enumerable:!0,get:function(){return s.DateMillisecond}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return s.Time}}),Object.defineProperty(t,"TimeMillisecond",{enumerable:!0,get:function(){return s.TimeMillisecond}}),Object.defineProperty(t,"TimeSecond",{enumerable:!0,get:function(){return s.TimeSecond}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return s.Timestamp}}),Object.defineProperty(t,"TimestampSecond",{enumerable:!0,get:function(){return s.TimestampSecond}}),Object.defineProperty(t,"TimestampMillisecond",{enumerable:!0,get:function(){return s.TimestampMillisecond}}),Object.defineProperty(t,"TimestampMicrosecond",{enumerable:!0,get:function(){return s.TimestampMicrosecond}}),Object.defineProperty(t,"TimestampNanosecond",{enumerable:!0,get:function(){return s.TimestampNanosecond}}),Object.defineProperty(t,"Interval",{enumerable:!0,get:function(){return s.Interval}}),Object.defineProperty(t,"IntervalDayTime",{enumerable:!0,get:function(){return s.IntervalDayTime}}),Object.defineProperty(t,"IntervalYearMonth",{enumerable:!0,get:function(){return s.IntervalYearMonth}}),Object.defineProperty(t,"FixedSizeList",{enumerable:!0,get:function(){return s.FixedSizeList}}),Object.defineProperty(t,"deduceTableSchema",{enumerable:!0,get:function(){return c.deduceTableSchema}}),Object.defineProperty(t,"getTypeInfo",{enumerable:!0,get:function(){return l.getTypeInfo}}),Object.defineProperty(t,"getArrowTypeFromTypedArray",{enumerable:!0,get:function(){return f.getArrowTypeFromTypedArray}}),Object.defineProperty(t,"AsyncQueue",{enumerable:!0,get:function(){return h.default}});var n=d(r(165)),i=d(r(92)),o=d(r(94)),a=r(93),u=r(167),s=r(57),c=r(173),l=r(174),f=r(175),h=d(r(176));function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(93);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){function e(t,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"schema",void 0),o(this,"options",void 0),o(this,"length",0),o(this,"objectRows",null),o(this,"arrayRows",null),o(this,"cursor",0),o(this,"_headers",[]),this.options=r,this.schema=t,!Array.isArray(t))for(var n in this._headers=[],t)this._headers[t[n].index]=t[n].name}var t,r,a;return t=e,(r=[{key:"rowCount",value:function(){return this.length}},{key:"addArrayRow",value:function(e,t){switch(Number.isFinite(t)&&(this.cursor=t),this.options.shape){case"object-row-table":var r=(0,n.convertToObjectRow)(e,this._headers);this.addObjectRow(r,t);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=e,this.length++}}},{key:"addObjectRow",value:function(e,t){switch(Number.isFinite(t)&&(this.cursor=t),this.options.shape){case"array-row-table":var r=(0,n.convertToArrayRow)(e,this._headers);this.addArrayRow(r,t);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=e,this.length++}}},{key:"getBatch",value:function(){var e=this.arrayRows||this.objectRows;return e?(e=e.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToObjectRow=function(e,t){if(!e)throw new Error("null row");if(!t)throw new Error("no headers");for(var r={},n=0;n<t.length;n++)r[t[n]]=e[n];return r},t.convertToArrayRow=function(e,t){if(!e)throw new Error("null row");if(!t)throw new Error("no headers");for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=e[t[n]];return r}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"schema",void 0),a(this,"length",0),a(this,"allocated",0),a(this,"columns",{}),this.schema=t,this._reallocateColumns()}var t,r,i;return t=e,(r=[{key:"rowCount",value:function(){return this.length}},{key:"addArrayRow",value:function(e){this._reallocateColumns();var t=0;for(var r in this.columns)this.columns[r][this.length]=e[t++];this.length++}},{key:"addObjectRow",value:function(e){for(var t in this._reallocateColumns(),e)this.columns[t][this.length]=e[t];this.length++}},{key:"getBatch",value:function(){this._pruneColumns();var e=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(var t in this.schema){var r=this.schema[t];e[r.name]=this.columns[r.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:e,schema:this.schema,length:this.length}}},{key:"_reallocateColumns",value:function(){if(!(this.length<this.allocated))for(var e in this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={},this.schema){var t=this.schema[e],r=t.type||Float32Array,n=this.columns[t.index];if(n&&ArrayBuffer.isView(n)){var i=new r(this.allocated);i.set(n),this.columns[t.index]=i}else n?(n.length=this.allocated,this.columns[t.index]=n):this.columns[t.index]=new r(this.allocated)}}},{key:"_pruneColumns",value:function(){for(var e=0,t=Object.entries(this.columns);e<t.length;e++){var r=n(t[e],2),i=r[0],o=r[1];this.columns[i]=o.slice(0,this.length)}}}])&&o(t.prototype,r),i&&o(t,i),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDracoDecoderModule=function(e){return b.apply(this,arguments)},t.loadDracoEncoderModule=function(e){return v.apply(this,arguments)};var n=r(24);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,u,"next",e)}function u(e){c(o,n,i,a,u,"throw",e)}a(void 0)}))}}var f,h,d="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.js"),p="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_wasm_wrapper.js"),y="https://www.gstatic.com/draco/versioned/decoders/".concat("1.4.1","/draco_decoder.wasm"),m="https://raw.githubusercontent.com/google/draco/".concat("1.4.1","/javascript/draco_encoder.js");function b(){return(b=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.modules||{},f=r.draco3d?f||r.draco3d.createDecoderModule({}).then((function(e){return{draco:e}})):f||_(t),e.next=4,f;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.modules||{},h=r.draco3d?h||r.draco3d.createEncoderModule({}).then((function(e){return{draco:e}})):h||O(t),e.next=4,h;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return g.apply(this,arguments)}function g(){return(g=l(regeneratorRuntime.mark((function e(t){var r,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.draco&&t.draco.decoderType,e.next="js"===e.t0?3:(e.t0,7);break;case 3:return e.next=5,(0,n.loadLibrary)(d,"draco",t);case 5:return r=e.sent,e.abrupt("break",21);case 7:return e.t1=Promise,e.next=10,(0,n.loadLibrary)(p,"draco",t);case 10:return e.t2=e.sent,e.next=13,(0,n.loadLibrary)(y,"draco",t);case 13:return e.t3=e.sent,e.t4=[e.t2,e.t3],e.next=17,e.t1.all.call(e.t1,e.t4);case 17:a=e.sent,u=i(a,2),r=u[0],o=u[1];case 21:return r=r||globalThis.DracoDecoderModule,e.next=24,E(r,o);case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){var r={};return t&&(r.wasmBinary=t),new Promise((function(t){e(u(u({},r),{},{onModuleLoaded:function(e){return t({draco:e})}}))}))}function O(e){return T.apply(this,arguments)}function T(){return(T=l(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.loadLibrary)(m,"draco",t);case 2:return r=(r=e.sent)||globalThis.DracoEncoderModule,e.abrupt("return",new Promise((function(e){r({onModuleLoaded:function(t){return e({draco:t})}})})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BasisLoader",{enumerable:!0,get:function(){return n.BasisLoader}}),Object.defineProperty(t,"BasisWorkerLoader",{enumerable:!0,get:function(){return n.BasisWorkerLoader}}),Object.defineProperty(t,"CompressedTextureLoader",{enumerable:!0,get:function(){return i.CompressedTextureLoader}}),Object.defineProperty(t,"CompressedTextureWorkerLoader",{enumerable:!0,get:function(){return i.CompressedTextureWorkerLoader}}),Object.defineProperty(t,"CrunchLoader",{enumerable:!0,get:function(){return o.CrunchLoader}}),Object.defineProperty(t,"CrunchWorkerLoader",{enumerable:!0,get:function(){return o.CrunchLoader}}),Object.defineProperty(t,"NPYLoader",{enumerable:!0,get:function(){return a.NPYLoader}}),Object.defineProperty(t,"NPYWorkerLoader",{enumerable:!0,get:function(){return a.NPYWorkerLoader}}),Object.defineProperty(t,"CompressedTextureWriter",{enumerable:!0,get:function(){return u.CompressedTextureWriter}}),Object.defineProperty(t,"loadImageTexture",{enumerable:!0,get:function(){return s.loadImageTexture}}),Object.defineProperty(t,"loadImageTextureArray",{enumerable:!0,get:function(){return c.loadImageTextureArray}}),Object.defineProperty(t,"loadImageTextureCube",{enumerable:!0,get:function(){return l.loadImageTextureCube}}),Object.defineProperty(t,"GL_CONSTANTS",{enumerable:!0,get:function(){return f.GL}}),Object.defineProperty(t,"getSupportedGPUTextureFormats",{enumerable:!0,get:function(){return h.getSupportedGPUTextureFormats}});var n=r(180),i=r(183),o=r(190),a=r(191),u=r(193),s=r(59),c=r(197),l=r(198),f=r(31),h=r(199)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLOAT_64_TYPE=t.OBJECT_ID_ATTRIBUTE_TYPE=t.STRING_ATTRIBUTE_TYPE=t.SIZEOF=t.I3S_NAMED_HEADER_ATTRIBUTES=t.I3S_NAMED_GEOMETRY_ATTRIBUTES=t.I3S_NAMED_VERTEX_ATTRIBUTES=t.GL_TYPE_MAP=t.TYPE_ARRAY_MAP=void 0;var n,i=(n=r(200))&&n.__esModule?n:{default:n};var o={UInt8:Uint8Array,UInt16:Uint16Array,UInt32:Uint32Array,Float32:Float32Array,UInt64:Float64Array};t.TYPE_ARRAY_MAP=o;var a={UInt8:i.default.UNSIGNED_BYTE,UInt16:i.default.UNSIGNED_INT,Float32:i.default.FLOAT,UInt32:i.default.UNSIGNED_INT,UInt64:i.default.DOUBLE};t.GL_TYPE_MAP=a;t.I3S_NAMED_VERTEX_ATTRIBUTES={position:"position",normal:"normal",uv0:"uv0",color:"color",region:"region"};t.I3S_NAMED_GEOMETRY_ATTRIBUTES={vertexAttributes:"vertexAttributes",featureAttributeOrder:"featureAttributeOrder",featureAttributes:"featureAttributes"};t.I3S_NAMED_HEADER_ATTRIBUTES={header:"header",vertexCount:"vertexCount",featureCount:"featureCount"};t.SIZEOF={UInt8:1,UInt16:2,UInt32:4,Float32:4,UInt64:8};t.STRING_ATTRIBUTE_TYPE="String";t.OBJECT_ID_ATTRIBUTE_TYPE="Oid32";t.FLOAT_64_TYPE="Float64"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeTileData=function(e,t,r){e.url=r.url,e.featureData&&(e.featureUrl="".concat(e.url,"/").concat(e.featureData[0].href));e.geometryData&&(e.contentUrl="".concat(e.url,"/").concat(e.geometryData[0].href));e.textureData&&(e.textureUrl="".concat(e.url,"/").concat(e.textureData[0].href));e.attributeData&&(e.attributeUrls=(0,c.generateTileAttributeUrls)(e));return p(e)},t.normalizeTileNonUrlData=p,t.normalizeTilesetData=function(e,t,r){return y.apply(this,arguments)};var n,i=r(45),o=r(25),a=r(17),u=r(201),s=(n=r(212))&&n.__esModule?n:{default:n},c=r(44);function l(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){l(o,n,i,a,u,"next",e)}function u(e){l(o,n,i,a,u,"throw",e)}a(void 0)}))}}function h(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){var t,r=e.obb?[].concat(h(o.Ellipsoid.WGS84.cartographicToCartesian(e.obb.center)),h(e.obb.halfSize),h(e.obb.quaternion)):void 0;if(e.mbs)t=[].concat(h(o.Ellipsoid.WGS84.cartographicToCartesian(e.mbs.slice(0,3))),[e.mbs[3]]);else if(r){var n=(new i.OrientedBoundingBox).fromCenterHalfSizeQuaternion(r.slice(0,3),e.obb.halfSize,e.obb.quaternion).getBoundingSphere();t=[].concat(h(n.center),[n.radius]),e.mbs=[].concat(h(e.obb.center),[n.radius])}return e.boundingVolume={sphere:t,box:r},e.lodMetricType=e.lodSelection[0].metricType,e.lodMetricValue=e.lodSelection[0].maxError,e.transformMatrix=e.transform,e.type=u.TILE_TYPE.MESH,e.refine=u.TILE_REFINEMENT.REPLACE,e}function y(){return(y=f(regeneratorRuntime.mark((function e(t,r,n){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url=n.url,!t.nodePages){e.next=8;break}return t.nodePagesTile=new s.default(t,r),e.next=5,t.nodePagesTile.formTileFromNodePages(0);case 5:t.root=e.sent,e.next=12;break;case 8:return o=(0,c.getUrlWithToken)("".concat(t.url,"/nodes/root"),null===(i=r.i3s)||void 0===i?void 0:i.token),e.next=11,(0,a.load)(o,t.loader,{i3s:{loadContent:!1,isTileHeader:!0,isTileset:!1}});case 11:t.root=e.sent;case 12:t.basePath=t.url,t.type=u.TILESET_TYPE.I3S,t.lodMetricType=t.root.lodMetricType,t.lodMetricValue=t.root.lodMetricValue;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(203))&&n.__esModule?n:{default:n};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return null!=e}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_list",void 0),a(this,"_sentinel",void 0),a(this,"_trimTiles",void 0),this._list=new i.default,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}var t,r,n;return t=e,(r=[{key:"reset",value:function(){this._list.splice(this._list.tail,this._sentinel)}},{key:"touch",value:function(e){var t=e._cacheNode;u(t)&&this._list.splice(this._sentinel,t)}},{key:"add",value:function(e,t,r){u(t._cacheNode)||(t._cacheNode=this._list.add(t),r&&r(e,t))}},{key:"unloadTile",value:function(e,t,r){var n=t._cacheNode;u(n)&&(this._list.remove(n),t._cacheNode=void 0,r&&r(e,t))}},{key:"unloadTiles",value:function(e,t){var r=this._trimTiles;this._trimTiles=!1;for(var n=this._list,i=1024*e.maximumMemoryUsage*1024,o=this._sentinel,a=n.head;a!==o&&(e.gpuMemoryUsageInBytes>i||r);){var u=a.item;a=a.next,this.unloadTile(e,u,t)}}},{key:"trim",value:function(){this._trimTiles=!0}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTransformProps=function(e,t){(0,o.assert)(e),(0,o.assert)(t);var r=t.rtcCenter,a=t.gltfUpAxis,u=e.computedTransform,s=e.boundingVolume.center,c=new i.Matrix4(u);r&&c.translate(r);switch(a){case"Z":break;case"Y":var l=(new i.Matrix4).rotateX(Math.PI/2);c=c.multiplyRight(l);break;case"X":var f=(new i.Matrix4).rotateY(-Math.PI/2);c=c.multiplyRight(f)}t.isQuantized&&c.translate(t.quantizedVolumeOffset).scale(t.quantizedVolumeScale);var h=new i.Vector3(s);t.cartesianModelMatrix=c,t.cartesianOrigin=h;var d=n.Ellipsoid.WGS84.cartesianToCartographic(h,new i.Vector3),p=n.Ellipsoid.WGS84.eastNorthUpToFixedFrame(h).invert();t.cartographicModelMatrix=p.multiplyRight(c),t.cartographicOrigin=d,t.modelMatrix=t.cartographicModelMatrix};var n=r(25),i=r(5),o=r(4)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFrameState=function(e,t){var r=e.cameraDirection,i=e.cameraUp,c=e.height,l=e.distanceScales.metersPerUnit,f=[e.longitude,e.latitude,0],h=o.Ellipsoid.WGS84.cartographicToCartesian(f,new n.Vector3),d=o.Ellipsoid.WGS84.eastNorthUpToFixedFrame(h),p=e.unprojectPosition(e.cameraPosition),y=o.Ellipsoid.WGS84.cartographicToCartesian(p,new n.Vector3),m=new n.Vector3(d.transformAsVector(new n.Vector3(r).scale(l))).normalize(),b=new n.Vector3(d.transformAsVector(new n.Vector3(i).scale(l))).normalize();return function(e,t){var r=e.getFrustumPlanes(),i=0;for(var c in r){var l=r[c],f=l.normal.dot(e.center);u.copy(l.normal).scale(l.distance-f).add(e.center);var h=e.unprojectPosition(u),d=o.Ellipsoid.WGS84.cartographicToCartesian(h,new n.Vector3);s.planes[i++].fromPointNormal(d,a.copy(t).subtract(d))}}(e,h),{camera:{position:y,direction:m,up:b},viewport:e,height:c,cullingVolume:s,frameNumber:t,sseDenominator:1.15}};var n=r(5),i=r(45),o=r(25),a=new n.Vector3,u=new n.Vector3,s=new i.CullingVolume([new i.Plane,new i.Plane,new i.Plane,new i.Plane,new i.Plane,new i.Plane])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBoundingVolume=function(e,t,r){if((0,a.assert)(e,"3D Tile: boundingVolume must be defined"),e.box)return function(e,t,r){var o=new n.Vector3(e[0],e[1],e[2]);t.transform(o,o);var a=[];if(10===e.length){var s=e.slice(3,6),c=new n.Quaternion;c.fromArray(e,6);var f=new n.Vector3([1,0,0]),h=new n.Vector3([0,1,0]),d=new n.Vector3([0,0,1]);f.transformByQuaternion(c),f.scale(s[0]),h.transformByQuaternion(c),h.scale(s[1]),d.transformByQuaternion(c),d.scale(s[2]),a=[].concat(u(f.toArray()),u(h.toArray()),u(d.toArray()))}else a=[].concat(u(e.slice(3,6)),u(e.slice(6,9)),u(e.slice(9,12)));var p=t.transformAsVector(a.slice(0,3)),y=t.transformAsVector(a.slice(3,6)),m=t.transformAsVector(a.slice(6,9)),b=new n.Matrix3([p[0],p[1],p[2],y[0],y[1],y[2],m[0],m[1],m[2]]);if(l(r))return r.center=o,r.halfAxes=b,r;return new i.OrientedBoundingBox(o,b)}(e.box,t,r);if(e.region){var c=(S=e.region,R=6,function(e){if(Array.isArray(e))return e}(S)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}}(S,R)||s(S,R)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=c[0],y=c[1],m=c[2],b=c[3],v=c[4],_=c[5],g=o.Ellipsoid.WGS84.cartographicToCartesian([(0,n.degrees)(f),(0,n.degrees)(b),v],h),E=o.Ellipsoid.WGS84.cartographicToCartesian([(0,n.degrees)(m),(0,n.degrees)(y),_],d),O=(new n.Vector3).addVectors(g,E).multiplyScalar(.5),T=(new n.Vector3).subVectors(g,E).len()/2;return p([O[0],O[1],O[2],T],new n.Matrix4)}var S,R;if(e.sphere)return p(e.sphere,t,r);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")};var n=r(5),i=r(45),o=r(25),a=r(4);function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return null!=e}var f=new n.Vector3,h=new n.Vector3,d=new n.Vector3;function p(e,t,r){var o=new n.Vector3(e[0],e[1],e[2]);t.transform(o,o);var a=t.getScale(f),u=Math.max(Math.max(a[0],a[1]),a[2]),s=e[3]*u;return l(r)?(r.center=o,r.radius=s,r):new i.BoundingSphere(o,s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lodJudge=function(e,t){var r=t.viewport,n=r.metersPerPixel,i=e.header.mbs[1],o=e.header.mbs[0],u=e.header.mbs[2],l=e.header.mbs[3],f=r.height,h=r.width,d=r.latitude,p=r.longitude,y=[p,d],m=[o,i,u],b=[p,i],v=[o,d],_=Math.sqrt(f*f+h*h)*n[0],g=s(y,m),E=.5*f+l/6378137,O=.5*h+l/6378137;if(g>_+l/6378137)return"OUT";if(s(y,b)>E)return"OUT";if(s(y,v)>O)return"OUT";if(0===e.lodMetricValue)return"DIG";var T=c(e,t);if((T*=a)<.5)return"OUT";if(!e.header.children||T<=e.lodMetricValue)return"DRAW";if(e.header.children)return"DIG";return"OUT"},t.getI3ScreenSize=c;var n=r(5);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=Math.PI/2;function u(e){var t=i(e,3),r=t[0],o=t[1],a=t[2],u=(0,n.toRadians)(r),s=(0,n.toRadians)(o),c=1+a/6378137,l=c*Math.cos(s);return[r=l*Math.cos(u),o=l*Math.sin(u),a=c*Math.sin(s)]}function s(e,t){var r=i(e,3),n=r[0],o=r[1],a=r[2],s=void 0===a?0:a,c=i(t,3),l=c[0],f=c[1],h=c[2],d=u([l,f,void 0===h?0:h]),p=u([n,o,s]),y=p[0]-d[0],m=p[1]-d[1],b=p[2]-d[2];return y*y+m*m+b*b}function c(e,t){var r=t.viewport,n=e.header.mbs[1],i=[e.header.mbs[0],n,e.header.mbs[2]],o=e.header.mbs[3]/6378137,a=s(r.unprojectPosition(r.cameraPosition),i)-o*o;return a<=0?170141175e30:function(e){return e.viewport.projectionMatrix[5]}(t)*o/Math.sqrt(a)*300}},function(e,t,r){"use strict";(function(t){var n=r(105),i="undefined"==typeof window?t:window;i.loaders=i.loaders||{},e.exports=Object.assign(i.loaders,n)}).call(this,r(23))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"I3SLoader",{enumerable:!0,get:function(){return n.I3SLoader}}),Object.defineProperty(t,"I3SContentLoader",{enumerable:!0,get:function(){return i.I3SContentLoader}}),Object.defineProperty(t,"I3SAttributeLoader",{enumerable:!0,get:function(){return o.I3SAttributeLoader}}),Object.defineProperty(t,"loadFeatureAttributes",{enumerable:!0,get:function(){return o.loadFeatureAttributes}});var n=r(106),i=r(80),o=r(214)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.I3SLoader=void 0;var n=r(17),i=r(80),o=r(98);function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}var l=/layers\/[0-9]+$/,f=/nodes\/([0-9-]+|root)$/,h={name:"I3S (Indexed Scene Layers)",id:"i3s",module:"i3s",version:"3.0.12",mimeTypes:["application/octet-stream"],parse:function(e,t,r){return d.apply(this,arguments)},extensions:["bin"],options:{i3s:{loadContent:!0,token:null,isTileset:"auto",isTileHeader:"auto",tile:null,tileset:null,useDracoGeometry:!0,useCompressedTextures:!0}}};function d(){return(d=c(regeneratorRuntime.mark((function e(t,r,i){var o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.url,r.i3s=r.i3s||{},"504b0304"!==g(t)){e.next=5;break}throw new Error("Files with .slpk extention currently are not supported by I3SLoader");case 5:if(a="auto"===r.i3s.isTileset?l.test(o):r.i3s.isTileset,u="auto"===r.isTileHeader?f.test(o):r.i3s.isTileHeader,!a){e.next=13;break}return e.next=10,m(t,r,i);case 10:t=e.sent,e.next=26;break;case 13:if(!u){e.next=23;break}return e.next=16,v(t,r,i);case 16:if(t=e.sent,!r.i3s.loadContent){e.next=21;break}return r.i3s.tile=t,e.next=21,(0,n.load)(t.contentUrl,h,r);case 21:e.next=26;break;case 23:return e.next=25,p(t,r);case 25:t=e.sent;case 26:return e.abrupt("return",t);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return y.apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.parse)(t,i.I3SContentLoader,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,r){return b.apply(this,arguments)}function b(){return(b=c(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=JSON.parse((new TextDecoder).decode(t))).loader=h,e.next=4,(0,o.normalizeTilesetData)(i,r,n);case 4:return e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,r){return _.apply(this,arguments)}function _(){return(_=c(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse((new TextDecoder).decode(t)),e.abrupt("return",(0,o.normalizeTileData)(t,r,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return e instanceof ArrayBuffer?a(new Uint8Array(e,0,4)).map((function(e){return e.toString(16).padStart(2,"0")})).join(""):null}t.I3SLoader=h},function(e,t,r){"use strict";(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeVersion=t.isWorker=t.isBrowser=t.document=t.global=t.window=t.self=void 0;var i={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},o=i.self||i.window||i.global||{};t.self=o;var a=i.window||i.self||i.global||{};t.window=a;var u=i.global||i.self||i.window||{};t.global=u;var s=i.document||{};t.document=s;var c="object"!==(void 0===r?"undefined":n(r))||"[object process]"!==String(r)||r.browser;t.isBrowser=c;var l="function"==typeof importScripts;t.isWorker=l;var f=void 0!==r&&r.version&&/v([0-9]*)/.exec(r.version),h=f&&parseFloat(f[1])||0;t.nodeVersion=h}).call(this,r(23),r(18))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLoaderWorker=function(e){if("undefined"==typeof self)return;n.WorkerBody.onmessage=function(){var t=s(regeneratorRuntime.mark((function t(r,i){var o,a,u,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r,t.next="process"===t.t0?3:16;break;case 3:return t.prev=3,o=i.input,a=i.options,u=void 0===a?{}:a,t.next=7,f({loader:e,arrayBuffer:o,options:u,context:{parse:l}});case 7:s=t.sent,n.WorkerBody.postMessage("done",{result:s}),t.next=15;break;case 11:t.prev=11,t.t1=t.catch(3),c=t.t1 instanceof Error?t.t1.message:"",n.WorkerBody.postMessage("error",{error:c});case 15:return t.abrupt("break",16);case 16:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,r){return t.apply(this,arguments)}}()};var n=r(24);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}var c=0;function l(e,t){return new Promise((function(r,i){var o=c++;n.WorkerBody.addEventListener((function e(t,a){if(a.id===o)switch(t){case"done":n.WorkerBody.removeEventListener(e),r(a.result);break;case"error":n.WorkerBody.removeEventListener(e),i(a.error)}}));var a={id:o,input:e,options:t};n.WorkerBody.postMessage("process",a)}))}function f(e){return h.apply(this,arguments)}function h(){return(h=s(regeneratorRuntime.mark((function e(t){var r,n,i,a,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.loader,n=t.arrayBuffer,i=t.options,a=t.context,!r.parseSync&&!r.parse){e.next=6;break}u=n,s=r.parseSync||r.parse,e.next=13;break;case 6:if(!r.parseTextSync){e.next=12;break}c=new TextDecoder,u=c.decode(n),s=r.parseTextSync,e.next=13;break;case 12:throw new Error("Could not load data with ".concat(r.name," loader"));case 13:return i=o(o({},i),{},{modules:r&&r.options&&r.options.modules||{},worker:!1}),e.next=16,s(u,o({},i),a,r);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoadableWorkerURL=function(e){(0,n.assert)(e.source&&!e.url||!e.source&&e.url);var t=i.get(e.source||e.url);t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return o((t=e,"try {\n  importScripts('".concat(t,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var t}(e.url),i.set(e.url,t)),e.source&&(t=o(e.source),i.set(e.source,t)));return(0,n.assert)(t),t};var n=r(19),i=new Map;function o(e){var t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canProcessOnWorker=function(e,t){if(!i.default.isSupported())return!1;return e.worker&&(null==t?void 0:t.worker)},t.processOnWorker=function(e,t){return c.apply(this,arguments)};var n,i=(n=r(64))&&n.__esModule?n:{default:n},o=r(111),a=r(67);function u(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function c(){return(c=s(regeneratorRuntime.mark((function e(t,r){var n,u,s,c,f,h,d,p,y,m,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>2&&void 0!==b[2]?b[2]:{},u=b.length>3&&void 0!==b[3]?b[3]:{},s=(0,a.getWorkerName)(t),c=(0,a.getWorkerURL)(t,n),f=i.default.getWorkerFarm(n),h=f.getWorkerPool({name:s,url:c}),d=n.jobName||t.name,e.next=9,h.startJob(d,l.bind(null,u));case 9:return p=e.sent,y=(0,o.removeNontransferableOptions)(n),p.postMessage("process",{input:r,options:y}),e.next=14,p.result;case 14:return m=e.sent,e.abrupt("return",m.result);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t,r,n){return f.apply(this,arguments)}function f(){return(f=s(regeneratorRuntime.mark((function e(t,r,n,i){var o,a,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:23;break;case 3:return r.done(i),e.abrupt("break",24);case 5:return r.error(i.error),e.abrupt("break",24);case 7:if(o=i.id,a=i.input,u=i.options,e.prev=8,t.process){e.next=12;break}return r.postMessage("error",{id:o,error:"Worker not set up to process on main thread"}),e.abrupt("return");case 12:return e.next=14,t.process(a,u);case 14:s=e.sent,r.postMessage("done",{id:o,result:s}),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",r.postMessage("error",{id:o,error:c});case 22:return e.abrupt("break",24);case 23:console.warn("process-on-worker: unknown message ".concat(n));case 24:case"end":return e.stop()}}),e,null,[[8,18]])})))).apply(this,arguments)}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeNontransferableOptions=function(e){return JSON.parse((t=e,r=new Set,JSON.stringify(t,(function(e,t){if("object"===n(t)&&null!==t){if(r.has(t))try{return JSON.parse(JSON.stringify(t))}catch(e){return}r.add(t)}return t}))));var t,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWorker=function(e,t){if("undefined"==typeof self)return;var r={process:f};i.default.onmessage=function(){var o,l=(o=regeneratorRuntime.mark((function o(a,l){var f,h,d,p,y,m,b,v,_,g;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:o.prev=0,o.t0=a,o.next="process"===o.t0?4:"process-in-batches"===o.t0?11:"input-batch"===o.t0?51:"input-done"===o.t0?53:55;break;case 4:if(e){o.next=6;break}throw new Error("Worker does not support atomic processing");case 6:return o.next=8,e(l.input,l.options||{},r);case 8:return f=o.sent,i.default.postMessage("done",{result:f}),o.abrupt("break",55);case 11:if(t){o.next=13;break}throw new Error("Worker does not support batched processing");case 13:s=new n.default,c=l.options||{},h=t(s,c,null==r?void 0:r.processInBatches),d=!0,p=!1,o.prev=18,m=u(h);case 20:return o.next=22,m.next();case 22:return b=o.sent,d=b.done,o.next=26,b.value;case 26:if(v=o.sent,d){o.next=33;break}_=v,i.default.postMessage("output-batch",{result:_});case 30:d=!0,o.next=20;break;case 33:o.next=39;break;case 35:o.prev=35,o.t1=o.catch(18),p=!0,y=o.t1;case 39:if(o.prev=39,o.prev=40,d||null==m.return){o.next=44;break}return o.next=44,m.return();case 44:if(o.prev=44,!p){o.next=47;break}throw y;case 47:return o.finish(44);case 48:return o.finish(39);case 49:return i.default.postMessage("done",{}),o.abrupt("break",55);case 51:return s.push(l.input),o.abrupt("break",55);case 53:return s.close(),o.abrupt("break",55);case 55:o.next=61;break;case 57:o.prev=57,o.t2=o.catch(0),g=o.t2 instanceof Error?o.t2.message:"",i.default.postMessage("error",{error:g});case 61:case"end":return o.stop()}}),o,null,[[0,57],[18,35,39,49],[40,,44,48]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function u(e){a(i,r,n,u,s,"next",e)}function s(e){a(i,r,n,u,s,"throw",e)}u(void 0)}))});return function(e,t){return l.apply(this,arguments)}}()};var n=o(r(68)),i=o(r(66));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}var s,c,l=0;function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){var o=l++;i.default.addEventListener((function e(t,a){if(a.id===o)switch(t){case"done":i.default.removeEventListener(e),r(a.result);break;case"error":i.default.removeEventListener(e),n(a.error)}}));var a={id:o,input:e,options:t};i.default.postMessage("process",a)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateWorkerVersion=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.VERSION;(0,n.assert)(e,"no worker provided");var r=e.version;if(!t||!r)return!1;return!0};var n=r(19),i=r(37)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.loadLibrary=function(e){return f.apply(this,arguments)},t.getLibraryUrl=h;var i=r(48),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,r&&r.set(e,i);return i}(r(115)),a=r(19);r(37);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function s(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}var l={};function f(){return(f=c(regeneratorRuntime.mark((function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:null,n=i.length>2&&void 0!==i[2]?i[2]:{},r&&(t=h(t,r,n)),l[t]=l[t]||d(t),e.next=6,l[t];case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r){if(e.startsWith("http"))return e;var n=r.modules||{};return n[e]?n[e]:i.isBrowser?r.CDN?((0,a.assert)(r.CDN.startsWith("http")),"".concat(r.CDN,"/").concat(t,"@").concat("3.0.12","/dist/libs/").concat(e)):i.isWorker?"../src/libs/".concat(e):"modules/".concat(t,"/src/libs/").concat(e):"modules/".concat(t,"/dist/libs/").concat(e)}function d(e){return p.apply(this,arguments)}function p(){return(p=c(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith("wasm")){e.next=7;break}return e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.arrayBuffer();case 6:return e.abrupt("return",e.sent);case 7:if(i.isBrowser){e.next=14;break}if(e.t0=o.requireFromFile,!e.t0){e.next=13;break}return e.next=12,o.requireFromFile(t);case 12:e.t0=e.sent;case 13:return e.abrupt("return",e.t0);case 14:if(!i.isWorker){e.next=16;break}return e.abrupt("return",importScripts(t));case 16:return e.next=18,fetch(t);case 18:return n=e.sent,e.next=21,n.text();case 21:return a=e.sent,e.abrupt("return",y(a,t));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){if(!i.isBrowser)return o.requireFromString&&o.requireFromString(e,t);if(i.isWorker)return eval.call(i.global,e),null;var r=document.createElement("script");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(t){r.text=e}return document.body.appendChild(r),null}},function(e,t){},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canParseWithWorker=function(e,t){if(!n.WorkerFarm.isSupported())return!1;return e.worker&&(null==t?void 0:t.worker)},t.parseWithWorker=function(e,t,r,n,i){return a.apply(this,arguments)};var n=r(24);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i,o,a){var s,c,l,f,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,c=(0,n.getWorkerURL)(t,i),l=n.WorkerFarm.getWorkerFarm(i),f=l.getWorkerPool({name:s,url:c}),i=JSON.parse(JSON.stringify(i)),e.next=7,f.startJob("process-on-worker",u.bind(null,a));case 7:return(h=e.sent).postMessage("process",{input:r,options:i}),e.next=11,h.result;case 11:return d=e.sent,e.next=14,d.result;case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,r,n){return s.apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark((function e(t,r,n,i){var o,a,u,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="done"===e.t0?3:"error"===e.t0?5:"process"===e.t0?7:20;break;case 3:return r.done(i),e.abrupt("break",21);case 5:return r.error(i.error),e.abrupt("break",21);case 7:return o=i.id,a=i.input,u=i.options,e.prev=8,e.next=11,t(a,u);case 11:s=e.sent,r.postMessage("done",{id:o,result:s}),e.next=19;break;case 15:e.prev=15,e.t1=e.catch(8),c=e.t1 instanceof Error?e.t1.message:"unknown error",r.postMessage("error",{id:o,error:c});case 19:return e.abrupt("break",21);case 20:console.warn("parse-with-worker unknown message ".concat(n));case 21:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseJSON=function(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with "'.concat((0,n.getFirstCharacters)(e),'"'))}};var n=r(69)},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyPaddedArrayBufferToDataView=i,t.copyPaddedStringToDataView=function(e,t,r,n){var o=(new TextEncoder).encode(r);return t=i(e,t,o,n)};var n=r(72);function i(e,t,r,i){var o=(0,n.padToNBytes)(r.byteLength,i),a=o-r.byteLength;if(e){var u=new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength),s=new Uint8Array(r);u.set(s);for(var c=0;c<a;++c)e.setUint8(t+r.byteLength+c,32)}return t+=o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padStringToByteAlignment=function(e,t){for(var r=e.length,n=Math.ceil(r/t)*t-r,i="",o=0;o<n;++o)i+=" ";return e+i},t.copyStringToDataView=function(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r.charCodeAt(i));return t+n},t.copyBinaryToDataView=function(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r[i]);return t+n}},function(e,t,r){"use strict";function n(e){return new a(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,r;function n(t,r){try{var o=e[t](r),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=u:(t=r=u,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function a(e){this.wrapped=e}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function s(){return(s=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,l,f,h,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>1&&void 0!==d[1]?d[1]:{},i=new TextDecoder(void 0,r),o=!0,a=!1,e.prev=4,c=u(t);case 6:return e.next=8,n(c.next());case 8:return l=e.sent,o=l.done,e.next=12,n(l.value);case 12:if(f=e.sent,o){e.next=20;break}return h=f,e.next=17,"string"==typeof h?h:i.decode(h,{stream:!0});case 17:o=!0,e.next=6;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),a=!0,s=e.t0;case 26:if(e.prev=26,e.prev=27,o||null==c.return){e.next=31;break}return e.next=31,n(c.return());case 31:if(e.prev=31,!a){e.next=34;break}throw s;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[4,22,26,36],[27,,31,35]])})))).apply(this,arguments)}function c(){return(c=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new TextEncoder,i=!0,o=!1,e.prev=3,s=u(t);case 5:return e.next=7,n(s.next());case 7:return c=e.sent,i=c.done,e.next=11,n(c.value);case 11:if(l=e.sent,i){e.next=19;break}return f=l,e.next=16,"string"==typeof f?r.encode(f):f;case 16:i=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),o=!0,a=e.t0;case 25:if(e.prev=25,e.prev=26,i||null==s.return){e.next=30;break}return e.next=30,n(s.return());case 30:if(e.prev=30,!o){e.next=33;break}throw a;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="",i=!0,o=!1,e.prev=3,s=u(t);case 5:return e.next=7,n(s.next());case 7:return c=e.sent,i=c.done,e.next=11,n(c.value);case 11:if(l=e.sent,i){e.next=26;break}r+=l,f=void 0;case 16:if(!((f=r.indexOf("\n"))>=0)){e.next=23;break}return h=r.slice(0,f+1),r=r.slice(f+1),e.next=21,h;case 21:e.next=16;break;case 23:i=!0,e.next=5;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(3),o=!0,a=e.t0;case 32:if(e.prev=32,e.prev=33,i||null==s.return){e.next=37;break}return e.next=37,n(s.return());case 37:if(e.prev=37,!o){e.next=40;break}throw a;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(!(r.length>0)){e.next=45;break}return e.next=45,r;case 45:case"end":return e.stop()}}),e,null,[[3,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,i=!0,o=!1,e.prev=3,s=u(t);case 5:return e.next=7,n(s.next());case 7:return c=e.sent,i=c.done,e.next=11,n(c.value);case 11:if(l=e.sent,i){e.next=20;break}return f=l,e.next=16,{counter:r,line:f};case 16:r++;case 17:i=!0,e.next=5;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),o=!0,a=e.t0;case 26:if(e.prev=26,e.prev=27,i||null==s.return){e.next=31;break}return e.next=31,n(s.return());case 31:if(e.prev=31,!o){e.next=34;break}throw a;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case"end":return e.stop()}}),e,null,[[3,22,26,36],[27,,31,35]])})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.makeTextDecoderIterator=function(e){return s.apply(this,arguments)},t.makeTextEncoderIterator=function(e){return c.apply(this,arguments)},t.makeLineIterator=function(e){return l.apply(this,arguments)},t.makeNumberedLineIterator=function(e){return f.apply(this,arguments)},o.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t){return u.apply(this,arguments)},t.concatenateArrayBuffersAsync=function(e){return s.apply(this,arguments)},t.concatenateStringsAsync=function(e){return c.apply(this,arguments)};var n=r(70);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}function a(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function u(){return(u=o(regeneratorRuntime.mark((function e(t,r){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.next();case 3:if(n=e.sent,i=n.done,o=n.value,!i){e.next=9;break}return t.return(),e.abrupt("return");case 9:if(!r(o)){e.next=12;break}return e.abrupt("return");case 12:e.next=0;break;case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark((function e(t){var r,i,o,u,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=!0,o=!1,e.prev=3,s=a(t);case 5:return e.next=7,s.next();case 7:return c=e.sent,i=c.done,e.next=11,c.value;case 11:if(l=e.sent,i){e.next=18;break}f=l,r.push(f);case 15:i=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),o=!0,u=e.t0;case 24:if(e.prev=24,e.prev=25,i||null==s.return){e.next=29;break}return e.next=29,s.return();case 29:if(e.prev=29,!o){e.next=32;break}throw u;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",n.concatenateArrayBuffers.apply(void 0,r));case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark((function e(t){var r,n,i,o,u,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!0,i=!1,e.prev=3,u=a(t);case 5:return e.next=7,u.next();case 7:return s=e.sent,n=s.done,e.next=11,s.value;case 11:if(c=e.sent,n){e.next=18;break}l=c,r.push(l);case 15:n=!0,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),i=!0,o=e.t0;case 24:if(e.prev=24,e.prev=25,n||null==u.return){e.next=29;break}return e.next=29,u.return();case 29:if(e.prev=29,!i){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.abrupt("return",r.join(""));case 35:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(34);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={id:"request-scheduler",throttleRequests:!0,maxRequests:6},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),s(this,"props",void 0),s(this,"stats",void 0),s(this,"activeRequestCount",0),s(this,"requestQueue",[]),s(this,"requestMap",new Map),s(this,"deferredUpdate",null),this.props=o(o({},c),t),this.stats=new n.Stats({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}var t,r,i;return t=e,(r=[{key:"scheduleRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var r={handle:e,priority:0,getPriority:t},n=new Promise((function(e){return r.resolve=e,r}));return this.requestQueue.push(r),this.requestMap.set(e,n),this._issueNewRequests(),n}},{key:"_issueRequest",value:function(e){var t=this,r=e.handle,n=e.resolve,i=!1,o=function(){i||(i=!0,t.requestMap.delete(r),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,n?n({done:o}):Promise.resolve({done:o})}},{key:"_issueNewRequests",value:function(){var e=this;this.deferredUpdate||(this.deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:"_issueNewRequestsAsync",value:function(){this.deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t){var r=this.requestQueue.shift();r&&this._issueRequest(r)}}}},{key:"_updateAllRequests",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var r=e[t];this._updateRequest(r)||(e.splice(t,1),this.requestMap.delete(r.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:"_updateRequest",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0&&(e.resolve(null),1))}}])&&u(t.prototype,r),i&&u(t,i),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPathPrefix=function(e){n=e},t.getPathPrefix=function(){return n},t.addAliases=function(e){Object.assign(i,e)},t.resolvePath=function(e){for(var t in i)if(e.startsWith(t)){var r=i[t];e=e.replace(t,r)}e.startsWith("http://")||e.startsWith("https://")||(e="".concat(n).concat(e));return e};var n="",i={}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}Object.defineProperty(t,"__esModule",{value:!0}),t._typecheckJSONLoader=t.JSONLoader=void 0;var i,o,a={name:"JSON",id:"json",module:"json",version:"3.0.12",extensions:["json","geojson"],mimeTypes:["application/json"],category:"json",text:!0,parseTextSync:u,parse:(i=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u((new TextDecoder).decode(t)));case 1:case"end":return e.stop()}}),e)})),o=function(){var e=this,t=arguments;return new Promise((function(r,o){var a=i.apply(e,t);function u(e){n(a,r,o,u,s,"next",e)}function s(e){n(a,r,o,u,s,"throw",e)}u(void 0)}))},function(e){return o.apply(this,arguments)}),options:{}};function u(e){return JSON.parse(e)}t.JSONLoader=a;var s=a;t._typecheckJSONLoader=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dirname=function(e){var t=e&&e.lastIndexOf("/");return t>=0?e.substr(0,t):""},t.join=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n="/";return(t=t.map((function(e,r){return r&&(e=e.replace(new RegExp("^".concat(n)),"")),r!==t.length-1&&(e=e.replace(new RegExp("".concat(n,"$")),"")),e}))).join(n)}},function(e,t){},function(e,t){},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=a?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(i,u,s):i[u]=e[u]}i.default=e,r&&r.set(e,i);return i}(r(131));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function u(e){a(o,n,i,u,s,"next",e)}function s(e){a(o,n,i,u,s,"throw",e)}u(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fetch=t._fetch}var t,r,n,o,a,c,l,f,h,d;return t=e,(r=[{key:"readdir",value:(d=u(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:".",r=n.length>1?n[1]:void 0,e.next=4,i.readdir(t,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(){return d.apply(this,arguments)})},{key:"stat",value:(h=u(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.stat(t,r);case 2:return n=e.sent,e.abrupt("return",{size:Number(n.size),isDirectory:function(){return!1},info:n});case 4:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})},{key:"fetch",value:(f=u(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.fetch||this.fetch,e.abrupt("return",n(t,r));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"open",value:(l=u(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.open(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return l.apply(this,arguments)})},{key:"close",value:(c=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.close(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"fstat",value:(a=u(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fstat(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"read",value:(o=u(regeneratorRuntime.mark((function e(t,r){var n,o,a,u,s,c,l,f,h,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.buffer,o=void 0===n?null:n,a=r.offset,u=void 0===a?0:a,s=r.length,c=void 0===s?o.byteLength:s,l=r.position,f=void 0===l?null:l,h=0;case 2:if(!(h<c)){e.next=10;break}return e.next=5,i.read(t,o,u+h,c-h,f+h);case 5:d=e.sent,p=d.bytesRead,h+=p,e.next=2;break;case 10:return e.abrupt("return",{bytesRead:h,buffer:o});case 11:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}])&&s(t.prototype,r),n&&s(t,n),e}();t.default=c},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMIMEType=function(e){var t=i.exec(e);if(t)return t[1];return e},t.parseMIMETypeFromURL=function(e){var t=n.exec(e);if(t)return t[1];return""};var n=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,i=/^([-\w.]+\/[-\w.+]+)/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readArrayBuffer=function(e,t,r){return a.apply(this,arguments)},t.readBlob=u;var n=r(4);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("number"!=typeof t){e.next=4;break}return e.next=3,n.fs._readToArrayBuffer(t,r,i);case 3:return e.abrupt("return",e.sent);case 4:return t instanceof Blob||(t=new Blob([t])),o=t.slice(r,r+i),e.next=8,u(o);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return s.apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var n=new FileReader;n.onload=function(t){var r;return e(null==t||null===(r=t.target)||void 0===r?void 0:r.result)},n.onerror=function(e){return r(e)},n.readAsArrayBuffer(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFileSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=(0,n.resolvePath)(e),!n.isBrowser){var r=n.fs.readFileSync(e,t);return"string"!=typeof r?(0,n.toArrayBuffer)(r):r}t.nothrow||(0,n.assert)(!1);return null};var n=r(4)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLoaderOptions=function(e){(0,n.setGlobalOptions)(e)};var n=r(14)},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REMOVED_LOADER_OPTIONS=t.DEFAULT_LOADER_OPTIONS=void 0;var n={fetch:null,mimeType:void 0,nothrow:!1,log:new(r(74).ConsoleLog),CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]};t.DEFAULT_LOADER_OPTIONS=n;t.REMOVED_LOADER_OPTIONS={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeStringIterator=i;var n=regeneratorRuntime.mark(i);function i(e,t){var r,i,o,a,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=(null==t?void 0:t.chunkSize)||262144,i=0,o=new TextEncoder;case 3:if(!(i<e.length)){n.next=11;break}return a=Math.min(e.length-i,r),u=e.slice(i,i+a),i+=a,n.next=9,o.encode(u);case 9:n.next=3;break;case 11:case"end":return n.stop()}}),n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeArrayBufferIterator=i;var n=regeneratorRuntime.mark(i);function i(e){var t,r,i,o,a,u,s,c=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:{},r=t.chunkSize,i=void 0===r?262144:r,o=0;case 3:if(!(o<e.byteLength)){n.next=14;break}return a=Math.min(e.byteLength-o,i),u=new ArrayBuffer(a),s=new Uint8Array(e,o,a),new Uint8Array(u).set(s),o+=a,n.next=12,u;case 12:n.next=3;break;case 14:case"end":return n.stop()}}),n)}},function(e,t,r){"use strict";function n(e){return new a(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,r;function n(t,r){try{var o=e[t](r),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=u:(t=r=u,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function a(e){this.wrapped=e}Object.defineProperty(t,"__esModule",{value:!0}),t.makeBlobIterator=function(e,t){return u.apply(this,arguments)},o.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};function u(){return(u=i(regeneratorRuntime.mark((function e(t,r){var i,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(null==r?void 0:r.chunkSize)||1048576,o=0;case 2:if(!(o<t.size)){e.next=12;break}return a=o+i,e.next=6,n(t.slice(o,a).arrayBuffer());case 6:return u=e.sent,o=a,e.next=10,u;case 10:e.next=2;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeStreamIterator=function(e,t){return n.isBrowser?function(e,t){return c.apply(this,arguments)}(e,t):function(e,t){return l.apply(this,arguments)}(e,t)};var n=r(4);function i(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function o(e){return new s(e)}function a(e){return function(){return new u(e.apply(this,arguments))}}function u(e){var t,r;function n(t,r){try{var o=e[t](r),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=u:(t=r=u,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}function c(){return(c=a(regeneratorRuntime.mark((function e(t,r){var i,a,u,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.getReader(),e.prev=1;case 2:return u=a||i.read(),null!=r&&r._streamReadAhead&&(a=i.read()),e.next=7,o(u);case 7:if(s=e.sent,c=s.done,l=s.value,!c){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,(0,n.toArrayBuffer)(l);case 14:e.next=2;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),i.releaseLock();case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}function l(){return(l=a(regeneratorRuntime.mark((function e(t,r){var a,u,s,c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,u=!1,e.prev=2,c=i(t);case 4:return e.next=6,o(c.next());case 6:return l=e.sent,a=l.done,e.next=10,o(l.value);case 10:if(f=e.sent,a){e.next=18;break}return h=f,e.next=15,(0,n.toArrayBuffer)(h);case 15:a=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),u=!0,s=e.t0;case 24:if(e.prev=24,e.prev=25,a||null==c.return){e.next=29;break}return e.next=29,o(c.return());case 29:if(e.prev=29,!u){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])})))).apply(this,arguments)}u.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},u.prototype.next=function(e){return this._invoke("next",e)},u.prototype.throw=function(e){return this._invoke("throw",e)},u.prototype.return=function(e){return this._invoke("return",e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSync=function e(t,r,f,h){(0,n.assert)(!h||"object"===l(h)),Array.isArray(r)||(0,o.isLoaderObject)(r)||(h=void 0,f=r,r=void 0);f=f||{};var d=r,p=(0,s.getLoadersFromContext)(d,h),y=(0,i.selectLoaderSync)(t,p,f);if(!y)return null;f=(0,a.normalizeOptions)(f,y,p);var m=(0,c.getResourceUrlAndType)(t).url;return h=(0,s.getLoaderContext)({url:m,parseSync:e,parse:function(){throw new Error("parseSync called parse")},loaders:r},f),function(e,t,r,n){if(t=(0,u.getArrayBufferOrStringFromDataSync)(t,e,r),e.parseTextSync&&"string"==typeof t)return e.parseTextSync(t,r);if(e.parseSync&&t instanceof ArrayBuffer)return e.parseSync(t,r,n);throw new Error("".concat(e.name," loader: 'parseSync' not supported by this loader, use 'parse' instead. ").concat(n.url||""))}(y,t,f,h)};var n=r(4),i=r(38),o=r(20),a=r(14),u=r(53),s=r(54),c=r(29);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load=function(e,t,r,n){return c.apply(this,arguments)};var n=r(13),i=r(20),o=r(14),a=r(52);function u(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function c(){return(c=s(regeneratorRuntime.mark((function e(t,r,u,s){var c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)||(0,i.isLoaderObject)(r)||(void 0,u=r,r=void 0),c=(0,o.getFetchFunction)(u),l=t,"string"!=typeof t){e.next=7;break}return e.next=6,c(t);case 6:l=e.sent;case 7:if(!(0,n.isBlob)(t)){e.next=11;break}return e.next=10,c(t);case 10:l=e.sent;case 11:return e.next=13,(0,a.parse)(l,r,u);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadInBatches=function(e,t,r,o){Array.isArray(t)||(0,n.isLoaderObject)(t)||(void 0,r=t,t=null);var a=(0,i.getFetchFunction)(r||{});if(!Array.isArray(e))return s(e,t,r,a);return e.map((function(e){return s(e,t,r,a)}))};var n=r(20),i=r(14),o=r(77);function a(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function u(e){a(o,n,i,u,s,"next",e)}function s(e){a(o,n,i,u,s,"throw",e)}u(void 0)}))}}function s(e,t,r,n){return c.apply(this,arguments)}function c(){return(c=u(regeneratorRuntime.mark((function e(t,r,n,i){var a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=8;break}return a=t,e.next=4,i(a);case 4:return u=e.sent,e.next=7,(0,o.parseInBatches)(u,r,n);case 7:return e.abrupt("return",e.sent);case 8:return e.next=10,(0,o.parseInBatches)(t,r,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.save=function(e,t,r,n){return u.apply(this,arguments)},t.saveSync=function(e,t,r,o){var a=(0,n.encodeSync)(e,r,o);return(0,i.writeFileSync)(t,a)};var n=r(78),i=r(51);function o(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,s,"next",e)}function s(e){o(a,n,i,u,s,"throw",e)}u(void 0)}))}}function u(){return(u=a(regeneratorRuntime.mark((function e(t,r,o,a){var u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.encode)(t,o,a);case 2:return u=e.sent,e.next=5,(0,i.writeFile)(r,u);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeStream=function(e,t){return i.isBrowser?(0,o.makeDOMStream)(e,t):(0,a.default)(e,t)};var n,i=r(4),o=r(79),a=(n=r(147))&&n.__esModule?n:{default:n}},function(e,t){},function(e,t){},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function i(e){return new a(e)}function o(e){var t,r;function n(t,r){try{var o=e[t](r),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){n("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=u:(t=r=u,n(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function a(e){this.wrapped=e}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NullLoader=t.NullWorkerLoader=void 0,o.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};var s={name:"Null loader",id:"null",module:"core",version:"3.0.12",worker:!0,mimeTypes:["application/x.empty"],extensions:["null"],tests:[function(){return!1}],options:{null:{}}};t.NullWorkerLoader=s;var c,l,f,h={name:"Null loader",id:"null",module:"core",version:"3.0.12",mimeTypes:["application/x.empty"],extensions:["null"],parse:(l=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})),f=function(){var e=this,t=arguments;return new Promise((function(r,i){var o=l.apply(e,t);function a(e){n(o,r,i,a,u,"next",e)}function u(e){n(o,r,i,a,u,"throw",e)}a(void 0)}))},function(e){return f.apply(this,arguments)}),parseSync:function(e){return e},parseInBatches:(c=function(e){return function(){return new o(e.apply(this,arguments))}}(regeneratorRuntime.mark((function e(t){var r,n,o,a,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,n=!1,e.prev=2,a=u(t);case 4:return e.next=6,i(a.next());case 6:return s=e.sent,r=s.done,e.next=10,i(s.value);case 10:if(c=e.sent,r){e.next=18;break}return l=c,e.next=15,l;case 15:r=!0,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),n=!0,o=e.t0;case 24:if(e.prev=24,e.prev=25,r||null==a.return){e.next=29;break}return e.next=29,i(a.return());case 29:if(e.prev=29,!n){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])}))),function(e){return c.apply(this,arguments)}),tests:[function(){return!1}],options:{null:{}}};t.NullLoader=h},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,s,"next",e)}function s(e){n(a,i,o,u,s,"throw",e)}u(void 0)}))}}function o(){return(o=i(regeneratorRuntime.mark((function e(t,r){var n,o,u,s,c,l,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>2&&void 0!==f[2]?f[2]:function(){},o=f.length>3&&void 0!==f[3]?f[3]:function(){},e.next=4,t;case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt("return",t);case 7:if(u=t.body){e.next=10;break}return e.abrupt("return",t);case 10:if(s=t.headers.get("content-length")||0,c=s&&parseInt(s),s>0){e.next=14;break}return e.abrupt("return",t);case 14:if("undefined"!=typeof ReadableStream&&u.getReader){e.next=16;break}return e.abrupt("return",t);case 16:return l=new ReadableStream({start:function(e){return i(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.getReader(),t.next=3,a(e,i,0,c,r,n,o);case 3:case"end":return t.stop()}}),t)})))()}}),e.abrupt("return",new Response(l));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e,t,r,n,i,o,a){return u.apply(this,arguments)}function u(){return(u=i(regeneratorRuntime.mark((function e(t,r,n,i,o,u,s){var c,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.read();case 3:if(c=e.sent,l=c.done,f=c.value,!l){e.next=10;break}return u(),t.close(),e.abrupt("return");case 10:return n+=f.byteLength,h=Math.round(n/i*100),o(h,{loadedBytes:n,totalBytes:i}),t.enqueue(f),e.next=16,a(t,r,n,i,o,u,s);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.error(e.t0),s(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return o.apply(this,arguments)}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,s,"next",e)}function s(e){n(a,i,o,u,s,"throw",e)}u(void 0)}))}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_fetch",void 0),a(this,"files",{}),a(this,"lowerCaseFiles",{}),a(this,"usedFiles",{}),this._fetch=(null==r?void 0:r.fetch)||fetch;for(var n=0;n<t.length;++n){var i=t[n];this.files[i.name]=i,this.lowerCaseFiles[i.name.toLowerCase()]=i,this.usedFiles[i.name]=!1}this.fetch=this.fetch.bind(this)}var t,r,n,u,s,c,l,f,h,d;return t=e,(r=[{key:"fetch",value:(d=i(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,u,s,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.includes("://")){e.next=2;break}return e.abrupt("return",this._fetch(t,r));case 2:if(n=this.files[t]){e.next=5;break}return e.abrupt("return",new Response(t,{status:400,statusText:"NOT FOUND"}));case 5:if(i=new Headers(null==r?void 0:r.headers),o=i.get("Range"),!(a=o&&/bytes=($1)-($2)/.exec(o))){e.next=17;break}return u=parseInt(a[1]),s=parseInt(a[2]),e.next=13,n.slice(u,s).arrayBuffer();case 13:return c=e.sent,l=new Response(c),Object.defineProperty(l,"url",{value:t}),e.abrupt("return",l);case 17:return f=new Response(n),Object.defineProperty(f,"url",{value:t}),e.abrupt("return",f);case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"readdir",value:(h=i(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in r=[],this.files)r.push(n);return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"stat",value:(f=i(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.files[t]){e.next=3;break}throw new Error(t);case 3:return e.abrupt("return",{size:n.size});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"unlink",value:(l=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.files[t],delete this.lowerCaseFiles[t],this.usedFiles[t]=!0;case 3:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"open",value:(c=i(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.files[t]);case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return c.apply(this,arguments)})},{key:"read",value:(s=i(regeneratorRuntime.mark((function e(t,r){var n,i,o,a,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.length>2&&void 0!==u[2]&&u[2],n=u.length>3&&void 0!==u[3]?u[3]:r.byteLength,u.length>4&&void 0!==u[4]&&u[4],i=t,o=0,e.next=7,i.slice(o,o+n).arrayBuffer();case 7:return a=e.sent,e.abrupt("return",{bytesRead:n,buffer:a});case 9:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"close",value:(u=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"_getFile",value:function(e,t){var r=this.files[e]||this.lowerCaseFiles[e];return r&&t&&(this.usedFiles[e]=!0),r}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseI3STileContent=function(e,t,r,n,i){return E.apply(this,arguments)};var n=r(17),i=r(5),o=r(25),a=r(41),u=r(162),s=r(96),c=r(44),l=r(97);function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){b(o,n,i,a,u,"next",e)}function u(e){b(o,n,i,a,u,"throw",e)}a(void 0)}))}}var _=new i.Vector3([0,0,0]),g={jpeg:a.ImageLoader,png:a.ImageLoader,"ktx-etc2":s.CompressedTextureLoader,dds:s.CompressedTextureLoader};function E(){return(E=v(regeneratorRuntime.mark((function e(t,r,i,o,u){var l,f,h,d,p,y,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.content=r.content||{},r.content.featureIds=r.content.featureIds||null,r.content.featureData=A(r,i),r.content.attributes={},!r.textureUrl){e.next=25;break}return f=(0,c.getUrlWithToken)(r.textureUrl,null==o||null===(l=o.i3s)||void 0===l?void 0:l.token),h=g[r.textureFormat]||a.ImageLoader,e.next=9,fetch(f);case 9:return d=e.sent,e.next=12,d.arrayBuffer();case 12:if(p=e.sent,h!==a.ImageLoader){e.next=20;break}return y={image:{type:"data"}},e.next=17,u.parse(p,y);case 17:r.content.texture=e.sent,e.next=25;break;case 20:if(h!==s.CompressedTextureLoader){e.next=25;break}return e.next=23,(0,n.load)(p,s.CompressedTextureLoader);case 23:m=e.sent,r.content.texture={compressed:!0,mipmaps:!1,width:m[0].width,height:m[0].height,data:m};case 25:return r.content.material=C(r.materialDefinition,r.content.texture),r.content.material&&(r.content.texture=null),e.next=29,O(t,r,u);case 29:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return T.apply(this,arguments)}function T(){return(T=v(regeneratorRuntime.mark((function e(t){var r,o,a,s,c,l,f,h,d,p,y,m,b,v,_,g,E,O,T,A,I,C,j,N,B,U,F,G,V,H,W,X,z,q=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=q.length>1&&void 0!==q[1]?q[1]:{},q.length>2?q[2]:void 0,r.content){e.next=4;break}return e.abrupt("return",r);case 4:if(o=r.content,c=0,l=0,!r.isDracoGeometry){e.next=20;break}return e.next=10,(0,n.parse)(t,u.DracoLoader,{draco:{attributeNameEntry:"i3s-attribute-type"}});case 10:f=e.sent,s=f.header.vertexCount,h=f.indices.value,d=f.attributes,p=d.POSITION,y=d.NORMAL,m=d.COLOR_0,b=d.TEXCOORD_0,v=d["feature-index"],_=d["uv-region"],S(a={position:p,normal:y,color:m,uv0:b,uvRegion:_,id:v,indices:h},f),(g=L(v))&&k(a,g),e.next=29;break;case 20:E=o.featureData,O=E.vertexAttributes,T=E.attributesOrder,A=E.featureAttributes,I=E.featureAttributeOrder,C=P(o,t),c=C.byteOffset,s=C.vertexCount,l=C.featureCount,j=M(t,c,O,s,T),N=j.attributes,B=j.byteOffset,U=M(t,B,A,l,I),D(F=U.attributes),a=R(N,F);case 29:for(z in G=x(a.position,r),V=G.enuMatrix,H=G.cartographicOrigin,W=G.cartesianOrigin,X=(new i.Matrix4).multiplyRight(V),o.attributes={positions:a.position,normals:a.normal,colors:w(a.color),texCoords:a.uv0,uvRegions:w(a.uvRegion)},o.indices=a.indices||null,a.id&&a.id.value&&(r.content.featureIds=a.id.value),o.attributes)o.attributes[z]||delete o.attributes[z];return o.vertexCount=s,o.cartographicCenter=H,o.cartesianOrigin=W,o.modelMatrix=X.invert(),o.byteLength=t.byteLength,e.abrupt("return",r);case 41:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){for(var r in t.loaderData.attributes){var n=t.loaderData.attributes[r];switch(n.name){case"POSITION":e.position.metadata=n.metadata;break;case"feature-index":e.id.metadata=n.metadata}}}function R(e,t){return y(y({},e),t)}function w(e){return e?(e.normalized=!0,e):e}function A(e,t){var r=t.store.defaultGeometrySchema,n=r;for(var i in l.I3S_NAMED_GEOMETRY_ATTRIBUTES)for(var o in l.I3S_NAMED_VERTEX_ATTRIBUTES){var a=r[i][o];if(a){var u=a.byteOffset,s=void 0===u?0:u,c=a.count,f=void 0===c?0:c,h=a.valueType,d=a.valuesPerElement;n[i][o]={valueType:h,valuesPerElement:d,byteOffset:s,count:f}}}return n.attributesOrder=r.ordering,n}function P(e,t){var r=0,n=0,i=0,o=e.featureData[l.I3S_NAMED_HEADER_ATTRIBUTES.header];for(var a in o){var u=o[a],s=u.property,c=u.type,f=l.TYPE_ARRAY_MAP[c];s===l.I3S_NAMED_HEADER_ATTRIBUTES.vertexCount&&(n=new f(t,0,4)[0],r+=l.SIZEOF[c]),s===l.I3S_NAMED_HEADER_ATTRIBUTES.featureCount&&(i=new f(t,4,4)[0],r+=l.SIZEOF[c])}return{vertexCount:n,featureCount:i,byteOffset:r}}function M(e,t,r,n,i){var o,a={},u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}(i);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(r[s]){var c=r[s],f=c.valueType,d=c.valuesPerElement,p=n;if(t+p*d>e.byteLength)break;var y=e.slice(t),m=[];if("UInt64"===f)m=I(y,p*d,l.SIZEOF[f]);else m=new(0,l.TYPE_ARRAY_MAP[f])(y,0,p*d);switch(a[s]={value:m,type:l.GL_TYPE_MAP[f],size:d},s){case"color":a.color.normalized=!0}t+=p*d*l.SIZEOF[f]}}}catch(e){u.e(e)}finally{u.f()}return{attributes:a,byteOffset:t}}function I(e,t,r){for(var n=[],i=new DataView(e),o=0,a=0;a<t;a++){var u=i.getUint32(o,!0),s=i.getUint32(o+4,!0),c=u+Math.pow(2,32)*s;n.push(c),o+=r}return n}function x(e,t){var r=t.mbs,n=e.value,a=e.metadata,u=new i.Matrix4,s=new i.Vector3(r[0],r[1],r[2]),c=new i.Vector3;return o.Ellipsoid.WGS84.cartographicToCartesian(s,c),o.Ellipsoid.WGS84.eastNorthUpToFixedFrame(c,u),e.value=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=new Float64Array(e.length),i=t["i3s-scale_x"]&&t["i3s-scale_x"].double||1,a=t["i3s-scale_y"]&&t["i3s-scale_y"].double||1,u=0;u<n.length;u+=3)n[u]=e[u]*i+r.x,n[u+1]=e[u+1]*a+r.y,n[u+2]=e[u+2]+r.z;for(var s=0;s<n.length;s+=3)o.Ellipsoid.WGS84.cartographicToCartesian(n.subarray(s,s+3),_),n[s]=_.x,n[s+1]=_.y,n[s+2]=_.z;return n}(n,a,s),{enuMatrix:u,fixedFrameToENUMatrix:u.invert(),cartographicOrigin:s,cartesianOrigin:c}}function C(e,t){var r;return e?r=y(y({},e),{},{pbrMetallicRoughness:e.pbrMetallicRoughness?y({},e.pbrMetallicRoughness):{baseColorFactor:[255,255,255,255]}}):(r={pbrMetallicRoughness:{}},t?r.pbrMetallicRoughness.baseColorTexture={texCoord:0}:r.pbrMetallicRoughness.baseColorFactor=[255,255,255,255]),r.alphaCutoff=r.alphaCutoff||.25,r.alphaMode&&(r.alphaMode=r.alphaMode.toUpperCase()),r.emissiveFactor&&(r.emissiveFactor=j(r.emissiveFactor)),r.pbrMetallicRoughness&&r.pbrMetallicRoughness.baseColorFactor&&(r.pbrMetallicRoughness.baseColorFactor=j(r.pbrMetallicRoughness.baseColorFactor)),function(e,t){var r={source:{image:t}};e.pbrMetallicRoughness&&e.pbrMetallicRoughness.baseColorTexture?e.pbrMetallicRoughness.baseColorTexture=y(y({},e.pbrMetallicRoughness.baseColorTexture),{},{texture:r}):e.emissiveTexture?e.emissiveTexture=y(y({},e.emissiveTexture),{},{texture:r}):e.pbrMetallicRoughness&&e.pbrMetallicRoughness.metallicRoughnessTexture?e.pbrMetallicRoughness.metallicRoughnessTexture=y(y({},e.pbrMetallicRoughness.metallicRoughnessTexture),{},{texture:r}):e.normalTexture?e.normalTexture=y(y({},e.normalTexture),{},{texture:r}):e.occlusionTexture&&(e.occlusionTexture=y(y({},e.occlusionTexture),{},{texture:r}))}(r,t),r}function j(e){for(var t=f(e),r=0;r<e.length;r++)t[r]=e[r]/255;return t}function D(e){var t=e.id,r=e.faceRange;if(t&&r){for(var n=t.value,i=r.value,o=i[i.length-1]+1,a=new Uint32Array(3*o),u=0,s=0,c=1;c<i.length;c+=2){var l=Number(n[u]),f=s+3*(i[c]-i[c-1]+1);a.fill(l,s,f),u++,s=f}e.id.value=a}}function k(e,t){for(var r=e.id.value,n=new Float32Array(r.length),i=0;i<r.length;i++)n[i]=t[r[i]];e.id.value=n}function L(e){return e&&e.metadata&&e.metadata["i3s-feature-ids"]&&e.metadata["i3s-feature-ids"].intArray}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typecheckImageLoader=t.ImageLoader=void 0;var n,i=r(85),o=(n=r(86))&&n.__esModule?n:{default:n},a=r(56);var u={id:"image",module:"images",name:"Images",version:i.VERSION,mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:o.default,tests:[function(e){return Boolean((0,a.getBinaryImageMetadata)(new DataView(e)))}],options:{image:{type:"auto",decode:!0}}};t.ImageLoader=u;var s=u;t._typecheckImageLoader=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return l.apply(this,arguments)};var n,i=r(89),o=(n=r(88))&&n.__esModule?n:{default:n};function a(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function u(e){a(o,n,i,u,s,"next",e)}function s(e){a(o,n,i,u,s,"throw",e)}u(void 0)}))}}var s={},c=!0;function l(){return(l=u(regeneratorRuntime.mark((function e(t,r,n){var a,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,i.isSVG)(n)){e.next=7;break}return e.next=3,(0,o.default)(t,r,n);case 3:u=e.sent,a=u,e.next=8;break;case 7:a=(0,i.getBlob)(t,n);case 8:return s=r&&r.imagebitmap,e.next=11,f(a,s);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=u(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d(r=n.length>1&&void 0!==n[1]?n[1]:null)&&c||(r=null),!r){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,r);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),c=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function d(e){for(var t in e||s)return!1;return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=((0,o.getBinaryImageMetadata)(e)||{}).mimeType,a=n.global._parseImageNode;return(0,i.assert)(a),a(e,r,t)};var n=r(55),i=r(42),o=r(56)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageWriter=void 0;var n=r(85),i=r(157),o={name:"Images",id:"image",module:"images",version:n.VERSION,extensions:["jpeg"],options:{image:{mimeType:"image/png",jpegQuality:null}},encode:i.encodeImage};t.ImageWriter=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeImage=function(e,t){return s.apply(this,arguments)};var n=r(55),i=r(43);function o(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,s,"next",e)}function s(e){o(a,n,i,u,s,"throw",e)}u(void 0)}))}}var u=n.global._encodeImageNode;function s(){return(s=a(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=r||{}).image=r.image||{},e.abrupt("return",u?u(t,{type:r.image.mimeType}):l(t,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=!0;function l(e,t){return f.apply(this,arguments)}function f(){return(f=a(regeneratorRuntime.mark((function e(t,r){var n,o,a,u,s,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.image,o=n.mimeType,a=n.jpegQuality,u=(0,i.getImageSize)(t),s=u.width,l=u.height,(f=document.createElement("canvas")).width=s,f.height=l,h(t,f),e.next=8,new Promise((function(e){if(a&&c)try{return void f.toBlob(e,o,a)}catch(e){c=!1}f.toBlob(e,o)}));case 8:if(d=e.sent){e.next=11;break}throw new Error("image encoding failed");case 11:return e.next=13,d.arrayBuffer();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(0===r&&0===n&&"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var i=t.getContext("bitmaprenderer");if(i)return i.transferFromImageBitmap(e),t}var o=t.getContext("2d");if(e.data){var a=new Uint8ClampedArray(e.data),u=new ImageData(a,e.width,e.height);return o.putImageData(u,0,0),t}return o.drawImage(e,0,0),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=function(e){return p.apply(this,arguments)},t.getImageUrls=y,t.getMipLevels=_;var n,i=r(42),o=(n=r(86))&&n.__esModule?n:{default:n},a=r(43),u=r(159),s=r(160);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,u,"next",e)}function u(e){h(o,n,i,a,u,"throw",e)}a(void 0)}))}}function p(){return(p=d(regeneratorRuntime.mark((function e(t){var r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,y(t,r);case 3:return n=e.sent,e.next=6,(0,s.deepLoad)(n,o.default,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return m.apply(this,arguments)}function m(){return(m=d(regeneratorRuntime.mark((function e(t,r){var n,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>2&&void 0!==o[2]?o[2]:{},0===(i=r&&r.image&&r.image.mipLevels||0)){e.next=8;break}return e.next=5,b(t,i,r,n);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=(0,u.generateUrl)(t,r,n);case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,r,n){return v.apply(this,arguments)}function v(){return(v=d(regeneratorRuntime.mark((function e(t,r,n,c){var f,h,d,p,y,m,b,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=[],"auto"!==r){e.next=9;break}return h=(0,u.generateUrl)(t,n,l(l({},c),{},{lod:0})),e.next=5,(0,s.shallowLoad)(h,o.default,n);case 5:d=e.sent,p=(0,a.getImageSize)(d),y=p.width,m=p.height,r=_({width:y,height:m}),f.push(h);case 9:for((0,i.assert)(r>0),b=f.length;b<r;++b)v=(0,u.generateUrl)(t,n,l(l({},c),{},{lod:b})),f.push(v);return e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){var t=e.width,r=e.height;return 1+Math.floor(Math.log2(Math.max(t,r)))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUrl=function(e,t,r){var o=e;"function"==typeof e&&(o=e(a(a({},t),r)));(0,i.assert)("string"==typeof o);var u=t.baseUrl;u&&(o="/"===u[u.length-1]?"".concat(u).concat(o):"".concat(u,"/").concat(o));return(0,n.resolvePath)(o)};var n=r(4),i=r(42);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepLoad=function(e,t,r){return a.apply(this,arguments)},t.shallowLoad=u;var n=r(161);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}function a(){return(a=o(regeneratorRuntime.mark((function e(t,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.asyncDeepMap)(t,(function(e){return u(e,r,i)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,r){return s.apply(this,arguments)}function s(){return(s=o(regeneratorRuntime.mark((function e(t,r,n){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n.fetch);case 2:return i=e.sent,e.next=5,i.arrayBuffer();case 5:return o=e.sent,e.next=8,r(o,n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,s,"next",e)}function s(e){n(a,i,o,u,s,"throw",e)}u(void 0)}))}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.asyncDeepMap=function(e,t){return u.apply(this,arguments)},t.mapSubtree=s;var a=function(e){return e&&"object"===o(e)};function u(){return(u=i(regeneratorRuntime.mark((function e(t,r){var n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,s(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t,r){return c.apply(this,arguments)}function c(){return(c=i(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,h(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:if(!a(t)){e.next=8;break}return e.next=7,l(t,r,n);case 7:return e.abrupt("return",e.sent);case 8:return i=t,e.next=11,r(i,n);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t,r){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t,r,n){var i,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in i=[],o={},a=function(e){var a=s(t[e],r,n).then((function(t){o[e]=t}));i.push(a)},t)a(u);return e.next=6,Promise.all(i);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return d.apply(this,arguments)}function d(){return(d=i(regeneratorRuntime.mark((function e(t,r){var n,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},i=t.map((function(e){return s(e,r,n)})),e.next=4,Promise.all(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DracoWorkerLoader",{enumerable:!0,get:function(){return i.DracoLoader}}),Object.defineProperty(t,"DracoWriter",{enumerable:!0,get:function(){return u.DracoWriter}}),t._TypecheckDracoLoader=t.DracoLoader=void 0;var n,i=r(163),o=(n=r(164))&&n.__esModule?n:{default:n},a=r(95),u=r(178);function s(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)}))}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=f(f({},i.DracoLoader),{},{parse:function(e,t){return p.apply(this,arguments)}});function p(){return(p=c(regeneratorRuntime.mark((function e(t,r){var n,i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.loadDracoDecoderModule)(r);case 2:return n=e.sent,i=n.draco,u=new o.default(i),e.prev=5,e.abrupt("return",u.parseSync(t,null==r?void 0:r.draco));case 7:return e.prev=7,u.destroy(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[5,,7,10]])})))).apply(this,arguments)}t.DracoLoader=d;var y=d;t._TypecheckDracoLoader=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._TypecheckDracoLoader=t.DracoLoader=void 0;var n=r(90);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o={draco:{decoderType:"object"===("undefined"==typeof WebAssembly?"undefined":i(WebAssembly))?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}},a={name:"Draco",id:"draco",module:"draco",version:n.VERSION,worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:o};t.DracoLoader=a;var u=a;t._TypecheckDracoLoader=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(91),i=r(177);function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},p={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"draco",void 0),h(this,"decoder",void 0),h(this,"metadataQuerier",void 0),this.draco=t,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}var t,r,s;return t=e,(r=[{key:"destroy",value:function(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}},{key:"parseSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new this.draco.DecoderBuffer;r.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);var o=this.decoder.GetEncodedGeometryType(r),a=o===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{var u;switch(o){case this.draco.TRIANGULAR_MESH:u=this.decoder.DecodeBufferToMesh(r,a);break;case this.draco.POINT_CLOUD:u=this.decoder.DecodeBufferToPointCloud(r,a);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!u.ok()||!a.ptr){var s="DRACO decompression failed: ".concat(u.error_msg());throw new Error(s)}var c=this._getDracoLoaderData(a,o,t),f=this._getMeshData(a,c,t),h=(0,n.getMeshBoundingBox)(f.attributes),d=(0,i.makeSchemaFromAttributes)(f.attributes,c,f.indices),p=l(l({loader:"draco",loaderData:c,header:{vertexCount:a.num_points(),boundingBox:h}},f),{},{schema:d});return p}finally{this.draco.destroy(r),a&&this.draco.destroy(a)}}},{key:"_getDracoLoaderData",value:function(e,t,r){var n=this._getTopLevelMetadata(e),i=this._getDracoAttributes(e,r);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:n,attributes:i}}},{key:"_getDracoAttributes",value:function(e,t){for(var r={},n=0;n<e.num_attributes();n++){var i=this.decoder.GetAttribute(e,n),o=this._getAttributeMetadata(e,n);r[i.unique_id()]={unique_id:i.unique_id(),attribute_type:i.attribute_type(),data_type:i.data_type(),num_components:i.num_components(),byte_offset:i.byte_offset(),byte_stride:i.byte_stride(),normalized:i.normalized(),attribute_index:n,metadata:o};var a=this._getQuantizationTransform(i,t);a&&(r[i.unique_id()].quantization_transform=a);var u=this._getOctahedronTransform(i,t);u&&(r[i.unique_id()].octahedron_transform=u)}return r}},{key:"_getMeshData",value:function(e,t,r){var n=this._getMeshAttributes(t,e,r);if(!n.POSITION)throw new Error("DRACO: No position attribute found.");if(e instanceof this.draco.Mesh)switch(r.topology){case"triangle-strip":return{topology:"triangle-strip",mode:4,attributes:n,indices:{value:this._getTriangleStripIndices(e),size:1}};case"triangle-list":default:return{topology:"triangle-list",mode:5,attributes:n,indices:{value:this._getTriangleListIndices(e),size:1}}}return{topology:"point-list",mode:0,attributes:n}}},{key:"_getMeshAttributes",value:function(e,t,r){for(var n={},i=0,o=Object.values(e.attributes);i<o.length;i++){var a=o[i],u=this._deduceAttributeName(a,r);a.name=u;var s=this._getAttributeValues(t,a),c=s.value,l=s.size;n[u]={value:c,size:l,byteOffset:a.byte_offset,byteStride:a.byte_stride,normalized:a.normalized}}return n}},{key:"_getTriangleListIndices",value:function(e){var t=3*e.num_faces(),r=4*t,n=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(e,r,n),new Uint32Array(this.draco.HEAPF32.buffer,n,t).slice()}finally{this.draco._free(n)}}},{key:"_getTriangleStripIndices",value:function(e){var t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function(e){for(var t=e.size(),r=new Int32Array(t),n=0;n<t;n++)r[n]=e.GetValue(n);return r}(t)}finally{this.draco.destroy(t)}}},{key:"_getAttributeValues",value:function(e,t){var r,n=p[t.data_type],i=t.num_components,o=e.num_points()*i,a=o*n.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32;default:return e.DT_INVALID}}(this.draco,n),s=this.draco._malloc(a);try{var c=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,c,u,a,s),r=new n(this.draco.HEAPF32.buffer,s,o).slice()}finally{this.draco._free(s)}return{value:r,size:i}}},{key:"_deduceAttributeName",value:function(e,t){for(var r=e.unique_id,n=0,i=Object.entries(t.extraAttributes||{});n<i.length;n++){var o=a(i[n],2),u=o[0];if(o[1]===r)return u}var s=e.attribute_type;for(var c in d)if(this.draco[c]===s)return d[c];var l=t.attributeNameEntry||"name";return e.metadata[l]?e.metadata[l].string:"CUSTOM_ATTRIBUTE_".concat(r)}},{key:"_getTopLevelMetadata",value:function(e){var t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}},{key:"_getAttributeMetadata",value:function(e,t){var r=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(r)}},{key:"_getDracoMetadata",value:function(e){if(!e||!e.ptr)return{};for(var t={},r=this.metadataQuerier.NumEntries(e),n=0;n<r;n++){var i=this.metadataQuerier.GetEntryName(e,n);t[i]=this._getDracoMetadataField(e,i)}return t}},{key:"_getDracoMetadataField",value:function(e,t){var r=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,r);var n=function(e){for(var t=e.size(),r=new Int32Array(t),n=0;n<t;n++)r[n]=e.GetValue(n);return r}(r);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:n}}finally{this.draco.destroy(r)}}},{key:"_disableAttributeTransforms",value:function(e){var t,r=e.quantizedAttributes,n=void 0===r?[]:r,i=e.octahedronAttributes,a=void 0===i?[]:i,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}([].concat(o(n),o(a)));try{for(s.s();!(t=s.n()).done;){var c=t.value;this.decoder.SkipAttributeTransform(this.draco[c])}}catch(e){s.e(e)}finally{s.f()}}},{key:"_getQuantizationTransform",value:function(e,t){var r=this,n=t.quantizedAttributes,i=void 0===n?[]:n,o=e.attribute_type();if(i.map((function(e){return r.decoder[e]})).includes(o)){var a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(e))return{quantization_bits:a.quantization_bits(),range:a.range(),min_values:new Float32Array([1,2,3]).map((function(e){return a.min_value(e)}))}}finally{this.draco.destroy(a)}}return null}},{key:"_getOctahedronTransform",value:function(e,t){var r=this,n=t.octahedronAttributes,i=void 0===n?[]:n,o=e.attribute_type();if(i.map((function(e){return r.decoder[e]})).includes(o)){var a=new this.draco.AttributeQuantizationTransform;try{if(a.InitFromAttribute(e))return{quantization_bits:a.quantization_bits()}}finally{this.draco.destroy(a)}}return null}}])&&f(t.prototype,r),s&&f(t,s),e}();t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(166)),i=a(r(92)),o=a(r(94));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={shape:"array-row-table",batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},h=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"schema",void 0),l(this,"options",void 0),l(this,"aggregator",null),l(this,"batchCount",0),l(this,"bytesUsed",0),l(this,"isChunkComplete",!1),l(this,"lastBatchEmittedMs",Date.now()),l(this,"totalLength",0),l(this,"totalBytes",0),l(this,"rowBytes",0),this.schema=t,this.options=s(s({},f),r)}var t,r,a;return t=e,(r=[{key:"limitReached",value:function(){var e,t;return!!(Boolean(null===(e=this.options)||void 0===e?void 0:e.limit)&&this.totalLength>=this.options.limit)||!!(Boolean(null===(t=this.options)||void 0===t?void 0:t._limitMB)&&this.totalBytes/1e6>=this.options._limitMB)}},{key:"addRow",value:function(e){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(e),this.totalBytes+=this.rowBytes,Array.isArray(e)?this.addArrayRow(e):this.addObjectRow(e))}},{key:"addArrayRow",value:function(e){if(!this.aggregator){var t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addArrayRow(e)}},{key:"addObjectRow",value:function(e){if(!this.aggregator){var t=this._getTableBatchType();this.aggregator=new t(this.schema,this.options)}this.aggregator.addObjectRow(e)}},{key:"chunkComplete",value:function(e){e instanceof ArrayBuffer&&(this.bytesUsed+=e.byteLength),"string"==typeof e&&(this.bytesUsed+=e.length),this.isChunkComplete=!0}},{key:"getFullBatch",value:function(e){return this._isFull()?this._getBatch(e):null}},{key:"getFinalBatch",value:function(e){return this._getBatch(e)}},{key:"_estimateRowMB",value:function(e){return Array.isArray(e)?8*e.length:8*Object.keys(e).length}},{key:"_isFull",value:function(){if(!this.aggregator||0===this.aggregator.rowCount())return!1;if("auto"===this.options.batchSize){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs||(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),0))}},{key:"_getBatch",value:function(e){if(!this.aggregator)return null;null!=e&&e.bytesUsed&&(this.bytesUsed=e.bytesUsed);var t=this.aggregator.getBatch();return t.count=this.batchCount,t.bytesUsed=this.bytesUsed,Object.assign(t,e),this.batchCount++,this.aggregator=null,t}},{key:"_getTableBatchType",value:function(){switch(this.options.shape){case"row-table":return n.default;case"array-row-table":case"object-row-table":return i.default;case"columnar-table":return o.default;case"arrow-table":if(!e.ArrowBatch)throw new Error("TableBatchBuilder");return e.ArrowBatch;default:throw new Error("TableBatchBuilder")}}}])&&c(t.prototype,r),a&&c(t,a),e}();t.default=h,l(h,"ArrowBatch",void 0)},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(t,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"schema",void 0),i(this,"options",void 0),i(this,"length",0),i(this,"rows",null),i(this,"cursor",0),i(this,"_headers",[]),this.options=r,this.schema=t,!Array.isArray(t))for(var n in this._headers=[],t)this._headers[t[n].index]=t[n].name}var t,r,o;return t=e,(r=[{key:"rowCount",value:function(){return this.length}},{key:"addArrayRow",value:function(e,t){Number.isFinite(t)&&(this.cursor=t),this.rows=this.rows||new Array(100),this.rows[this.length]=e,this.length++}},{key:"addObjectRow",value:function(e,t){Number.isFinite(t)&&(this.cursor=t),this.rows=this.rows||new Array(100),this.rows[this.length]=e,this.length++}},{key:"getBatch",value:function(){var e=this.rows;return e?(e=e.slice(0,this.length),this.rows=null,{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMeshSize=function(e){var t=0;for(var r in e){var n=e[r];ArrayBuffer.isView(n)&&(t+=n.byteLength*n.BYTES_PER_ELEMENT)}return t},t.getMeshBoundingBox=function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,u=e.POSITION?e.POSITION.value:[],s=u&&u.length,c=0;c<s;c+=3){var l=u[c],f=u[c+1],h=u[c+2];t=l<t?l:t,r=f<r?f:r,n=h<n?h:n,i=l>i?l:i,o=f>o?f:o,a=h>a?h:a}return[[t,r,n],[i,o,a]]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(169);function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"fields",void 0),c(this,"metadata",void 0),(0,n.assert)(Array.isArray(t)),function(e){var t,r={},n=o(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r[i.name]&&console.warn("Schema: duplicated field name",i.name,i),r[i.name]=!0}}catch(e){n.e(e)}finally{n.f()}}(t),this.fields=t,this.metadata=r||new Map}var t,r,i;return t=e,(r=[{key:"compareTo",value:function(e){if(this.metadata!==e.metadata)return!1;if(this.fields.length!==e.fields.length)return!1;for(var t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}},{key:"select",value:function(){for(var t=Object.create(null),r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var o=0,a=n;o<a.length;o++){var u=a[o];t[u]=!0}var s=this.fields.filter((function(e){return t[e.name]}));return new e(s,this.metadata)}},{key:"selectAt",value:function(){for(var t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=n.map((function(e){return t.fields[e]})).filter(Boolean);return new e(o,this.metadata)}},{key:"assign",value:function(t){var r,n=this.metadata;if(t instanceof e){var i=t;r=i.fields,n=f(f(new Map,this.metadata),i.metadata)}else r=t;var a,u=Object.create(null),s=o(this.fields);try{for(s.s();!(a=s.n()).done;){var c=a.value;u[c.name]=c}}catch(e){s.e(e)}finally{s.f()}var l,h=o(r);try{for(h.s();!(l=h.n()).done;){var d=l.value;u[d.name]=d}}catch(e){h.e(e)}finally{h.f()}return new e(Object.values(u),n)}}])&&s(t.prototype,r),i&&s(t,i),e}();function f(e,t){return new Map([].concat(i(e||new Map),i(t||new Map)))}t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||"loader assertion failed.")}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map;n(this,e),o(this,"name",void 0),o(this,"type",void 0),o(this,"nullable",void 0),o(this,"metadata",void 0),this.name=t,this.type=r,this.nullable=i,this.metadata=a}var t,r,a;return t=e,(r=[{key:"typeId",get:function(){return this.type&&this.type.typeId}},{key:"clone",value:function(){return new e(this.name,this.type,this.nullable,this.metadata)}},{key:"compareTo",value:function(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}},{key:"toString",value:function(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}])&&i(t.prototype,r),a&&i(t,a),e}();t.default=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return f.Type}}),t.FixedSizeList=t.IntervalYearMonth=t.IntervalDayTime=t.Interval=t.TimestampNanosecond=t.TimestampMicrosecond=t.TimestampMillisecond=t.TimestampSecond=t.Timestamp=t.TimeMillisecond=t.TimeSecond=t.Time=t.DateMillisecond=t.DateDay=t.Date=t.Utf8=t.Binary=t.Float64=t.Float32=t.Float16=t.Float=t.Uint64=t.Uint32=t.Uint16=t.Uint8=t.Int64=t.Int32=t.Int16=t.Int8=t.Int=t.Bool=t.Null=t.DataType=void 0;var i,o,a,u,s,c,l,f=r(172);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}var O=function(){function e(){_(this,e)}return E(e,[{key:"typeId",get:function(){return f.Type.NONE}},{key:"compareTo",value:function(e){return this===e}}],[{key:"isNull",value:function(e){return e&&e.typeId===f.Type.Null}},{key:"isInt",value:function(e){return e&&e.typeId===f.Type.Int}},{key:"isFloat",value:function(e){return e&&e.typeId===f.Type.Float}},{key:"isBinary",value:function(e){return e&&e.typeId===f.Type.Binary}},{key:"isUtf8",value:function(e){return e&&e.typeId===f.Type.Utf8}},{key:"isBool",value:function(e){return e&&e.typeId===f.Type.Bool}},{key:"isDecimal",value:function(e){return e&&e.typeId===f.Type.Decimal}},{key:"isDate",value:function(e){return e&&e.typeId===f.Type.Date}},{key:"isTime",value:function(e){return e&&e.typeId===f.Type.Time}},{key:"isTimestamp",value:function(e){return e&&e.typeId===f.Type.Timestamp}},{key:"isInterval",value:function(e){return e&&e.typeId===f.Type.Interval}},{key:"isList",value:function(e){return e&&e.typeId===f.Type.List}},{key:"isStruct",value:function(e){return e&&e.typeId===f.Type.Struct}},{key:"isUnion",value:function(e){return e&&e.typeId===f.Type.Union}},{key:"isFixedSizeBinary",value:function(e){return e&&e.typeId===f.Type.FixedSizeBinary}},{key:"isFixedSizeList",value:function(e){return e&&e.typeId===f.Type.FixedSizeList}},{key:"isMap",value:function(e){return e&&e.typeId===f.Type.Map}},{key:"isDictionary",value:function(e){return e&&e.typeId===f.Type.Dictionary}}]),e}();t.DataType=O;var T=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.apply(this,arguments)}return E(r,[{key:"typeId",get:function(){return f.Type.Null}},{key:Symbol.toStringTag,get:function(){return"Null"}},{key:"toString",value:function(){return"Null"}}]),r}(O);t.Null=T;var S=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.apply(this,arguments)}return E(r,[{key:"typeId",get:function(){return f.Type.Bool}},{key:Symbol.toStringTag,get:function(){return"Bool"}},{key:"toString",value:function(){return"Bool"}}]),r}(O);t.Bool=S,i=Symbol.toStringTag;var R=function(e){d(r,e);var t=y(r);function r(e,n){var i;return _(this,r),h(b(i=t.call(this)),"isSigned",void 0),h(b(i),"bitWidth",void 0),i.isSigned=e,i.bitWidth=n,i}return E(r,[{key:"typeId",get:function(){return f.Type.Int}},{key:i,get:function(){return"Int"}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),r}(O);t.Int=R;var w=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,!0,8)}return r}(R);t.Int8=w;var A=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,!0,16)}return r}(R);t.Int16=A;var P=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,!0,32)}return r}(R);t.Int32=P;var M=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,!0,64)}return r}(R);t.Int64=M;var I=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,!1,8)}return r}(R);t.Uint8=I;var x=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,!1,16)}return r}(R);t.Uint16=x;var C=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,!1,32)}return r}(R);t.Uint32=C;var j=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,!1,64)}return r}(R);t.Uint64=j;var D=16,k=32,L=64;o=Symbol.toStringTag;var N=function(e){d(r,e);var t=y(r);function r(e){var n;return _(this,r),h(b(n=t.call(this)),"precision",void 0),n.precision=e,n}return E(r,[{key:"typeId",get:function(){return f.Type.Float}},{key:o,get:function(){return"Float"}},{key:"toString",value:function(){return"Float".concat(this.precision)}}]),r}(O);t.Float=N;var B=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,D)}return r}(N);t.Float16=B;var U=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,k)}return r}(N);t.Float32=U;var F=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,L)}return r}(N);t.Float64=F;var G=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this)}return E(r,[{key:"typeId",get:function(){return f.Type.Binary}},{key:"toString",value:function(){return"Binary"}},{key:Symbol.toStringTag,get:function(){return"Binary"}}]),r}(O);t.Binary=G;var V=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.apply(this,arguments)}return E(r,[{key:"typeId",get:function(){return f.Type.Utf8}},{key:Symbol.toStringTag,get:function(){return"Utf8"}},{key:"toString",value:function(){return"Utf8"}}]),r}(O);t.Utf8=V;var H={DAY:0,MILLISECOND:1};a=Symbol.toStringTag;var W=function(e){d(r,e);var t=y(r);function r(e){var n;return _(this,r),h(b(n=t.call(this)),"unit",void 0),n.unit=e,n}return E(r,[{key:"typeId",get:function(){return f.Type.Date}},{key:a,get:function(){return"Date"}},{key:"toString",value:function(){return"Date".concat(32*(this.unit+1),"<").concat(H[this.unit],">")}}]),r}(O);t.Date=W;var X=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,H.DAY)}return r}(W);t.DateDay=X;var z=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,H.MILLISECOND)}return r}(W);t.DateMillisecond=z;var q={SECOND:1,MILLISECOND:1e3,MICROSECOND:1e6,NANOSECOND:1e9};u=Symbol.toStringTag;var Y=function(e){d(r,e);var t=y(r);function r(e,n){var i;return _(this,r),h(b(i=t.call(this)),"unit",void 0),h(b(i),"bitWidth",void 0),i.unit=e,i.bitWidth=n,i}return E(r,[{key:"typeId",get:function(){return f.Type.Time}},{key:"toString",value:function(){return"Time".concat(this.bitWidth,"<").concat(q[this.unit],">")}},{key:u,get:function(){return"Time"}}]),r}(O);t.Time=Y;var K=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,q.SECOND,32)}return r}(Y);t.TimeSecond=K;var Z=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,q.MILLISECOND,32)}return r}(Y);t.TimeMillisecond=Z,s=Symbol.toStringTag;var Q=function(e){d(r,e);var t=y(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _(this,r),h(b(n=t.call(this)),"unit",void 0),h(b(n),"timezone",void 0),n.unit=e,n.timezone=i,n}return E(r,[{key:"typeId",get:function(){return f.Type.Timestamp}},{key:s,get:function(){return"Timestamp"}},{key:"toString",value:function(){return"Timestamp<".concat(q[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}]),r}(O);t.Timestamp=Q;var J=function(e){d(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _(this,r),t.call(this,q.SECOND,e)}return r}(Q);t.TimestampSecond=J;var $=function(e){d(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _(this,r),t.call(this,q.MILLISECOND,e)}return r}(Q);t.TimestampMillisecond=$;var ee=function(e){d(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _(this,r),t.call(this,q.MICROSECOND,e)}return r}(Q);t.TimestampMicrosecond=ee;var te=function(e){d(r,e);var t=y(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _(this,r),t.call(this,q.NANOSECOND,e)}return r}(Q);t.TimestampNanosecond=te;var re={DAY_TIME:0,YEAR_MONTH:1};c=Symbol.toStringTag;var ne=function(e){d(r,e);var t=y(r);function r(e){var n;return _(this,r),h(b(n=t.call(this)),"unit",void 0),n.unit=e,n}return E(r,[{key:"typeId",get:function(){return f.Type.Interval}},{key:c,get:function(){return"Interval"}},{key:"toString",value:function(){return"Interval<".concat(re[this.unit],">")}}]),r}(O);t.Interval=ne;var ie=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,re.DAY_TIME)}return r}(ne);t.IntervalDayTime=ie;var oe=function(e){d(r,e);var t=y(r);function r(){return _(this,r),t.call(this,re.YEAR_MONTH)}return r}(ne);t.IntervalYearMonth=oe,l=Symbol.toStringTag;var ae=function(e){d(r,e);var t=y(r);function r(e,n){var i;return _(this,r),h(b(i=t.call(this)),"listSize",void 0),h(b(i),"children",void 0),i.listSize=e,i.children=[n],i}return E(r,[{key:"typeId",get:function(){return f.Type.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:l,get:function(){return"FixedSizeList"}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),r}(O);t.FixedSizeList=ae},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0,t.Type=n,function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct=13]="Struct",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Dictionary=-1]="Dictionary",e[e.Int8=-2]="Int8",e[e.Int16=-3]="Int16",e[e.Int32=-4]="Int32",e[e.Int64=-5]="Int64",e[e.Uint8=-6]="Uint8",e[e.Uint16=-7]="Uint16",e[e.Uint32=-8]="Uint32",e[e.Uint64=-9]="Uint64",e[e.Float16=-10]="Float16",e[e.Float32=-11]="Float32",e[e.Float64=-12]="Float64",e[e.DateDay=-13]="DateDay",e[e.DateMillisecond=-14]="DateMillisecond",e[e.TimestampSecond=-15]="TimestampSecond",e[e.TimestampMillisecond=-16]="TimestampMillisecond",e[e.TimestampMicrosecond=-17]="TimestampMicrosecond",e[e.TimestampNanosecond=-18]="TimestampNanosecond",e[e.TimeSecond=-19]="TimeSecond",e[e.TimeMillisecond=-20]="TimeMillisecond",e[e.TimeMicrosecond=-21]="TimeMicrosecond",e[e.TimeNanosecond=-22]="TimeNanosecond",e[e.DenseUnion=-23]="DenseUnion",e[e.SparseUnion=-24]="SparseUnion",e[e.IntervalDayTime=-25]="IntervalDayTime",e[e.IntervalYearMonth=-26]="IntervalYearMonth"}(n||(t.Type=n={}))},function(e,t,r){"use strict";function n(e){return e instanceof Date?Date:e instanceof Number?Float32Array:"string"==typeof e?String:null}Object.defineProperty(t,"__esModule",{value:!0}),t.deduceTableSchema=function(e,t){var r=Array.isArray(e)?function(e){var t={};if(e.length){var r=e[0];for(var i in r){var o=r[i];t[i]=n(o)}}return t}(e):function(e){var t={};for(var r in e){var i=e[r];if(ArrayBuffer.isView(i))t[r]=i.constructor;else if(i.length){var o=i[0];t[r]=n(o)}t[r]=t[r]||null}return t}(e);return Object.assign(r,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTypeInfo=function(e){return{typeId:e.typeId,ArrayType:e.ArrayType,typeName:e.toString(),typeEnumName:o(e.typeId),precision:e.precision}};var n=r(57);var i=null;function o(e){if(!i)for(var t in i={},n.Type)i[n.Type[t]]=t;return i[e]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArrowTypeFromTypedArray=function(e){switch(e.constructor){case Int8Array:return new n.Int8;case Uint8Array:return new n.Uint8;case Int16Array:return new n.Int16;case Uint16Array:return new n.Uint16;case Int32Array:return new n.Int32;case Uint32Array:return new n.Uint32;case Float32Array:return new n.Float32;case Float64Array:return new n.Float64;default:throw new Error("array type not supported")}};var n=r(57)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;function o(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,s,"next",e)}function s(e){o(a,n,i,u,s,"throw",e)}u(void 0)}))}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){var t="function"==typeof Map?new Map:void 0;return(h=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)})(e)}function d(e,t,r){return(d=p()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&y(i,r.prototype),i}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.takeAsync=function(e){return _.apply(this,arguments)},t.default=void 0;var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,r,n=(t=i,r=p(),function(){var e,n=m(t);if(r){var i=m(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return f(this,e)});function i(){return s(this,i),n.apply(this,arguments)}return l(i,[{key:"enqueue",value:function(e){return this.push(e)}},{key:"dequeue",value:function(){return this.shift()}}]),i}(h(Array));i=Symbol.asyncIterator;var v=function(){function e(){s(this,e),u(this,"_values",void 0),u(this,"_settlers",void 0),u(this,"_closed",void 0),this._values=new b,this._settlers=new b,this._closed=!1}return l(e,[{key:"close",value:function(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}},{key:i,value:function(){return this}},{key:"enqueue",value:function(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var t=this._settlers.dequeue();e instanceof Error?t.reject(e):t.resolve({value:e})}else this._values.enqueue(e)}},{key:"next",value:function(){var e=this;if(this._values.length>0){var t=this._values.dequeue();return t instanceof Error?Promise.reject(t):Promise.resolve({value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((function(t,r){e._settlers.enqueue({resolve:t,reject:r})}))}}]),e}();function _(){return(_=a(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=u.length>1&&void 0!==u[1]?u[1]:1/0,n=[],i=t[Symbol.asyncIterator]();case 3:if(!(n.length<r)){e.next=14;break}return e.next=6,i.next();case 6:if(o=e.sent,a=o.value,!o.done){e.next=11;break}return e.abrupt("break",14);case 11:n.push(a),e.next=3;break;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeSchemaFromAttributes=function(e,t,r){var a=o(t.metadata),u=[],s=function(e){var t={};for(var r in e){var n=e[r];t[n.name||"undefined"]=n}return t}(t.attributes);for(var c in e){var l=e[c],f=i(c,l,s[c]);u.push(f)}if(r){var h=i("indices",r);u.push(h)}return new n.Schema(u,a)};var n=r(91);function i(e,t,r){var i=r?o(r.metadata):void 0,a=(0,n.getArrowTypeFromTypedArray)(t.value);return new n.Field(e,new n.FixedSizeList(t.size,new n.Field("value",a)),!1,i)}function o(e){var t=new Map;for(var r in e)t.set("".concat(r,".string"),JSON.stringify(e[r]));return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DracoWriter=void 0;var n,i=(n=r(179))&&n.__esModule?n:{default:n},o=r(95);function a(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function u(e){a(o,n,i,u,s,"next",e)}function s(e){a(o,n,i,u,s,"throw",e)}u(void 0)}))}}var s={name:"DRACO",id:"draco",module:"draco",version:r(90).VERSION,extensions:["drc"],encode:function(e){return c.apply(this,arguments)},options:{draco:{pointcloud:!1,attributeNameEntry:"name"}}};function c(){return(c=u(regeneratorRuntime.mark((function e(t){var r,n,a,u,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,(0,o.loadDracoEncoderModule)(r);case 3:return n=e.sent,a=n.draco,u=new i.default(a),e.prev=6,e.abrupt("return",u.encodeSync(t,r.draco));case 8:return e.prev=8,u.destroy(),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[6,,8,11]])})))).apply(this,arguments)}t.DracoWriter=s},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h={POSITION:"POSITION",NORMAL:"NORMAL",COLOR_0:"COLOR",TEXCOORD_0:"TEX_COORD"},d=function(){},p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"draco",void 0),f(this,"dracoEncoder",void 0),f(this,"dracoMeshBuilder",void 0),f(this,"dracoMetadataBuilder",void 0),f(this,"log",void 0),this.draco=t,this.dracoEncoder=new this.draco.Encoder,this.dracoMeshBuilder=new this.draco.MeshBuilder,this.dracoMetadataBuilder=new this.draco.MetadataBuilder}var t,r,u;return t=e,(r=[{key:"destroy",value:function(){this.destroyEncodedObject(this.dracoMeshBuilder),this.destroyEncodedObject(this.dracoEncoder),this.destroyEncodedObject(this.dracoMetadataBuilder),this.dracoMeshBuilder=null,this.dracoEncoder=null,this.draco=null}},{key:"destroyEncodedObject",value:function(e){e&&this.draco.destroy(e)}},{key:"encodeSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log=d,this._setOptions(t),t.pointcloud?this._encodePointCloud(e,t):this._encodeMesh(e,t)}},{key:"_getAttributesFromMesh",value:function(e){var t=c(c({},e),e.attributes);return e.indices&&(t.indices=e.indices),t}},{key:"_encodePointCloud",value:function(e,t){var r=new this.draco.PointCloud;t.metadata&&this._addGeometryMetadata(r,t.metadata);var n=this._getAttributesFromMesh(e);this._createDracoPointCloud(r,n,t);var i=new this.draco.DracoInt8Array;try{var o=this.dracoEncoder.EncodePointCloudToDracoBuffer(r,!1,i);if(!(o>0))throw new Error("Draco encoding failed.");return this.log("DRACO encoded ".concat(r.num_points()," points\n        with ").concat(r.num_attributes()," attributes into ").concat(o," bytes")),y(i)}finally{this.destroyEncodedObject(i),this.destroyEncodedObject(r)}}},{key:"_encodeMesh",value:function(e,t){var r=new this.draco.Mesh;t.metadata&&this._addGeometryMetadata(r,t.metadata);var n=this._getAttributesFromMesh(e);this._createDracoMesh(r,n,t);var i=new this.draco.DracoInt8Array;try{var o=this.dracoEncoder.EncodeMeshToDracoBuffer(r,i);if(o<=0)throw new Error("Draco encoding failed.");return this.log("DRACO encoded ".concat(r.num_points()," points\n        with ").concat(r.num_attributes()," attributes into ").concat(o," bytes")),y(i)}finally{this.destroyEncodedObject(i),this.destroyEncodedObject(r)}}},{key:"_setOptions",value:function(e){var t;if("speed"in e&&(t=this.dracoEncoder).SetSpeedOptions.apply(t,o(e.speed)),"method"in e){var r=this.draco[e.method||"MESH_SEQUENTIAL_ENCODING"];this.dracoEncoder.SetEncodingMethod(r)}if("quantization"in e)for(var n in e.quantization){var i=e.quantization[n],a=this.draco[n];this.dracoEncoder.SetAttributeQuantization(a,i)}}},{key:"_createDracoMesh",value:function(e,t,r){var n=r.attributesMetadata||{};try{var i=this._getPositionAttribute(t);if(!i)throw new Error("positions");var o=i.length/3;for(var a in t){var u=t[a];a=h[a]||a;var s=this._addAttributeToMesh(e,a,u,o);-1!==s&&this._addAttributeMetadata(e,s,c({name:a},n[a]||{}))}}catch(t){throw this.destroyEncodedObject(e),t}return e}},{key:"_createDracoPointCloud",value:function(e,t,r){var n=r.attributesMetadata||{};try{var i=this._getPositionAttribute(t);if(!i)throw new Error("positions");var o=i.length/3;for(var a in t){var u=t[a];a=h[a]||a;var s=this._addAttributeToMesh(e,a,u,o);-1!==s&&this._addAttributeMetadata(e,s,c({name:a},n[a]||{}))}}catch(t){throw this.destroyEncodedObject(e),t}return e}},{key:"_addAttributeToMesh",value:function(e,t,r,n){if(!ArrayBuffer.isView(r))return-1;var i=this._getDracoAttributeType(t),o=r.length/n;if("indices"===i){var a=r.length/3;return this.log("Adding attribute ".concat(t,", size ").concat(a)),this.dracoMeshBuilder.AddFacesToMesh(e,a,r),-1}this.log("Adding attribute ".concat(t,", size ").concat(o));var u=this.dracoMeshBuilder,s=r.buffer;switch(r.constructor){case Int8Array:return u.AddInt8Attribute(e,i,n,o,new Int8Array(s));case Int16Array:return u.AddInt16Attribute(e,i,n,o,new Int16Array(s));case Int32Array:return u.AddInt32Attribute(e,i,n,o,new Int32Array(s));case Uint8Array:case Uint8ClampedArray:return u.AddUInt8Attribute(e,i,n,o,new Uint8Array(s));case Uint16Array:return u.AddUInt16Attribute(e,i,n,o,new Uint16Array(s));case Uint32Array:return u.AddUInt32Attribute(e,i,n,o,new Uint32Array(s));case Float32Array:default:return u.AddFloatAttribute(e,i,n,o,new Float32Array(s))}}},{key:"_getDracoAttributeType",value:function(e){switch(e.toLowerCase()){case"indices":return"indices";case"position":case"positions":case"vertices":return this.draco.POSITION;case"normal":case"normals":return this.draco.NORMAL;case"color":case"colors":return this.draco.COLOR;case"texcoord":case"texcoords":return this.draco.TEX_COORD;default:return this.draco.GENERIC}}},{key:"_getPositionAttribute",value:function(e){for(var t in e){var r=e[t];if(this._getDracoAttributeType(t)===this.draco.POSITION)return r}return null}},{key:"_addGeometryMetadata",value:function(e,t){var r=new this.draco.Metadata;this._populateDracoMetadata(r,t),this.dracoMeshBuilder.AddMetadata(e,r)}},{key:"_addAttributeMetadata",value:function(e,t,r){var n=new this.draco.Metadata;this._populateDracoMetadata(n,r),this.dracoMeshBuilder.SetMetadataForAttribute(e,t,n)}},{key:"_populateDracoMetadata",value:function(e,t){var r,o,u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}((o=t).entries&&!o.hasOwnProperty("entries")?o.entries():Object.entries(o));try{for(u.s();!(r=u.n()).done;){var s=i(r.value,2),c=s[0],l=s[1];switch(n(l)){case"number":Math.trunc(l)===l?this.dracoMetadataBuilder.AddIntEntry(e,c,l):this.dracoMetadataBuilder.AddDoubleEntry(e,c,l);break;case"object":l instanceof Int32Array&&this.dracoMetadataBuilder.AddIntEntryArray(e,c,l,l.length);break;case"string":default:this.dracoMetadataBuilder.AddStringEntry(e,c,l)}}}catch(e){u.e(e)}finally{u.f()}}}])&&l(t.prototype,r),u&&l(t,u),e}();function y(e){for(var t=e.size(),r=new ArrayBuffer(t),n=new Int8Array(r),i=0;i<t;++i)n[i]=e.GetValue(i);return r}t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._TypecheckBasisLoader=t._TypecheckBasisWorkerLoader=t.BasisLoader=t.BasisWorkerLoader=void 0;var n,i=r(30),o=(n=r(181))&&n.__esModule?n:{default:n};function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={name:"Basis",id:"basis",module:"textures",version:i.VERSION,worker:!0,extensions:["basis"],mimeTypes:["application/octet-stream"],tests:["sB"],binary:!0,options:{basis:{format:"rgb565",libraryPath:"libs/"}}};t.BasisWorkerLoader=c;var l=u(u({},c),{},{parse:o.default});t.BasisLoader=l;var f=c;t._TypecheckBasisWorkerLoader=f;var h=l;t._TypecheckBasisLoader=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return c.apply(this,arguments)};var n=r(182),i=r(31);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function u(e){a(o,n,i,u,s,"next",e)}function s(e){a(o,n,i,u,s,"throw",e)}u(void 0)}))}}var s={etc1:{basisFormat:0,compressed:!0},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:i.GL.COMPRESSED_RGB_S3TC_DXT1_EXT},bc3:{basisFormat:3,compressed:!0,format:i.GL.COMPRESSED_RGBA_S3TC_DXT5_EXT},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0},"astc-4x4":{basisFormat:10,compressed:!0},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function c(){return(c=u(regeneratorRuntime.mark((function e(t,r){var i,o,a,u,s,c,f,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.loadBasisModule)(r);case 2:if(i=e.sent,o=i.BasisFile,a=new o(new Uint8Array(t)),e.prev=5,a.startTranscoding()){e.next=8;break}return e.abrupt("return",null);case 8:for(u=a.getNumImages(),s=[],c=0;c<u;c++){for(f=a.getNumLevels(c),h=[],d=0;d<f;d++)h.push(l(a,c,d,r));s.push(h)}return e.abrupt("return",s);case 12:return e.prev=12,a.close(),a.delete(),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[5,,12,16]])})))).apply(this,arguments)}function l(e,t,r,n){var i=e.getImageWidth(t,r),a=e.getImageHeight(t,r),u=e.getHasAlpha(),c=function(e,t){var r=e&&e.basis&&e.basis.format;return"object"===o(r)&&(r=t?r.alpha:r.noAlpha),r=r.toLowerCase(),s[r]}(n,u),l=c.compressed,f=c.format,h=c.basisFormat,d=e.getImageTranscodedSizeInBytes(t,r,h),p=new Uint8Array(d);return e.transcodeImage(p,t,r,h,0,0)?{width:i,height:a,data:p,compressed:l,hasAlpha:u,format:f}:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadBasisModule=function(e){return c.apply(this,arguments)};var n,i=r(24);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function c(){return(c=s(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.modules||{}).basis){e.next=3;break}return e.abrupt("return",r.basis);case 3:return n=n||l(t),e.next=6,n;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=s(regeneratorRuntime.mark((function e(t){var r,n,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,n=null,e.t0=Promise,e.next=5,(0,i.loadLibrary)("basis_transcoder.js","textures",t);case 5:return e.t1=e.sent,e.next=8,(0,i.loadLibrary)("basis_transcoder.wasm","textures",t);case 8:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=12,e.t0.all.call(e.t0,e.t3);case 12:return a=e.sent,u=o(a,2),r=u[0],n=u[1],r=r||globalThis.BASIS,e.next=19,h(r,n);case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){var r={};return t&&(r.wasmBinary=t),new Promise((function(t){e(r).then((function(e){var r=e.BasisFile;(0,e.initializeBasis)(),t({BasisFile:r})}))}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._TypecheckCompressedTextureLoader=t._TypecheckCompressedTextureWorkerLoader=t.CompressedTextureLoader=t.CompressedTextureWorkerLoader=void 0;var n=r(30),i=r(184);function o(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={name:"Texture Containers",id:"compressed-texture",module:"textures",version:n.VERSION,worker:!0,extensions:["ktx","ktx2","dds","pvr"],mimeTypes:["image/ktx2","image/ktx","image/vnd-ms.dds","image/x-dds","application/octet-stream"],binary:!0,options:{"compressed-texture":{libraryPath:"libs/"}}};t.CompressedTextureWorkerLoader=c;var l,f,h=u(u({},c),{},{parse:(l=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.parseCompressedTexture)(t));case 1:case"end":return e.stop()}}),e)})),f=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=l.apply(e,t);function a(e){o(i,r,n,a,u,"next",e)}function u(e){o(i,r,n,a,u,"throw",e)}a(void 0)}))},function(e){return f.apply(this,arguments)})});t.CompressedTextureLoader=h;var d=c;t._TypecheckCompressedTextureWorkerLoader=d;var p=h;t._TypecheckCompressedTextureLoader=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCompressedTexture=function(e){if((0,n.isKTX)(e))return(0,n.parseKTX)(e);if((0,i.isDDS)(e))return(0,i.parseDDS)(e);if((0,o.isPVR)(e))return(0,o.parsePVR)(e);throw new Error("Texture container format not recognized")};var n=r(185),i=r(188),o=r(189)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKTX=function(e){var t=new Uint8Array(e.buffer||e,e.byteOffset||0,a.length);return!(t[0]!==a[0]||t[1]!==a[1]||t[2]!==a[2]||t[3]!==a[3]||t[4]!==a[4]||t[5]!==a[5]||t[6]!==a[6]||t[7]!==a[7]||t[8]!==a[8]||t[9]!==a[9]||t[10]!==a[10]||t[11]!==a[11])},t.parseKTX=function(e){var t=new Uint8Array(e),r=(0,n.read)(t),a=Math.max(1,r.levels.length),u=r.pixelWidth,s=r.pixelHeight,c=(0,o.mapVkFormatToWebGL)(r.vkFormat);return(0,i.extractMipmapImages)(r.levels,{mipMapLevels:a,width:u,height:s,sizeFunction:function(e){return e.uncompressedByteLength},internalFormat:c})};var n=r(186),i=r(58),o=r(187),a=[171,75,84,88,32,50,48,187,13,10,26,10]},function(e,t,r){"use strict";r.r(t),r.d(t,"KTX2Container",(function(){return d})),r.d(t,"read",(function(){return v})),r.d(t,"write",(function(){return E}));const n=new Uint8Array([0]),i=[171,75,84,88,32,50,48,187,13,10,26,10];var o,a,u,s,c,l,f,h;!function(e){e[e.NONE=0]="NONE",e[e.BASISLZ=1]="BASISLZ",e[e.ZSTD=2]="ZSTD",e[e.ZLIB=3]="ZLIB"}(o||(o={})),function(e){e[e.BASICFORMAT=0]="BASICFORMAT"}(a||(a={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ETC1S=163]="ETC1S",e[e.UASTC=166]="UASTC"}(u||(u={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SRGB=1]="SRGB"}(s||(s={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LINEAR=1]="LINEAR",e[e.SRGB=2]="SRGB",e[e.ITU=3]="ITU",e[e.NTSC=4]="NTSC",e[e.SLOG=5]="SLOG",e[e.SLOG2=6]="SLOG2"}(c||(c={})),function(e){e[e.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",e[e.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(l||(l={})),function(e){e[e.RGB=0]="RGB",e[e.RRR=3]="RRR",e[e.GGG=4]="GGG",e[e.AAA=15]="AAA"}(f||(f={})),function(e){e[e.RGB=0]="RGB",e[e.RGBA=3]="RGBA",e[e.RRR=4]="RRR",e[e.RRRG=5]="RRRG"}(h||(h={}));class d{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=o.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:a.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:u.UNSPECIFIED,colorPrimaries:s.SRGB,transferFunction:s.SRGB,flags:l.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null}}class p{constructor(e,t,r,n){this._dataView=new DataView(e.buffer,e.byteOffset+t,r),this._littleEndian=n,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_skip(e){return this._offset+=e,this}_scan(e,t=0){const r=this._offset;let n=0;for(;this._dataView.getUint8(this._offset)!==t&&n<e;)n++,this._offset++;return n<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,n)}}function y(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):Buffer.from(e)}function m(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):Buffer.from(e).toString("utf8")}function b(e){let t=0;for(const r of e)t+=r.byteLength;const r=new Uint8Array(t);let n=0;for(const t of e)r.set(new Uint8Array(t),n),n+=t.byteLength;return r}function v(e){const t=new Uint8Array(e.buffer,e.byteOffset,i.length);if(t[0]!==i[0]||t[1]!==i[1]||t[2]!==i[2]||t[3]!==i[3]||t[4]!==i[4]||t[5]!==i[5]||t[6]!==i[6]||t[7]!==i[7]||t[8]!==i[8]||t[9]!==i[9]||t[10]!==i[10]||t[11]!==i[11])throw new Error("Missing KTX 2.0 identifier.");const r=new d,n=17*Uint32Array.BYTES_PER_ELEMENT,o=new p(e,i.length,n,!0);r.vkFormat=o._nextUint32(),r.typeSize=o._nextUint32(),r.pixelWidth=o._nextUint32(),r.pixelHeight=o._nextUint32(),r.pixelDepth=o._nextUint32(),r.layerCount=o._nextUint32(),r.faceCount=o._nextUint32();const a=o._nextUint32();r.supercompressionScheme=o._nextUint32();const u=o._nextUint32(),s=o._nextUint32(),c=o._nextUint32(),l=o._nextUint32(),f=o._nextUint64(),h=o._nextUint64(),y=new p(e,i.length+n,3*a*8,!0);for(let t=0;t<a;t++)r.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+y._nextUint64(),y._nextUint64()),uncompressedByteLength:y._nextUint64()});const b=new p(e,u,s,!0),v={vendorId:b._skip(4)._nextUint16(),descriptorType:b._nextUint16(),versionNumber:b._nextUint16(),descriptorBlockSize:b._nextUint16(),colorModel:b._nextUint8(),colorPrimaries:b._nextUint8(),transferFunction:b._nextUint8(),flags:b._nextUint8(),texelBlockDimension:{x:b._nextUint8()+1,y:b._nextUint8()+1,z:b._nextUint8()+1,w:b._nextUint8()+1},bytesPlane:[b._nextUint8(),b._nextUint8(),b._nextUint8(),b._nextUint8(),b._nextUint8(),b._nextUint8(),b._nextUint8(),b._nextUint8()],samples:[]},_=(v.descriptorBlockSize/4-6)/4;for(let e=0;e<_;e++)v.samples[e]={bitOffset:b._nextUint16(),bitLength:b._nextUint8(),channelID:b._nextUint8(),samplePosition:[b._nextUint8(),b._nextUint8(),b._nextUint8(),b._nextUint8()],sampleLower:b._nextUint32(),sampleUpper:b._nextUint32()};r.dataFormatDescriptor.length=0,r.dataFormatDescriptor.push(v);const g=new p(e,c,l,!0);for(;g._offset<l;){const e=g._nextUint32(),t=g._scan(e),n=m(t),i=g._scan(e-t.byteLength);r.keyValue[n]=n.match(/^ktx/i)?m(i):i,e%4&&g._skip(4-e%4)}if(h<=0)return r;const E=new p(e,f,h,!0),O=E._nextUint16(),T=E._nextUint16(),S=E._nextUint32(),R=E._nextUint32(),w=E._nextUint32(),A=E._nextUint32(),P=[];for(let e=0;e<a;e++)P.push({imageFlags:E._nextUint32(),rgbSliceByteOffset:E._nextUint32(),rgbSliceByteLength:E._nextUint32(),alphaSliceByteOffset:E._nextUint32(),alphaSliceByteLength:E._nextUint32()});const M=f+E._offset,I=M+S,x=I+R,C=x+w,j=new Uint8Array(e.buffer,e.byteOffset+M,S),D=new Uint8Array(e.buffer,e.byteOffset+I,R),k=new Uint8Array(e.buffer,e.byteOffset+x,w),L=new Uint8Array(e.buffer,e.byteOffset+C,A);return r.globalData={endpointCount:O,selectorCount:T,imageDescs:P,endpointsData:j,selectorsData:D,tablesData:k,extendedData:L},r}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const g={keepWriter:!1};function E(e,t={}){t=_({},g,t);let r=new ArrayBuffer(0);if(e.globalData){const t=new ArrayBuffer(20+5*e.globalData.imageDescs.length*4),n=new DataView(t);n.setUint16(0,e.globalData.endpointCount,!0),n.setUint16(2,e.globalData.selectorCount,!0),n.setUint32(4,e.globalData.endpointsData.byteLength,!0),n.setUint32(8,e.globalData.selectorsData.byteLength,!0),n.setUint32(12,e.globalData.tablesData.byteLength,!0),n.setUint32(16,e.globalData.extendedData.byteLength,!0);for(let t=0;t<e.globalData.imageDescs.length;t++){const r=e.globalData.imageDescs[t];n.setUint32(20+5*t*4+0,r.imageFlags,!0),n.setUint32(20+5*t*4+4,r.rgbSliceByteOffset,!0),n.setUint32(20+5*t*4+8,r.rgbSliceByteLength,!0),n.setUint32(20+5*t*4+12,r.alphaSliceByteOffset,!0),n.setUint32(20+5*t*4+16,r.alphaSliceByteLength,!0)}r=b([t,e.globalData.endpointsData,e.globalData.selectorsData,e.globalData.tablesData,e.globalData.extendedData])}const o=[];let u=e.keyValue;t.keepWriter||(u=_({},e.keyValue,{KTXwriter:"KTX-Parse v0.0.4"}));for(const e in u){const t=u[e],r=y(e),i="string"==typeof t?y(t):t,a=r.byteLength+1+i.byteLength+1,s=a%4?4-a%4:0;o.push(b([new Uint32Array([a]),r,n,i,n,new Uint8Array(s).fill(0)]))}const s=b(o),c=new ArrayBuffer(44),l=new DataView(c);if(1!==e.dataFormatDescriptor.length||e.dataFormatDescriptor[0].descriptorType!==a.BASICFORMAT)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const f=e.dataFormatDescriptor[0];l.setUint32(0,44,!0),l.setUint16(4,f.vendorId,!0),l.setUint16(6,f.descriptorType,!0),l.setUint16(8,f.versionNumber,!0),l.setUint16(10,f.descriptorBlockSize,!0),l.setUint8(12,f.colorModel),l.setUint8(13,f.colorPrimaries),l.setUint8(14,f.transferFunction),l.setUint8(15,f.flags),l.setUint8(16,f.texelBlockDimension.x-1),l.setUint8(17,f.texelBlockDimension.y-1),l.setUint8(18,f.texelBlockDimension.z-1),l.setUint8(19,f.texelBlockDimension.w-1);for(let e=0;e<8;e++)l.setUint8(20+e,f.bytesPlane[e]);for(let e=0;e<f.samples.length;e++){const t=f.samples[e],r=28+16*e;l.setUint16(r+0,t.bitOffset,!0),l.setUint8(r+2,t.bitLength),l.setUint8(r+3,t.channelID),l.setUint8(r+4,t.samplePosition[0]),l.setUint8(r+5,t.samplePosition[1]),l.setUint8(r+6,t.samplePosition[2]),l.setUint8(r+7,t.samplePosition[3]),l.setUint32(r+8,t.sampleLower,!0),l.setUint32(r+12,t.sampleUpper,!0)}const h=i.length+68+3*e.levels.length*8,d=h+c.byteLength;let p=d+s.byteLength;p%8&&(p+=8-p%8);const m=[],v=new DataView(new ArrayBuffer(3*e.levels.length*8));let E=p+r.byteLength;for(let t=0;t<e.levels.length;t++){const r=e.levels[t];m.push(r.levelData),v.setBigUint64(24*t+0,BigInt(E),!0),v.setBigUint64(24*t+8,BigInt(r.levelData.byteLength),!0),v.setBigUint64(24*t+16,BigInt(r.uncompressedByteLength),!0),E+=r.levelData.byteLength}const O=new ArrayBuffer(68),T=new DataView(O);return T.setUint32(0,e.vkFormat,!0),T.setUint32(4,e.typeSize,!0),T.setUint32(8,e.pixelWidth,!0),T.setUint32(12,e.pixelHeight,!0),T.setUint32(16,e.pixelDepth,!0),T.setUint32(20,e.layerCount,!0),T.setUint32(24,e.faceCount,!0),T.setUint32(28,e.levels.length,!0),T.setUint32(32,e.supercompressionScheme,!0),T.setUint32(36,h,!0),T.setUint32(40,c.byteLength,!0),T.setUint32(44,d,!0),T.setUint32(48,s.byteLength,!0),T.setBigUint64(52,BigInt(p),!0),T.setBigUint64(60,BigInt(r.byteLength),!0),new Uint8Array(b([new Uint8Array(i).buffer,O,v.buffer,c,s,new ArrayBuffer(p-(d+s.byteLength)),r,...m]))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapVkFormatToWebGL=function(e){return i[e]};var n=r(31),i={131:n.GL.COMPRESSED_RGB_S3TC_DXT1_EXT,132:n.GL.COMPRESSED_SRGB_S3TC_DXT1_EXT,133:n.GL.COMPRESSED_RGBA_S3TC_DXT1_EXT,134:n.GL.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,135:n.GL.COMPRESSED_RGBA_S3TC_DXT3_EXT,136:n.GL.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,137:n.GL.COMPRESSED_RGBA_S3TC_DXT5_EXT,138:n.GL.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,139:n.GL.COMPRESSED_RED_RGTC1_EXT,140:n.GL.COMPRESSED_SIGNED_RED_RGTC1_EXT,141:n.GL.COMPRESSED_RED_GREEN_RGTC2_EXT,142:n.GL.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,147:n.GL.COMPRESSED_RGB8_ETC2,148:n.GL.COMPRESSED_SRGB8_ETC2,149:n.GL.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,150:n.GL.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,151:n.GL.COMPRESSED_RGBA8_ETC2_EAC,152:n.GL.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,153:n.GL.COMPRESSED_R11_EAC,154:n.GL.COMPRESSED_SIGNED_R11_EAC,155:n.GL.COMPRESSED_RG11_EAC,156:n.GL.COMPRESSED_SIGNED_RG11_EAC,157:n.GL.COMPRESSED_RGBA_ASTC_4x4_KHR,158:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,159:n.GL.COMPRESSED_RGBA_ASTC_5x4_KHR,160:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR,161:n.GL.COMPRESSED_RGBA_ASTC_5x5_KHR,162:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,163:n.GL.COMPRESSED_RGBA_ASTC_6x5_KHR,164:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,165:n.GL.COMPRESSED_RGBA_ASTC_6x6_KHR,166:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,167:n.GL.COMPRESSED_RGBA_ASTC_8x5_KHR,168:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,169:n.GL.COMPRESSED_RGBA_ASTC_8x6_KHR,170:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,171:n.GL.COMPRESSED_RGBA_ASTC_8x8_KHR,172:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,173:n.GL.COMPRESSED_RGBA_ASTC_10x5_KHR,174:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,175:n.GL.COMPRESSED_RGBA_ASTC_10x6_KHR,176:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,177:n.GL.COMPRESSED_RGBA_ASTC_10x8_KHR,178:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,179:n.GL.COMPRESSED_RGBA_ASTC_10x10_KHR,180:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,181:n.GL.COMPRESSED_RGBA_ASTC_12x10_KHR,182:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,183:n.GL.COMPRESSED_RGBA_ASTC_12x12_KHR,184:n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,1000054e3:n.GL.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,1000054001:n.GL.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,1000066e3:n.GL.COMPRESSED_RGBA_ASTC_4x4_KHR,1000066001:n.GL.COMPRESSED_RGBA_ASTC_5x4_KHR,1000066002:n.GL.COMPRESSED_RGBA_ASTC_5x5_KHR,1000066003:n.GL.COMPRESSED_RGBA_ASTC_6x5_KHR,1000066004:n.GL.COMPRESSED_RGBA_ASTC_6x6_KHR,1000066005:n.GL.COMPRESSED_RGBA_ASTC_8x5_KHR,1000066006:n.GL.COMPRESSED_RGBA_ASTC_8x6_KHR,1000066007:n.GL.COMPRESSED_RGBA_ASTC_8x8_KHR,1000066008:n.GL.COMPRESSED_RGBA_ASTC_10x5_KHR,1000066009:n.GL.COMPRESSED_RGBA_ASTC_10x6_KHR,1000066010:n.GL.COMPRESSED_RGBA_ASTC_10x8_KHR,1000066011:n.GL.COMPRESSED_RGBA_ASTC_10x10_KHR,1000066012:n.GL.COMPRESSED_RGBA_ASTC_12x10_KHR,1000066013:n.GL.COMPRESSED_RGBA_ASTC_12x12_KHR}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDDS=function(e){return new Uint32Array(e,0,c.HEADER_LENGTH)[c.MAGIC_NUMBER_INDEX]===c.MAGIC_NUMBER},t.parseDDS=function(e){var t=new Int32Array(e,0,c.HEADER_LENGTH),r=t[c.HEADER_PF_FOURCC_INDEX];(0,n.assert)(Boolean(t[c.HEADER_PF_FLAGS_INDEX]&c.DDPF_FOURCC),"DDS: Unsupported format, must contain a FourCC code");var i=(s=r,String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255)),a=c.PIXEL_FORMATS[i],u=c.SIZE_FUNCTIONS[i];var s;(0,n.assert)(a&&u,"DDS: Unknown pixel format ".concat(r));var l=1;t[c.HEADER_FLAGS_INDEX]&c.DDSD_MIPMAPCOUNT&&(l=Math.max(1,t[c.MIPMAPCOUNT_INDEX]));var f=t[c.HEADER_WIDTH_INDEX],h=t[c.HEADER_HEIGHT_INDEX],d=t[c.HEADER_SIZE_INDEX]+4,p=new Uint8Array(e,d);return(0,o.extractMipmapImages)(p,{mipMapLevels:l,width:f,height:h,sizeFunction:u,internalFormat:a})},t.getDxt1LevelSize=l,t.getDxtXLevelSize=f;var n=r(4),i=r(31),o=r(58),a=l,u=f,s=f,c={MAGIC_NUMBER:542327876,HEADER_LENGTH:31,MAGIC_NUMBER_INDEX:0,HEADER_SIZE_INDEX:1,HEADER_FLAGS_INDEX:2,HEADER_HEIGHT_INDEX:3,HEADER_WIDTH_INDEX:4,MIPMAPCOUNT_INDEX:7,HEADER_PF_FLAGS_INDEX:20,HEADER_PF_FOURCC_INDEX:21,DDSD_MIPMAPCOUNT:131072,DDPF_FOURCC:4,PIXEL_FORMATS:{DXT1:i.GL.COMPRESSED_RGB_S3TC_DXT1_EXT,DXT3:i.GL.COMPRESSED_RGBA_S3TC_DXT3_EXT,DXT5:i.GL.COMPRESSED_RGBA_S3TC_DXT5_EXT,"ATC ":i.GL.COMPRESSED_RGB_ATC_WEBGL,ATCA:i.GL.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,ATCI:i.GL.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},SIZE_FUNCTIONS:{DXT1:l,DXT3:f,DXT5:f,"ATC ":a,ATCA:u,ATCI:s}};function l(e,t){return(e+3>>2)*(t+3>>2)*8}function f(e,t){return(e+3>>2)*(t+3>>2)*16}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPVR=function(e){var t=new Uint32Array(e,0,u)[c];return t===o||t===a},t.parsePVR=function(e){var t=new Uint32Array(e,0,u),r=t[l],n=t[f],o=m[r]||[],a=o.length>1&&n?o[1]:o[0],c=b[r],v=t[p],_=t[d],g=t[h],E=s+t[y],O=new Uint8Array(e,E);return(0,i.extractMipmapImages)(O,{mipMapLevels:v,width:_,height:g,sizeFunction:c,internalFormat:a})};var n=r(31),i=r(58),o=55727696,a=1347834371,u=13,s=52,c=0,l=2,f=4,h=6,d=7,p=11,y=12,m={0:[n.GL.COMPRESSED_RGB_PVRTC_2BPPV1_IMG],1:[n.GL.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG],2:[n.GL.COMPRESSED_RGB_PVRTC_4BPPV1_IMG],3:[n.GL.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG],6:[n.GL.COMPRESSED_RGB_ETC1_WEBGL],7:[n.GL.COMPRESSED_RGB_S3TC_DXT1_EXT],9:[n.GL.COMPRESSED_RGBA_S3TC_DXT3_EXT],11:[n.GL.COMPRESSED_RGBA_S3TC_DXT5_EXT],22:[n.GL.COMPRESSED_RGB8_ETC2],23:[n.GL.COMPRESSED_RGBA8_ETC2_EAC],24:[n.GL.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2],25:[n.GL.COMPRESSED_R11_EAC],26:[n.GL.COMPRESSED_RG11_EAC],27:[n.GL.COMPRESSED_RGBA_ASTC_4X4_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_4X4_KHR],28:[n.GL.COMPRESSED_RGBA_ASTC_5X4_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_5X4_KHR],29:[n.GL.COMPRESSED_RGBA_ASTC_5X5_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_5X5_KHR],30:[n.GL.COMPRESSED_RGBA_ASTC_6X5_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_6X5_KHR],31:[n.GL.COMPRESSED_RGBA_ASTC_6X6_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_6X6_KHR],32:[n.GL.COMPRESSED_RGBA_ASTC_8X5_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_8X5_KHR],33:[n.GL.COMPRESSED_RGBA_ASTC_8X6_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_8X6_KHR],34:[n.GL.COMPRESSED_RGBA_ASTC_8X8_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_8X8_KHR],35:[n.GL.COMPRESSED_RGBA_ASTC_10X5_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_10X5_KHR],36:[n.GL.COMPRESSED_RGBA_ASTC_10X6_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_10X6_KHR],37:[n.GL.COMPRESSED_RGBA_ASTC_10X8_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_10X8_KHR],38:[n.GL.COMPRESSED_RGBA_ASTC_10X10_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_10X10_KHR],39:[n.GL.COMPRESSED_RGBA_ASTC_12X10_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_12X10_KHR],40:[n.GL.COMPRESSED_RGBA_ASTC_12X12_KHR,n.GL.COMPRESSED_SRGB8_ALPHA8_ASTC_12X12_KHR]},b={0:v,1:v,2:_,3:_,6:g,7:g,9:E,11:E,22:g,23:E,24:g,25:g,26:E,27:E,28:function(e,t){return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16},29:function(e,t){return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16},30:function(e,t){return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16},31:function(e,t){return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16},32:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16},33:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16},34:function(e,t){return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16},35:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16},36:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16},37:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16},38:function(e,t){return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16},39:function(e,t){return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16},40:function(e,t){return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16}};function v(e,t){return(e=Math.max(e,16))*(t=Math.max(t,8))/4}function _(e,t){return(e=Math.max(e,8))*(t=Math.max(t,8))/2}function g(e,t){return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8}function E(e,t){return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._TypecheckCrunchLoader=t.CrunchLoader=void 0;var n={id:"crunch",name:"Crunch",module:"textures",version:r(30).VERSION,worker:!0,extensions:["crn"],mimeTypes:["image/crn","image/x-crn","application/octet-stream"],binary:!0,options:{crunch:{libraryPath:"libs/"}}};t.CrunchLoader=n;var i=n;t._TypecheckCrunchLoader=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._TypecheckNPYLoader=t._TypecheckNPYWorkerLoader=t.NPYLoader=t.NPYWorkerLoader=void 0;var n=r(30),i=r(192);function o(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=new Uint8Array([147,78,85,77,80,89]),l={name:"NPY",id:"npy",module:"textures",version:n.VERSION,worker:!0,extensions:["npy"],mimeTypes:[],tests:[c.buffer],options:{npy:{}}};t.NPYWorkerLoader=l;var f,h,d=u(u({},l),{},{parseSync:i.parseNPY,parse:(f=regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.parseNPY)(t,r));case 1:case"end":return e.stop()}}),e)})),h=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=f.apply(e,t);function a(e){o(i,r,n,a,u,"next",e)}function u(e){o(i,r,n,a,u,"throw",e)}a(void 0)}))},function(e,t){return h.apply(this,arguments)})});t.NPYLoader=d;var p=l;t._TypecheckNPYWorkerLoader=p;var y=d;t._TypecheckNPYLoader=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNPY=function(e,t){if(!e)return null;var r=function(e){var t,r=e.getUint8(6),n=8;r>=2?(t=e.getUint32(8,!0),n+=4):(t=e.getUint16(8,!0),n+=2);var i=new TextDecoder(r<=2?"latin1":"utf-8"),o=new Uint8Array(e.buffer,n,t),a=i.decode(o);return n+=t,{header:JSON.parse(a.replace(/'/g,'"').replace("False","false").replace("(","[").replace(/,*\),*/g,"]")),headerEndOffset:n}}(new DataView(e)),n=r.header,a=r.headerEndOffset,u=n.descr,s=o[u.slice(1,3)];if(!s)return console.warn("Decoding of npy dtype not implemented: ".concat(u)),null;var c=n.shape.reduce((function(e,t){return e*t}))*s.BYTES_PER_ELEMENT,l=new s(e.slice(a,a+c));(">"===u[0]&&i||"<"===u[0]&&!i)&&console.warn("Data is wrong endianness, byte swapping not yet implemented.");return{data:l,header:n}};var n,i=(n=new Uint32Array([305419896]),!(18===new Uint8Array(n.buffer,n.byteOffset,n.byteLength)[0])),o={u1:Uint8Array,i1:Int8Array,u2:Uint16Array,i2:Int16Array,u4:Uint32Array,i4:Int32Array,f4:Float32Array,f8:Float64Array}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._TypecheckCompressedTextureWriter=t.CompressedTextureWriter=void 0;var n=r(30),i=r(194),o={name:"DDS Texture Container",id:"dds",module:"textures",version:n.VERSION,extensions:["dds"],options:{texture:{format:"auto",compression:"auto",quality:"auto",mipmap:!1,flipY:!1,toolFlags:""}},encodeURLtoURL:i.encodeImageURLToCompressedTextureURL};t.CompressedTextureWriter=o;var a=o;t._TypecheckCompressedTextureWriter=a},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeImageURLToCompressedTextureURL=function(e,t){return u.apply(this,arguments)};var n=r(24);function i(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,s,"next",e)}function s(e){i(a,n,o,u,s,"throw",e)}u(void 0)}))}}var a="".concat(e,"/../../..");function u(){return(u=o(regeneratorRuntime.mark((function e(t,r){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=["texture-compressor","--type","s3tc","--compression","DXT1","--quality","normal","--input",t,"--output",r],o=new n.ChildProcessProxy,e.next=4,o.start({command:"npx",arguments:i,spawn:{cwd:a}});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,"/")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUrl=function(e,t,r){var i=e;"function"==typeof e&&(i=e(o(o({},t),r)));(0,n.assert)("string"==typeof i);var a=t.baseUrl;a&&(i="/"===a[a.length-1]?"".concat(a).concat(i):"".concat(a,"/").concat(i));return(0,n.resolvePath)(i)};var n=r(4);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,s,"next",e)}function s(e){n(a,i,o,u,s,"throw",e)}u(void 0)}))}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.asyncDeepMap=function(e,t){return u.apply(this,arguments)},t.mapSubtree=s;var a=function(e){return e&&"object"===o(e)};function u(){return(u=i(regeneratorRuntime.mark((function e(t,r){var n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,s(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,t,r){return c.apply(this,arguments)}function c(){return(c=i(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,h(t,r,n);case 3:return e.abrupt("return",e.sent);case 4:if(!a(t)){e.next=8;break}return e.next=7,l(t,r,n);case 7:return e.abrupt("return",e.sent);case 8:return i=t,e.next=11,r(i,n);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t,r){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t,r,n){var i,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in i=[],o={},a=function(e){var a=s(t[e],r,n).then((function(t){o[e]=t}));i.push(a)},t)a(u);return e.next=6,Promise.all(i);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return d.apply(this,arguments)}function d(){return(d=i(regeneratorRuntime.mark((function e(t,r){var n,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},i=t.map((function(e){return s(e,r,n)})),e.next=4,Promise.all(i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadImageTextureArray=function(e,t){return s.apply(this,arguments)},t.getImageArrayUrls=c;var n=r(41),i=r(59),o=r(60);function a(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function u(e){a(o,n,i,u,s,"next",e)}function s(e){a(o,n,i,u,s,"throw",e)}u(void 0)}))}}function s(){return(s=u(regeneratorRuntime.mark((function e(t,r){var i,a,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=3,c(t,r,i);case 3:return a=e.sent,e.next=6,(0,o.deepLoad)(a,n.ImageLoader.parse,i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,t){return l.apply(this,arguments)}function l(){return(l=u(regeneratorRuntime.mark((function e(t,r){var n,o,a,u,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length>2&&void 0!==s[2]?s[2]:{},o=[],a=0;a<t;a++)u=(0,i.getImageUrls)(r,n,{index:a}),o.push(u);return e.next=5,Promise.all(o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageCubeUrls=h,t.loadImageTextureCube=function(e){return p.apply(this,arguments)};var n=r(41),i=r(59),o=r(60);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,u,"next",e)}function u(e){c(o,n,i,a,u,"throw",e)}a(void 0)}))}}var f=[{face:34069,direction:"right",axis:"x",sign:"positive"},{face:34070,direction:"left",axis:"x",sign:"negative"},{face:34071,direction:"top",axis:"y",sign:"positive"},{face:34072,direction:"bottom",axis:"y",sign:"negative"},{face:34073,direction:"front",axis:"z",sign:"positive"},{face:34074,direction:"back",axis:"z",sign:"negative"}];function h(e,t){return d.apply(this,arguments)}function d(){return(d=l(regeneratorRuntime.mark((function e(t,r){var n,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n={},o=[],a=0,s=function(e){var s=f[a],c=(0,i.getImageUrls)(t,r,u(u({},s),{},{index:a++})).then((function(e){n[s.face]=e}));o.push(c)},c=0;c<f.length;++c)s();return e.next=7,Promise.all(o);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=l(regeneratorRuntime.mark((function e(t){var r,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,h(t,r);case 3:return i=e.sent,e.next=6,(0,o.deepLoad)(i,n.ImageLoader.parse,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportedGPUTextureFormats=function(e){if(!a){e=e||function(){try{return document.createElement("canvas").getContext("webgl")}catch(e){return null}}()||void 0,a=new Set;var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw a}}}}(i);try{for(r.s();!(t=r.n()).done;){var u=t.value;for(var s in o)if(e&&e.getExtension("".concat(u).concat(s))){var c=o[s];a.add(c)}}}catch(e){r.e(e)}finally{r.f()}}return a};var i=["","WEBKIT_","MOZ_"],o={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"},a=null},function(e,t,r){"use strict";r.r(t),t.default={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Tileset3D",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Tile3D",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"TilesetTraverser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"TilesetCache",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"createBoundingVolume",{enumerable:!0,get:function(){return u.createBoundingVolume}}),Object.defineProperty(t,"calculateTransformProps",{enumerable:!0,get:function(){return s.calculateTransformProps}}),Object.defineProperty(t,"getFrameState",{enumerable:!0,get:function(){return c.getFrameState}}),Object.defineProperty(t,"TILE_CONTENT_STATE",{enumerable:!0,get:function(){return l.TILE_CONTENT_STATE}}),Object.defineProperty(t,"TILE_REFINEMENT",{enumerable:!0,get:function(){return l.TILE_REFINEMENT}}),Object.defineProperty(t,"TILE_TYPE",{enumerable:!0,get:function(){return l.TILE_TYPE}}),Object.defineProperty(t,"TILESET_TYPE",{enumerable:!0,get:function(){return l.TILESET_TYPE}}),Object.defineProperty(t,"LOD_METRIC_TYPE",{enumerable:!0,get:function(){return l.LOD_METRIC_TYPE}});var n=f(r(202)),i=f(r(61)),o=f(r(33)),a=f(r(99)),u=r(102),s=r(100),c=r(101),l=r(32);function f(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(5),i=r(25),o=r(34),a=r(4),u=m(r(99)),s=r(100),c=r(101),l=r(205),f=m(r(61)),h=m(r(209)),d=m(r(33)),p=m(r(210)),y=r(32);function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S={description:"",ellipsoid:i.Ellipsoid.WGS84,modelMatrix:new n.Matrix4,throttleRequests:!0,maxRequests:64,maximumMemoryUsage:32,onTileLoad:function(){},onTileUnload:function(){},onTileError:function(){},onTraversalComplete:function(e){return e},contentLoader:void 0,viewDistanceScale:1,maximumScreenSpaceError:8,loadTiles:!0,updateTransforms:!0,viewportTraversersMap:null,loadOptions:{fetch:{}},attributions:[],basePath:"",i3s:{}},R=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,"options",void 0),T(this,"loadOptions",void 0),T(this,"type",void 0),T(this,"tileset",void 0),T(this,"loader",void 0),T(this,"url",void 0),T(this,"basePath",void 0),T(this,"modelMatrix",void 0),T(this,"ellipsoid",void 0),T(this,"lodMetricType",void 0),T(this,"lodMetricValue",void 0),T(this,"refine",void 0),T(this,"root",void 0),T(this,"roots",void 0),T(this,"asset",void 0),T(this,"description",void 0),T(this,"properties",void 0),T(this,"extras",void 0),T(this,"attributions",void 0),T(this,"credits",void 0),T(this,"stats",void 0),T(this,"traverseCounter",void 0),T(this,"geometricError",void 0),T(this,"selectedTiles",void 0),T(this,"cartographicCenter",void 0),T(this,"cartesianCenter",void 0),T(this,"zoom",void 0),T(this,"boundingVolume",void 0),T(this,"gpuMemoryUsageInBytes",void 0),T(this,"dynamicScreenSpaceErrorComputedDensity",void 0),T(this,"_traverser",void 0),T(this,"_cache",void 0),T(this,"_requestScheduler",void 0),T(this,"_frameNumber",void 0),T(this,"_queryParamsString",void 0),T(this,"_queryParams",void 0),T(this,"_extensionsUsed",void 0),T(this,"_tiles",void 0),T(this,"_pendingCount",void 0),T(this,"lastUpdatedVieports",void 0),T(this,"_requestedTiles",void 0),T(this,"_emptyTiles",void 0),T(this,"frameStateData",void 0),T(this,"maximumMemoryUsage",void 0),(0,a.assert)(t),this.options=E(E({},S),r),this.tileset=t,this.loader=t.loader,this.type=t.type,this.url=t.url,this.basePath=t.basePath||a.path.dirname(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=t.lodMetricType,this.lodMetricValue=t.lodMetricValue,this.refine=t.root.refine,this.loadOptions=this.options.loadOptions||{},this.root=null,this.roots={},this.cartographicCenter=null,this.cartesianCenter=null,this.zoom=1,this.boundingVolume=null,this.traverseCounter=0,this.geometricError=0,this._traverser=this._initializeTraverser(),this._cache=new u.default,this._requestScheduler=new a.RequestScheduler({throttleRequests:this.options.throttleRequests,maxRequests:this.options.maxRequests}),this._frameNumber=0,this._pendingCount=0,this._tiles={},this.selectedTiles=[],this._emptyTiles=[],this._requestedTiles=[],this.frameStateData={},this.lastUpdatedVieports=null,this._queryParams={},this._queryParamsString="",this.maximumMemoryUsage=this.options.maximumMemoryUsage||32,this.gpuMemoryUsageInBytes=0,this.stats=new o.Stats({id:this.url}),this._initializeStats(),this._extensionsUsed=void 0,this.dynamicScreenSpaceErrorComputedDensity=0,this.extras=null,this.asset={},this.credits={},this.description=this.options.description||"",this._initializeTileSet(t)}var t,r,m,_,g;return t=e,(r=[{key:"destroy",value:function(){this._destroy()}},{key:"isLoaded",value:function(){return 0===this._pendingCount&&0!==this._frameNumber}},{key:"tiles",get:function(){return Object.values(this._tiles)}},{key:"frameNumber",get:function(){return this._frameNumber}},{key:"queryParams",get:function(){return this._queryParamsString||(this._queryParamsString=function(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t.push("".concat(i,"=").concat(e[i]))}switch(t.length){case 0:return"";case 1:return"?".concat(t[0]);default:return"?".concat(t.join("&"))}}(this._queryParams)),this._queryParamsString}},{key:"setProps",value:function(e){this.options=E(E({},this.options),e)}},{key:"setOptions",value:function(e){this.options=E(E({},this.options),e)}},{key:"getTileUrl",value:function(e){return e.startsWith("data:")?e:"".concat(e).concat(this.queryParams)}},{key:"hasExtension",value:function(e){return Boolean(this._extensionsUsed&&this._extensionsUsed.indexOf(e)>-1)}},{key:"update",value:function(e){if((!("loadTiles"in this.options)||this.options.loadTiles)&&!(this.traverseCounter>0)){!e&&this.lastUpdatedVieports?e=this.lastUpdatedVieports:this.lastUpdatedVieports=e,e instanceof Array||(e=[e]),this._cache.reset(),this._frameNumber++,this.traverseCounter=e.length;var t,r=[],n=v(e);try{for(n.s();!(t=n.n()).done;){var i=t.value.id;this._needTraverse(i)?r.push(i):this.traverseCounter--}}catch(e){n.e(e)}finally{n.f()}var o,a=v(e);try{for(a.s();!(o=a.n()).done;){var u=o.value,s=u.id;if(this.roots[s]||(this.roots[s]=this._initializeTileHeaders(this.tileset,null)),r.includes(s)){var l=(0,c.getFrameState)(u,this._frameNumber);this._traverser.traverse(this.roots[s],l,this.options)}}}catch(e){a.e(e)}finally{a.f()}}}},{key:"_needTraverse",value:function(e){var t=e;return this.options.viewportTraversersMap&&(t=this.options.viewportTraversersMap[e]),t===e}},{key:"_onTraversalEnd",value:function(e){var t=e.viewport.id;this.frameStateData[t]||(this.frameStateData[t]={selectedTiles:[],_requestedTiles:[],_emptyTiles:[]});var r=this.frameStateData[t],n=Object.values(this._traverser.selectedTiles);r.selectedTiles=n,r._requestedTiles=Object.values(this._traverser.requestedTiles),r._emptyTiles=Object.values(this._traverser.emptyTiles),this.traverseCounter--,this.traverseCounter>0||this._updateTiles()}},{key:"_updateTiles",value:function(){for(var e in this.selectedTiles=[],this._requestedTiles=[],this._emptyTiles=[],this.frameStateData){var t=this.frameStateData[e];this.selectedTiles=this.selectedTiles.concat(t.selectedTiles),this._requestedTiles=this._requestedTiles.concat(t._requestedTiles),this._emptyTiles=this._emptyTiles.concat(t._emptyTiles)}this.selectedTiles=this.options.onTraversalComplete(this.selectedTiles);var r,n=v(this.selectedTiles);try{for(n.s();!(r=n.n()).done;){var i=r.value;this._tiles[i.id]=i}}catch(e){n.e(e)}finally{n.f()}this._loadTiles(),this._unloadTiles(),this._updateStats()}},{key:"_tilesChanged",value:function(e,t){if(e.length!==t.length)return!0;var r=new Set(e.map((function(e){return e.id}))),n=new Set(t.map((function(e){return e.id}))),i=e.filter((function(e){return!n.has(e.id)})).length>0;return i=i||t.filter((function(e){return!r.has(e.id)})).length>0}},{key:"_loadTiles",value:function(){var e,t=v(this._requestedTiles);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.contentUnloaded&&this._loadTile(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"_unloadTiles",value:function(){this._cache.unloadTiles(this,(function(e,t){return e._unloadTile(t)}))}},{key:"_updateStats",value:function(){var e,t=0,r=0,n=v(this.selectedTiles);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.contentAvailable&&i.content&&(t++,i.content.pointCount&&(r+=i.content.pointCount))}}catch(e){n.e(e)}finally{n.f()}this.stats.get("Tiles In View").count=this.selectedTiles.length,this.stats.get("Tiles To Render").count=t,this.stats.get("Points").count=r}},{key:"_initializeTileSet",value:function(e){this.root=this._initializeTileHeaders(e,null),this.type===y.TILESET_TYPE.TILES3D&&this._initializeCesiumTileset(e),this.type===y.TILESET_TYPE.I3S&&this._initializeI3STileset(),this._calculateViewProps()}},{key:"_calculateViewProps",value:function(){var e=this.root;(0,a.assert)(e);var t=e.boundingVolume.center;if(!t)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new n.Vector3,void(this.zoom=1);this.cartographicCenter=i.Ellipsoid.WGS84.cartesianToCartographic(t,new n.Vector3),this.cartesianCenter=t,this.zoom=(0,l.getZoomFromBoundingVolume)(e.boundingVolume)}},{key:"_initializeStats",value:function(){this.stats.get("Tiles In Tileset(s)"),this.stats.get("Tiles Loading"),this.stats.get("Tiles In Memory"),this.stats.get("Tiles In View"),this.stats.get("Tiles To Render"),this.stats.get("Tiles Loaded"),this.stats.get("Tiles Unloaded"),this.stats.get("Failed Tile Loads"),this.stats.get("Points","memory"),this.stats.get("Tile Memory Use","memory")}},{key:"_initializeTileHeaders",value:function(e,t){var r=new f.default(this,e.root,t);if(t&&(t.children.push(r),r.depth=t.depth+1),this.type===y.TILESET_TYPE.TILES3D){var n=[];for(n.push(r);n.length>0;){var i=n.pop();this.stats.get("Tiles In Tileset(s)").incrementCount();var o,a=v(i.header.children||[]);try{for(a.s();!(o=a.n()).done;){var u=o.value,s=new f.default(this,u,i);i.children.push(s),s.depth=i.depth+1,n.push(s)}}catch(e){a.e(e)}finally{a.f()}}}return r}},{key:"_initializeTraverser",value:function(){var e;switch(this.type){case y.TILESET_TYPE.TILES3D:e=h.default;break;case y.TILESET_TYPE.I3S:e=p.default;break;default:e=d.default}return new e({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}},{key:"_destroyTileHeaders",value:function(e){this._destroySubtree(e)}},{key:"_loadTile",value:(_=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._onStartTileLoading(),e.next=4,t.loadContent();case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._onTileLoadError(t,e.t0);case 10:return e.prev=10,this._onEndTileLoading(),this._onTileLoad(t,r),e.finish(10);case 14:case"end":return e.stop()}}),e,this,[[0,7,10,14]])})),g=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=_.apply(e,t);function o(e){b(i,r,n,o,a,"next",e)}function a(e){b(i,r,n,o,a,"throw",e)}o(void 0)}))},function(e){return g.apply(this,arguments)})},{key:"_onTileLoadError",value:function(e,t){this.stats.get("Failed Tile Loads").incrementCount();var r=t.message||t.toString(),n=e.url;console.error("A 3D tile failed to load: ".concat(e.url," ").concat(r)),this.options.onTileError(e,r,n)}},{key:"_onTileLoad",value:function(e,t){t&&(e&&e.content&&(0,s.calculateTransformProps)(e,e.content),this._addTileToCache(e),this.options.onTileLoad(e))}},{key:"_onStartTileLoading",value:function(){this._pendingCount++,this.stats.get("Tiles Loading").incrementCount()}},{key:"_onEndTileLoading",value:function(){this._pendingCount--,this.stats.get("Tiles Loading").decrementCount()}},{key:"_addTileToCache",value:function(e){this._cache.add(this,e,(function(t){return t._updateCacheStats(e)}))}},{key:"_updateCacheStats",value:function(e){this.stats.get("Tiles Loaded").incrementCount(),this.stats.get("Tiles In Memory").incrementCount(),this.gpuMemoryUsageInBytes+=e.content.byteLength||0,this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes}},{key:"_unloadTile",value:function(e){this.gpuMemoryUsageInBytes-=e.content&&e.content.byteLength||0,this.stats.get("Tiles In Memory").decrementCount(),this.stats.get("Tiles Unloaded").incrementCount(),this.stats.get("Tile Memory Use").count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(e),e.unloadContent()}},{key:"_destroy",value:function(){var e=[];for(this.root&&e.push(this.root);e.length>0;){var t,r=e.pop(),n=v(r.children);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push(i)}}catch(e){n.e(e)}finally{n.f()}this._destroyTile(r)}this.root=null}},{key:"_destroySubtree",value:function(e){var t=e,r=[];for(r.push(t);r.length>0;){var n,i=v((e=r.pop()).children);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o)}}catch(e){i.e(e)}finally{i.f()}e!==t&&this._destroyTile(e)}t.children=[]}},{key:"_destroyTile",value:function(e){this._cache.unloadTile(this,e),this._unloadTile(e),e.destroy()}},{key:"_initializeCesiumTileset",value:function(e){if(this.asset=e.asset,!this.asset)throw new Error("Tileset must have an asset property.");if("0.0"!==this.asset.version&&"1.0"!==this.asset.version)throw new Error("The tileset must be 3D Tiles version 0.0 or 1.0.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description||"",this.properties=e.properties,this.geometricError=e.geometricError,this._extensionsUsed=e.extensionsUsed,this.extras=e.extras}},{key:"_initializeI3STileset",value:function(){this.loadOptions.i3s&&"token"in this.loadOptions.i3s&&(this._queryParams.token=this.loadOptions.i3s.token)}}])&&O(t.prototype,r),m&&O(t,m),e}();t.default=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(204))&&n.__esModule?n:{default:n};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this._length=0}var t,r,n;return t=e,(r=[{key:"length",get:function(){return this._length}},{key:"add",value:function(e){var t=new i.default(e,this.tail,null);return this.tail?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),++this._length,t}},{key:"remove",value:function(e){e&&(e.previous&&e.next?(e.previous.next=e.next,e.next.previous=e.previous):e.previous?(e.previous.next=null,this.tail=e.previous):e.next?(e.next.previous=null,this.head=e.next):(this.head=null,this.tail=null),e.next=null,e.previous=null,--this._length)}},{key:"splice",value:function(e,t){e!==t&&(this.remove(t),this._insert(e,t))}},{key:"_insert",value:function(e,t){var r=e.next;e.next=t,this.tail===e?this.tail=t:r.previous=t,t.next=r,t.previous=e,++this._length}}])&&o(t.prototype,r),n&&o(t,n),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=t,this.previous=r,this.next=n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getZoomFromBoundingVolume=function(e){var t=e.halfAxes,r=e.radius,n=e.width,o=e.height;if(t){var a=function(e){e.getColumn(0,i);var t=e.getColumn(1),r=e.getColumn(2);return i.add(t).add(r).len()}(t);return Math.log2(6356752.314245179/a)}if(r)return Math.log2(6356752.314245179/r);if(o&&n){var u=Math.log2(6378137/n),s=Math.log2(6378137/o);return(u+s)/2}return 1};var n=r(5),i=new n.Vector3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDynamicScreenSpaceError=function(e,t){var r,l,f,h,d,p=t.camera,y=t.mapProjection,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=m.dynamicScreenSpaceErrorHeightFalloff,v=void 0===b?.25:b,_=m.dynamicScreenSpaceErrorDensity,g=void 0===_?.00278:_,E=e.contentBoundingVolume;if(E instanceof TileBoundingRegion)r=Cartesian3.normalize(p.positionWC,i),l=p.directionWC,f=p.positionCartographic.height,h=E.minimumHeight,d=E.maximumHeight;else{var O=n.Matrix4.inverseTransformation(e.computedTransform,a),T=y.ellipsoid,S=E.boundingVolume,R=n.Matrix4.multiplyByPoint(O,S.center,u);if(Cartesian3.magnitude(R)>T.minimumRadius){var w=Cartographic.fromCartesian(R,T,o);r=Cartesian3.normalize(p.positionWC,i),l=p.directionWC,f=p.positionCartographic.height,h=0,d=2*w.height}else{var A=n.Matrix4.multiplyByPoint(O,p.positionWC,s);if(r=Cartesian3.UNIT_Z,l=n.Matrix4.multiplyByPointAsVector(O,p.directionWC,c),l=Cartesian3.normalize(l,l),f=A.z,E instanceof TileOrientedBoundingBox){var P=e._header.boundingVolume.box[11];h=R.z-P,d=R.z+P}else if(E instanceof TileBoundingSphere){var M=S.radius;h=R.z-M,d=R.z+M}}}var I=v,x=h+(d-h)*I,C=d,j=(0,n.clamp)((f-x)/(C-x),0,1),D=Math.abs(Cartesian3.dot(l,r)),k=1-D;return g*(k*=1-j)},t.fog=l,t.getDynamicScreenSpaceError=f,t.getTiles3DScreenSpaceError=function(e,t,r){var n=e.tileset,i=e.parent&&e.parent.lodMetricValue||e.lodMetricValue,o=r?i:e.lodMetricValue;if(0===o)return 0;var a=Math.max(e._distanceToCamera,1e-7),u=t.height,s=t.sseDenominator,c=n.options.viewDistanceScale,l=o*u*(c||1)/(a*s);return l-=f(n,a)};var n=r(5),i=new n.Vector3,o=new n.Vector3,a=new n.Matrix4,u=new n.Vector3,s=new n.Vector3,c=new n.Vector3;function l(e,t){var r=e*t;return 1-Math.exp(-r*r)}function f(e,t){if(e.dynamicScreenSpaceError&&e.dynamicScreenSpaceErrorComputedDensity){var r=e.dynamicScreenSpaceErrorComputedDensity,n=e.dynamicScreenSpaceErrorFactor;return l(t,r)*n}return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get3dTilesOptions=function(e){return{assetGltfUpAxis:e.asset&&e.asset.gltfUpAxis||"Y"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(4);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i(this,e),this._array=new Array(t),this._map=new Map,this._length=t}var t,r,a;return t=e,(r=[{key:"length",get:function(){return this._length},set:function(e){this._length=e,e>this._array.length&&(this._array.length=e)}},{key:"values",get:function(){return this._array}},{key:"get",value:function(e){return(0,n.assert)(e<this._array.length),this._array[e]}},{key:"set",value:function(e,t){(0,n.assert)(e>=0),e>=this.length&&(this.length=e+1),this._map.has(this._array[e])&&this._map.delete(this._array[e]),this._array[e]=t,this._map.set(t,e)}},{key:"delete",value:function(e){var t=this._map.get(e);t>=0&&(this._array.splice(t,1),this._map.delete(e),this.length--)}},{key:"peek",value:function(){return this._array[this._length-1]}},{key:"push",value:function(e){if(!this._map.has(e)){var t=this.length++;this._array[t]=e,this._map.set(e,t)}}},{key:"pop",value:function(){var e=this._array[--this.length];return this._map.delete(e),e}},{key:"reserve",value:function(e){(0,n.assert)(e>=0),e>this._array.length&&(this._array.length=e)}},{key:"resize",value:function(e){(0,n.assert)(e>=0),this.length=e}},{key:"trim",value:function(e){null==e&&(e=this.length),this._array.length=e}},{key:"reset",value:function(){this._array=[],this._map=new Map,this._length=0}},{key:"find",value:function(e){return this._map.has(e)}}])&&o(t.prototype,r),a&&o(t,a),e}();t.default=a},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=r(32);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,r,n,i=l(f);function f(){return a(this,f),i.apply(this,arguments)}return t=f,(r=[{key:"compareDistanceToCamera",value:function(e,t){return 0===t._distanceToCamera&&0===e._distanceToCamera?t._centerZDepth-e._centerZDepth:t._distanceToCamera-e._distanceToCamera}},{key:"updateTileVisibility",value:function(e,t){if(s(h(f.prototype),"updateTileVisibility",this).call(this,e,t),e.isVisibleAndInRequestVolume){var r=e.children.length>0;if(e.hasTilesetContent&&r){var n=e.children[0];return this.updateTileVisibility(n,t),void(e._visible=n._visible)}if(this.meetsScreenSpaceErrorEarly(e,t))e._visible=!1;else{var i=e.refine===o.TILE_REFINEMENT.REPLACE,a=e._optimChildrenWithinParent===o.TILE3D_OPTIMIZATION_HINT.USE_OPTIMIZATION;i&&a&&r&&!this.anyChildrenVisible(e,t)&&(e._visible=!1)}}}},{key:"meetsScreenSpaceErrorEarly",value:function(e,t){var r=e.parent;return!(!r||r.hasTilesetContent||r.refine!==o.TILE_REFINEMENT.ADD||this.shouldRefine(e,t,!0))}}])&&u(t.prototype,r),n&&u(t,n),f}(((i=r(33))&&i.__esModule?i:{default:i}).default);t.default=d},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(17),o=c(r(33)),a=r(103),u=c(r(61)),s=c(r(211));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(p,e);var t,r,n,o,c,l=b(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),E(_(t=l.call(this,e)),"_tileManager",void 0),t._tileManager=new s.default,t}return t=p,(r=[{key:"shouldRefine",value:function(e,t){return e._lodJudge=(0,a.lodJudge)(e,t),"DIG"===e._lodJudge}},{key:"updateChildTiles",value:function(e,t){var r,n=this,i=e.header.children||[],o=e.children,a=e.tileset,u=d(i);try{var s=function(){var i=r.value,u="".concat(i.id,"-").concat(t.viewport.id),s=o&&o.find((function(e){return e.id===u}));if(s)s&&n.updateTile(s,t);else{var c=function(){return n._loadTile(i.id,a)};n._tileManager.find(u)?n._tileManager.update(u,t):(a.tileset.nodePages&&(c=function(){return a.tileset.nodePagesTile.formTileFromNodePages(i.id)}),n._tileManager.add(c,u,(function(t){return n._onTileLoad(t,e,u)}),t))}};for(u.s();!(r=u.n()).done;)s()}catch(e){u.e(e)}finally{u.f()}return!1}},{key:"_loadTile",value:(o=regeneratorRuntime.mark((function e(t,r){var n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.loader,o=r.getTileUrl("".concat(r.url,"/nodes/").concat(t)),a=f(f({},r.loadOptions),{},{i3s:f(f({},r.loadOptions.i3s),{},{isTileHeader:!0,loadContent:!1})}),e.next=5,(0,i.load)(o,n,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})),c=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){h(i,r,n,a,u,"next",e)}function u(e){h(i,r,n,a,u,"throw",e)}a(void 0)}))},function(e,t){return c.apply(this,arguments)})},{key:"_onTileLoad",value:function(e,t,r){var n=new u.default(t.tileset,e,t,r);t.children.push(n);var i=this._tileManager.find(n.id).frameState;this.updateTile(n,i),this._frameNumber===i.frameNumber&&this.executeTraversal(n,i)}}])&&y(t.prototype,r),n&&y(t,n),p}(o.default);t.default=O},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="REQUESTED",o="COMPLETED",a="ERROR",u=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(r="_statusMap")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this._statusMap={}}var t,r,u;return t=e,(r=[{key:"add",value:function(e,t,r,n){var u=this;this._statusMap[t]||(this._statusMap[t]={request:e,callback:r,key:t,frameState:n,status:i},e().then((function(e){u._statusMap[t].status=o,u._statusMap[t].callback(e,n)})).catch((function(e){u._statusMap[t].status=a,r(e)})))}},{key:"update",value:function(e,t){this._statusMap[e]&&(this._statusMap[e].frameState=t)}},{key:"find",value:function(e){return this._statusMap[e]}}])&&n(t.prototype,r),u&&n(t,u),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(17),i=r(96),o=r(213),a=r(98),u=r(44);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){h(o,n,i,a,u,"next",e)}function u(e){h(o,n,i,a,u,"throw",e)}a(void 0)}))}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"tileset",void 0),m(this,"nodePages",void 0),m(this,"nodesPerPage",void 0),m(this,"options",void 0),m(this,"lodSelectionMetricType",void 0),m(this,"textureDefinitionsSelectedFormats",void 0),this.tileset=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),this.nodesPerPage=t.nodePages.nodesPerPage,this.lodSelectionMetricType=t.nodePages.lodSelectionMetricType,this.options=r,this.nodePages=[],this.textureDefinitionsSelectedFormats=[],this._initSelectedFormatsForTextureDefinitions(t)}var t,r,l,f,h;return t=e,(r=[{key:"getNodeById",value:(h=d(regeneratorRuntime.mark((function e(t){var r,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Math.floor(t/this.nodesPerPage),this.nodePages[r]){e.next=7;break}return a=(0,u.getUrlWithToken)("".concat(this.tileset.url,"/nodepages/").concat(r),null===(i=this.options.i3s)||void 0===i?void 0:i.token),this.nodePages[r]=(0,n.load)(a,o.I3SNodePageLoader,this.options),e.next=6,this.nodePages[r];case 6:this.nodePages[r]=e.sent;case 7:if(!(this.nodePages[r]instanceof Promise)){e.next=11;break}return e.next=10,this.nodePages[r];case 10:this.nodePages[r]=e.sent;case 11:return s=t%this.nodesPerPage,e.abrupt("return",this.nodePages[r].nodes[s]);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"formTileFromNodePages",value:(f=d(regeneratorRuntime.mark((function e(t){var r,n,i,o,l,f,h,d,p,y,m,b,v,_,g,E,O,T,S,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNodeById(t);case 2:r=e.sent,n=[],i=c(r.children||[]),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=15;break}return l=o.value,e.next=11,this.getNodeById(l);case 11:f=e.sent,n.push({id:l,obb:f.obb});case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:return h=null,d=null,p=null,y="jpeg",m=[],b=!1,r&&r.mesh&&(v=r.mesh.geometry&&this._getContentUrl(r.mesh.geometry)||{url:null,isDracoGeometry:null},_=v.url,g=v.isDracoGeometry,h=_,b=g,E=this._getInformationFromMaterial(r.mesh.material),O=s(E,2),T=O[0],S=O[1],p=S,y=T.format||y,T.name&&(d="".concat(this.tileset.url,"/nodes/").concat(r.mesh.material.resource,"/textures/").concat(T.name)),this.tileset.attributeStorageInfo&&(m=(0,u.generateTilesetAttributeUrls)(this.tileset,r.mesh.attribute.resource))),R=this._getLodSelection(r),e.abrupt("return",(0,a.normalizeTileNonUrlData)({id:t,lodSelection:R,obb:r.obb,contentUrl:h,textureUrl:d,attributeUrls:m,materialDefinition:p,textureFormat:y,children:n,isDracoGeometry:b}));case 32:case"end":return e.stop()}}),e,this,[[5,17,20,23]])}))),function(e){return f.apply(this,arguments)})},{key:"_getContentUrl",value:function(e){var t={},r=this.tileset.geometryDefinitions[e.definition],n=-1;if(this.options.i3s&&this.options.i3s.useDracoGeometry&&(n=r.geometryBuffers.findIndex((function(e){return e.compressedAttributes&&"draco"===e.compressedAttributes.encoding}))),-1===n&&(n=r.geometryBuffers.findIndex((function(e){return!e.compressedAttributes}))),-1!==n){var i=Boolean(r.geometryBuffers[n].compressedAttributes);t={url:"".concat(this.tileset.url,"/nodes/").concat(e.resource,"/geometries/").concat(n),isDracoGeometry:i}}return t}},{key:"_getLodSelection",value:function(e){var t=[];return"maxScreenThresholdSQ"===this.lodSelectionMetricType&&t.push({metricType:"maxScreenThreshold",maxError:Math.sqrt(e.lodThreshold/(.25*Math.PI))}),t.push({metricType:this.lodSelectionMetricType,maxError:e.lodThreshold}),t}},{key:"_getInformationFromMaterial",value:function(e){var t={name:null,format:null};if(e){var r=this.tileset.materialDefinitions[e.definition],n=r&&r.pbrMetallicRoughness&&r.pbrMetallicRoughness.baseColorTexture&&r.pbrMetallicRoughness.baseColorTexture.textureSetDefinitionId;return n||0===n?[this.textureDefinitionsSelectedFormats[n]||t,r]:[t,r]}return[t,null]}},{key:"_initSelectedFormatsForTextureDefinitions",value:function(e){this.textureDefinitionsSelectedFormats=[];var t,r=this._getSupportedTextureFormats(),n=c(e.textureSetDefinitions||[]);try{for(n.s();!(t=n.n()).done;){var i,o=t.value,a=o&&o.formats||[],u=null,s=c(r);try{var l=function(){var e=i.value,t=a.find((function(t){return t.format===e}));if(t)return u=t,"break"};for(s.s();!(i=s.n()).done&&"break"!==l(););}catch(e){s.e(e)}finally{s.f()}this.textureDefinitionsSelectedFormats.push(u)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_getSupportedTextureFormats",value:function(){var e=[];if(!this.options.i3s||this.options.i3s.useCompressedTextures){var t=(0,i.getSupportedGPUTextureFormats)();t.has("etc2")&&e.push("ktx-etc2"),t.has("dxt")&&e.push("dds")}return e.push("jpg"),e.push("png"),e}}])&&y(t.prototype,r),l&&y(t,l),e}();t.default=b},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,s,"next",e)}function s(e){n(a,i,o,u,s,"throw",e)}u(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.I3SNodePageLoader=void 0;function o(e){return a.apply(this,arguments)}function a(){return(a=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse((new TextDecoder).decode(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u={name:"I3S Node Page",id:"i3s-node-page",module:"i3s",version:"3.0.12",mimeTypes:["application/json"],parse:function(e){return s.apply(this,arguments)},extensions:["json"],options:{}};function s(){return(s=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o(t),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.I3SNodePageLoader=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadFeatureAttributes=function(e,t){return d.apply(this,arguments)},t.I3SAttributeLoader=void 0;var n=r(17),i=r(215),o=r(44);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){c(o,n,i,a,u,"next",e)}function u(e){c(o,n,i,a,u,"throw",e)}a(void 0)}))}}var f={name:"I3S Attribute",id:"i3s-attribute",module:"i3s",version:"3.0.12",mimeTypes:["application/binary"],parse:function(e,t){return h.apply(this,arguments)},extensions:["bin"],options:{},binary:!0};function h(){return(h=l(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,i.parseI3STileAttribute)(t,r),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=l(regeneratorRuntime.mark((function e(t,r){var i,a,s,c,l,h,d,b,v,_,g,E,O,T=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=T.length>2&&void 0!==T[2]?T[2]:{},a=p(t),s=a.attributeStorageInfo,c=a.attributeUrls,s&&c&&r){e.next=4;break}return e.abrupt("return",null);case 4:for(l=[],h=[],d=0;d<s.length;d++)v=(0,o.getUrlWithToken)(c[d],null===(b=i.i3s)||void 0===b?void 0:b.token),_=s[d].name,g=y(s[d]),E=u(u({},i),{},{attributeName:_,attributeType:g}),O=(0,n.load)(v,f,E),h.push(O);return e.prev=7,e.next=10,Promise.allSettled(h);case 10:l=e.sent,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:if(l.length){e.next=17;break}return e.abrupt("return",null);case 17:return e.abrupt("return",m(l,s,r));case 18:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)}function p(e){return{attributeStorageInfo:e&&e.tileset&&e.tileset.tileset&&e.tileset.tileset.attributeStorageInfo,attributeUrls:e&&e.header&&e.header.attributeUrls}}function y(e){return e.hasOwnProperty("objectIds")?"Oid32":e.hasOwnProperty("attributeValues")?e.attributeValues.valueType:""}function m(e,t,r){var n=e.find((function(e){return e.value.OBJECTID}));if(!n)return null;var i=n.value.OBJECTID.indexOf(r);return i<0?null:function(e,t,r){for(var n={},i=0;i<r.length;i++){var o=r[i].name,a=b(e,i,o);n[o]=v(a,t)}return n}(e,i,t)}function b(e,t,r){var n=e[t];return"rejected"===n.status?null:n.value[r]}function v(e,t){return e&&e[t]?e[t].toString().replace(/\u0000/g,"").trim():""}t.I3SAttributeLoader=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseI3STileAttribute=function(e,t){return c.apply(this,arguments)};var n=r(97);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){u(o,n,i,a,s,"next",e)}function s(e){u(o,n,i,a,s,"throw",e)}a(void 0)}))}}function c(){return(c=s(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.attributeName,o=r.attributeType,n){e.next=3;break}return e.abrupt("return",{});case 3:return e.abrupt("return",i({},n,o?l(o,t):null));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){switch(e){case n.STRING_ATTRIBUTE_TYPE:return function(e){var t=[];try{var r,n=new DataView(e,0,4).getUint32(0,!0),i=new Uint32Array(e,8,n),a=8+4*n,u=o(i);try{for(u.s();!(r=u.n()).done;){var s=r.value,c=new TextDecoder("utf-8"),l=new Uint8Array(e,a,s);t.push(c.decode(l)),a+=s}}catch(e){u.e(e)}finally{u.f()}}catch(e){console.error("Parse string attribute error: ",e.message)}return t}(t);case n.OBJECT_ID_ATTRIBUTE_TYPE:return f(t);case n.FLOAT_64_TYPE:return function(e){return new Float64Array(e,8)}(t);default:return f(t)}}function f(e){return new Uint32Array(e,4)}},function(e,t,r){"use strict";r.r(t),r.d(t,"VERSION",(function(){return i})),r.d(t,"self",(function(){return y.e})),r.d(t,"window",(function(){return y.f})),r.d(t,"global",(function(){return y.c})),r.d(t,"document",(function(){return y.b})),r.d(t,"process",(function(){return y.d})),r.d(t,"console",(function(){return y.a})),r.d(t,"isBrowser",(function(){return n.a})),r.d(t,"isBrowserMainThread",(function(){return n.b})),r.d(t,"getBrowser",(function(){return P})),r.d(t,"isMobile",(function(){return A})),r.d(t,"isElectron",(function(){return w.a})),r.d(t,"assert",(function(){return p})),r.d(t,"Log",(function(){return T})),r.d(t,"COLOR",(function(){return l})),r.d(t,"addColor",(function(){return h})),r.d(t,"leftPad",(function(){return u})),r.d(t,"rightPad",(function(){return s})),r.d(t,"autobind",(function(){return d})),r.d(t,"LocalStorage",(function(){return a})),r.d(t,"getHiResTimestamp",(function(){return m})),r.d(t,"Stats",(function(){return M.Stats})),r.d(t,"Stat",(function(){return M.Stat}));var n=r(21);const i="3.0.12",o=Object(n.a)();class a{constructor(e,t,r="sessionStorage"){this.storage=function(e){try{const t=window[e],r="__storage_test__";return t.setItem(r,r),t.removeItem(r),t}catch(e){return null}}(r),this.id=e,this.config={},Object.assign(this.config,t),this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){return this.config={},this.updateConfiguration(e)}updateConfiguration(e){if(Object.assign(this.config,e),this.storage){const e=JSON.stringify(this.config);this.storage.setItem(this.id,e)}return this}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function u(e,t=8){const r=Math.max(t-e.length,0);return"".concat(" ".repeat(r)).concat(e)}function s(e,t=8){const r=Math.max(t-e.length,0);return"".concat(e).concat(" ".repeat(r))}function c(e,t,r,n=600){const i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>n&&(r=Math.min(r,n/e.width));const o=e.width*r,a=e.height*r,u=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),u]}const l={BLACK:30,RED:31,GREEN:32,YELLOW:33,BLUE:34,MAGENTA:35,CYAN:36,WHITE:37,BRIGHT_BLACK:90,BRIGHT_RED:91,BRIGHT_GREEN:92,BRIGHT_YELLOW:93,BRIGHT_BLUE:94,BRIGHT_MAGENTA:95,BRIGHT_CYAN:96,BRIGHT_WHITE:97};function f(e){return"string"==typeof e?l[e.toUpperCase()]||l.WHITE:e}function h(e,t,r){return o||"string"!=typeof e||(t&&(t=f(t),e="[".concat(t,"m").concat(e,"[39m")),r&&(t=f(r),e="[".concat(r+10,"m").concat(e,"[49m"))),e}function d(e,t=["constructor"]){const r=Object.getPrototypeOf(e),n=Object.getOwnPropertyNames(r);for(const r of n)"function"==typeof e[r]&&(t.find(e=>r===e)||(e[r]=e[r].bind(e)))}function p(e,t){if(!e)throw new Error(t||"Assertion failed")}var y=r(7);function m(){let e;if(o&&y.f.performance)e=y.f.performance.now();else if(y.d.hrtime){const t=y.d.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}const b={debug:o&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},v={enabled:!0,level:0};function _(){}const g={},E={once:!0};function O(e){for(const t in e)for(const r in e[t])return r||"untitled";return"empty"}class T{constructor({id:e}={id:""}){this.id=e,this.VERSION=i,this._startTs=m(),this._deltaTs=m(),this.LOG_THROTTLE_TIMEOUT=0,this._storage=new a("__probe-".concat(this.id,"__"),v),this.userData={},this.timeStamp("".concat(this.id," started")),d(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((m()-this._startTs).toPrecision(10))}getDelta(){return Number((m()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.updateConfiguration({enabled:e}),this}setLevel(e){return this._storage.updateConfiguration({level:e}),this}assert(e,t){p(e,t)}warn(e){return this._getLogFunction(0,e,b.warn,arguments,E)}error(e){return this._getLogFunction(0,e,b.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,b.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,b.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){return this._getLogFunction(e,t,b.debug||b.info,arguments,E)}table(e,t,r){return t?this._getLogFunction(e,t,console.table||_,r&&[r],{tag:O(t)}):_}image({logLevel:e,priority:t,image:n,message:i="",scale:a=1}){return this._shouldLog(e||t)?o?function({image:e,message:t="",scale:r=1}){if("string"==typeof e){const n=new Image;return n.onload=()=>{const e=c(n,t,r);console.log(...e)},n.src=e,_}const n=e.nodeName||"";if("img"===n.toLowerCase())return console.log(...c(e,t,r)),_;if("canvas"===n.toLowerCase()){const n=new Image;return n.onload=()=>console.log(...c(n,t,r)),n.src=e.toDataURL(),_}return _}({image:n,message:i,scale:a}):function({image:e,message:t="",scale:n=1}){let i=null;try{i=r(136)}catch(e){}if(i)return()=>i(e,{fit:"box",width:"".concat(Math.round(80*n),"%")}).then(e=>console.log(e));return _}({image:n,message:i,scale:a}):_}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}get(e){return this._storage.config[e]}set(e,t){this._storage.updateConfiguration({[e]:t})}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||_)}group(e,t,r={collapsed:!1}){r=R({logLevel:e,message:t,opts:r});const{collapsed:n}=r;return r.method=(n?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t,r={}){return this.group(e,t,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||_)}withGroup(e,t,r){this.group(e,t)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=S(e)}_getLogFunction(e,t,r,n=[],i){if(this._shouldLog(e)){i=R({logLevel:e,message:t,args:n,opts:i}),p(r=r||i.method),i.total=this.getTotal(),i.delta=this.getDelta(),this._deltaTs=m();const o=i.tag||i.message;if(i.once){if(g[o])return _;g[o]=m()}return t=function(e,t,r){if("string"==typeof t){const n=r.time?u(function(e){let t;return t=e<10?"".concat(e.toFixed(2),"ms"):e<100?"".concat(e.toFixed(1),"ms"):e<1e3?"".concat(e.toFixed(0),"ms"):"".concat((e/1e3).toFixed(2),"s"),t}(r.total)):"";t=h(t=r.time?"".concat(e,": ").concat(n,"  ").concat(t):"".concat(e,": ").concat(t),r.color,r.background)}return t}(this.id,i.message,i),r.bind(console,t,...i.args)}return _}}function S(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return p(Number.isFinite(t)&&t>=0),t}function R(e){const{logLevel:t,message:r}=e;e.logLevel=S(t);const n=e.args?Array.from(e.args):[];for(;n.length&&n.shift()!==r;);switch(e.args=n,typeof t){case"string":case"function":void 0!==r&&n.unshift(r),e.message=t;break;case"object":Object.assign(e,t)}"function"==typeof e.message&&(e.message=e.message());const i=typeof e.message;return p("string"===i||"object"===i),Object.assign(e,e.opts)}T.VERSION=i;var w=r(26);function A(){return void 0!==y.f.orientation}function P(e){if(!e&&!Object(n.a)())return"Node";if(Object(w.a)(e))return"Electron";const t="undefined"!=typeof navigator?navigator:{},r=e||t.userAgent||"";if(r.indexOf("Edge")>-1)return"Edge";const i=-1!==r.indexOf("MSIE "),o=-1!==r.indexOf("Trident/");return i||o?"IE":y.f.chrome?"Chrome":y.f.safari?"Safari":y.f.mozInnerScreenX?"Firefox":"Unknown"}var M=r(34);t.default=new T({id:"probe.gl"})}]);
//# sourceMappingURL=dist.es5.min.js.map