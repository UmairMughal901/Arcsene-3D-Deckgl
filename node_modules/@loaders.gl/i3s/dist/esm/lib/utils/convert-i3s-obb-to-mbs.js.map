{"version":3,"sources":["../../../../src/lib/utils/convert-i3s-obb-to-mbs.ts"],"names":["BoundingSphere","Ellipsoid","convertI3SObbToMbs","obb","halfSize","centerCartesian","WGS84","cartographicToCartesian","center","sphere","fromCornerPoints","radius"],"mappings":"AAAA,SAAQA,cAAR,QAA6B,kBAA7B;AACA,SAAQC,SAAR,QAAwB,qBAAxB;AAEA,OAAO,SAASC,kBAAT,CAA4BC,GAA5B,EAAiC;AACtC,QAAMC,QAAQ,GAAGD,GAAG,CAACC,QAArB;AACA,QAAMC,eAAe,GAAGJ,SAAS,CAACK,KAAV,CAAgBC,uBAAhB,CAAwCJ,GAAG,CAACK,MAA5C,CAAxB;AACA,QAAMC,MAAM,GAAG,IAAIT,cAAJ,GAAqBU,gBAArB,CACb,CACEL,eAAe,CAAC,CAAD,CAAf,GAAqBD,QAAQ,CAAC,CAAD,CAD/B,EAEEC,eAAe,CAAC,CAAD,CAAf,GAAqBD,QAAQ,CAAC,CAAD,CAF/B,EAGEC,eAAe,CAAC,CAAD,CAAf,GAAqBD,QAAQ,CAAC,CAAD,CAH/B,CADa,EAMb,CACEC,eAAe,CAAC,CAAD,CAAf,GAAqBD,QAAQ,CAAC,CAAD,CAD/B,EAEEC,eAAe,CAAC,CAAD,CAAf,GAAqBD,QAAQ,CAAC,CAAD,CAF/B,EAGEC,eAAe,CAAC,CAAD,CAAf,GAAqBD,QAAQ,CAAC,CAAD,CAH/B,CANa,CAAf;AAYA,SAAO,CAAC,GAAGD,GAAG,CAACK,MAAR,EAAgBC,MAAM,CAACE,MAAvB,CAAP;AACD","sourcesContent":["import {BoundingSphere} from '@math.gl/culling';\nimport {Ellipsoid} from '@math.gl/geospatial';\n\nexport function convertI3SObbToMbs(obb) {\n  const halfSize = obb.halfSize;\n  const centerCartesian = Ellipsoid.WGS84.cartographicToCartesian(obb.center);\n  const sphere = new BoundingSphere().fromCornerPoints(\n    [\n      centerCartesian[0] - halfSize[0],\n      centerCartesian[1] - halfSize[1],\n      centerCartesian[2] - halfSize[2]\n    ],\n    [\n      centerCartesian[0] + halfSize[0],\n      centerCartesian[1] + halfSize[1],\n      centerCartesian[2] + halfSize[2]\n    ]\n  );\n  return [...obb.center, sphere.radius];\n}\n"],"file":"convert-i3s-obb-to-mbs.js"}